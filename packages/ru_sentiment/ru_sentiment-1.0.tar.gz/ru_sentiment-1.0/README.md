# RuSentiment
_Short Russian texts sentiment classification_

–ù–µ–π—Ä–æ—Å–µ—Ç–∏, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–ª–∏ –æ—Ç–∑—ã–≤—ã) –ø–æ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

–ë–µ—Ä—Ç-–º–æ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω—ã –Ω–∞¬†–æ—Å–Ω–æ–≤–µ [RuBert Conversational](https://huggingface.co/DeepPavlov/rubert-base-cased-conversational). –ú–∞–ª–∞—è –º–æ–¥–µ–ª—å¬†‚Äî LSTM —Å¬†–ø–æ–ª–Ω–æ—Å–≤—è–∑–Ω—ã–º —Å–ª–æ–µ–º. –ü–æ–ª—É—á–µ–Ω–∞ –≤¬†—Ö–æ–¥–µ knowledge distillation.

## –ú–æ–¥–µ–ª–∏

–î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä—É—é –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

* `bert` ‚Äî –û–±—â–∞—è –ë–µ—Ä—Ç-–º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –≤—Å–µ—Ö –∫–æ—Ä–ø—É—Å–∞—Ö.
* `tiny` ‚Äî –ú–∞–ª–∞—è –º–æ–¥–µ–ª—å, –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –≤ —Ö–æ–¥–µ –¥–∏—Å—Ç–∏–ª–ª—è—Ü–∏–∏ –Ω–∞ –≤—Å–µ—Ö –∫–æ—Ä–ø—É—Å–∞—Ö —Ç–µ–∫—Å—Ç–æ–≤.
* `bert_med` ‚Äî –ë–µ—Ä—Ç-–º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –∫–æ—Ä–ø—É—Å–µ **–û—Ç–∑—ã–≤—ã –æ –º–µ–¥—É—á—Ä–µ–∂–¥–µ–Ω–∏—è—Ö**.
* `bert_reviews` ‚Äî –ë–µ—Ä—Ç-–º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –∫–æ—Ä–ø—É—Å–µ **RuReviews**.
* `bert_sentiment` ‚Äî –ë–µ—Ä—Ç-–º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –∫–æ—Ä–ø—É—Å–µ **RuSentiment**.
* `bert_tweet` ‚Äî –ë–µ—Ä—Ç-–º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –∫–æ—Ä–ø—É—Å–µ **RuTweetCorp**. (–¢–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å—ã).

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
* –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π: 0
* –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π: 1
* –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π: 2

## –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–µ–π

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –Ω–∞ 2 CPU. –†–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏: 35.180 –ø—Ä–∏–º–µ—Ä–æ–≤. –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞: 2.000 –ø—Ä–∏–º–µ—Ä–æ–≤.

| –ú–æ–¥–µ–ª—å | weighted F1 | Accuracy | –û–±—Ä–∞–±–æ—Ç–∫–∞, —Ç–µ–∫—Å—Ç—ã/—Å–µ–∫. |
|:-:|:-:|:-:|:-:|
|–ë–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å|0.9039|0.9038|4.71|
|–ú–∞–ª–∞—è –º–æ–¥–µ–ª—å|0.8753|0.8756|613.96|
|:-:|:-:|:-:|:-:|
|`bert_med`|0.9195|0.9465|--|
|`bert_reviews`|0.7750|0.8522|--|
|`bert_sentiment`|0.8056|0.8705|--|
|`bert_tweet`|0.9998|0.9999|--|

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```
pip install ru_sentiment
```

–õ–∏–±–æ:

```
git clone https://github.com/blanchefort/RuSentiment.git
pip install -r RuSentiment/ru_sentiment/requirements.txt
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
from ru_sentiment import SentimentClassifier

target_names = ['neutral', 'positive', 'negative']
texts = ['–ï—â–µ –Ω–µ–º–Ω–æ–≥–æ –∫–∞—Ä–µ–ª—å—Å–∫–∏—Ö –æ—Å–µ–Ω–Ω–∏—Ö –∫—Ä–∞—Å–æ—Ç.',
         '–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–¥—É–º—ã–≤–∞–ª—Å—è –æ —Ç–æ–º, –æ—Ç–∫—É–¥–∞ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∞–ø–∞—Ç–∏—è, –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã –≤–∞–∂–Ω—ã—Ö –¥–µ–ª –Ω–∞ –ø–æ—Ç–æ–º –∏ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –Ω–µ–∂–µ–ª–∞–Ω–∏–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–º–∏ –¥–µ–ª–∞–º–∏?',
         '–ù–∞–ª–∏–≤–∞–π–∫–∏, –ª–æ–º–±–∞—Ä–¥—ã –∏ –º–∏–∫—Ä–æ–∑–∞–π–º—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥—É - –ø–µ—Ä–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –¥–µ–ø—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ —Å –Ω–∏—â–∏–º –Ω–∞—Å–µ–ª–µ–Ω–∏–µ–º.',
         '–ì–æ—Ä–∂—É—Å—åüî•üî•üî•üëèüëèüëè–•–æ—Ç—å –≥–¥–µ-—Ç–æ –º—ã –ª–∏–¥–∏—Ä—É–µ–ºüòéüòéüòéüëçüëçüëç–î–∞–π –±–æ–≥ –∑–∞–Ω—è—Ç—å –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ –≤ —ç—Ç–æ–º —Ä–µ–π—Ç–∏–Ω–≥–µüí™üí™üí™üòçüòçüòç',
         ]

# 1. bert
sent_cls = SentimentClassifier(model_type='bert', model_path='models')

results, _ = sent_cls.predict(texts=texts, max_len=70)

for t, l in zip(texts, results):
    print(target_names[l], ':', t)
    print('-'*15)

# 2. tiny
sent_cls = SentimentClassifier(model_type='tiny', model_path='models')

results, _ = sent_cls.predict(texts=texts, max_len=200)

for t, l in zip(texts, results):
    print(target_names[l], ':', t)
    print('-'*15)
```

## –ö–æ—Ä–ø—É—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–¥–µ–ª–∏ –æ–±—É—á–∞–ª–∏—Å—å

–î–ª—è –æ–±—É—á–µ–Ω–∏—è –±—ã–ª —Å–æ–±—Ä–∞–Ω –±–æ–ª—å—à–æ–π –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ—Ä–ø—É—Å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤. –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏ —Å–æ—Å—Ç–∞–≤–∏–ª 351.797 —Ç–µ–∫—Å—Ç–æ–≤. –†–∞–∑–º–µ—Ä —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–∏ ‚Äî 10%.

**[RuTweetCorp](https://study.mokoron.com/)**

> –†—É–±—Ü–æ–≤–∞ –Æ. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –∫–æ—Ä–ø—É—Å–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ (–ø–æ—Å—Ç–æ–≤ –º–∏–∫—Ä–æ–±–ª–æ–≥–æ–≤) –¥–ª—è –∑–∞–¥–∞—á–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Ç–æ–Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ //–ò–Ω–∂–µ–Ω–µ—Ä–∏—è –∑–Ω–∞–Ω–∏–π –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ–±–∞. ‚Äì 2012. ‚Äì –¢. 1. ‚Äì –°. 109-116.

**[RuReviews](https://github.com/sismetanin/rureviews)**

> RuReviews: An Automatically Annotated Sentiment Analysis Dataset for Product Reviews in Russian.

**[RuSentiment](http://text-machine.cs.uml.edu/projects/rusentiment/)**

> A. Rogers A. Romanov A. Rumshisky S. Volkova M. Gronas A. Gribov RuSentiment: An Enriched Sentiment Analysis Dataset for Social Media in Russian. Proceedings of COLING 2018.

**[–û—Ç–∑—ã–≤—ã –æ –º–µ–¥—É—á—Ä–µ–∂–¥–µ–Ω–∏—è—Ö](https://github.com/blanchefort/datasets/tree/master/medical_comments)**

> –î–∞—Ç–∞—Å–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—Ç–∑—ã–≤—ã –æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏—è—Ö. –î–∞—Ç–∞—Å–µ—Ç —Å–æ–±—Ä–∞–Ω –≤ –º–∞–µ 2019 –≥–æ–¥–∞ —Å —Å–∞–π—Ç–∞ prodoctorov.ru
