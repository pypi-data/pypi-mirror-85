(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[9404,5588],{9404:(t,e,o)=>{"use strict";o.r(e);o.d(e,{ITooltipManager:()=>n,Tooltip:()=>m});var s=o(52191);const n=new s.Token("@jupyterlab/tooltip:ITooltipManager");var i=o(86992);var r=o(90265);var d=o(21644);const c="jp-Tooltip";const a="jp-Tooltip-content";const h="jp-mod-tooltip";const l=20;const u=250;const p=true;class m extends i.Widget{constructor(t){super();this._content=null;const e=this.layout=new i.PanelLayout;const o=new d.MimeModel({data:t.bundle});this.anchor=t.anchor;this.addClass(c);this.hide();this._editor=t.editor;this._rendermime=t.rendermime;const s=this._rendermime.preferredMimeType(t.bundle,"any");if(!s){return}this._content=this._rendermime.createRenderer(s);void this._content.renderModel(o);this._content.addClass(a);e.addWidget(this._content)}dispose(){if(this._content){this._content.dispose();this._content=null}super.dispose()}handleEvent(t){if(this.isHidden||this.isDisposed){return}const{node:e}=this;const o=t.target;switch(t.type){case"keydown":if(e.contains(o)){return}this.dispose();break;case"mousedown":if(e.contains(o)){this.activate();return}this.dispose();break;case"scroll":this._evtScroll(t);break;default:break}}onActivateRequest(t){this.node.tabIndex=-1;this.node.focus()}onAfterAttach(t){document.body.classList.add(h);document.addEventListener("keydown",this,p);document.addEventListener("mousedown",this,p);this.anchor.node.addEventListener("scroll",this,p);this.update()}onBeforeDetach(t){document.body.classList.remove(h);document.removeEventListener("keydown",this,p);document.removeEventListener("mousedown",this,p);this.anchor.node.removeEventListener("scroll",this,p)}onUpdateRequest(t){if(this.isHidden){this.show()}this._setGeometry();super.onUpdateRequest(t)}_evtScroll(t){if(this.node.contains(t.target)){return}this.update()}_setGeometry(){const t=this._editor;const e=t.getCursorPosition();const o=t.getOffsetAt(e);const s=t.getLine(e.line);if(!s){return}const n=s.substring(0,o).split(/\W+/);const i=n[n.length-1];const d=i?o-i.length:o;const c=t.getPositionAt(d);if(!c){return}const a=t.getCoordinateForPosition(c);const h=window.getComputedStyle(this.node);const p=parseInt(h.paddingLeft,10)||0;r.HoverBox.setGeometry({anchor:a,host:t.host,maxHeight:u,minHeight:l,node:this.node,offset:{horizontal:-1*p},privilege:"below",style:h})}}}}]);