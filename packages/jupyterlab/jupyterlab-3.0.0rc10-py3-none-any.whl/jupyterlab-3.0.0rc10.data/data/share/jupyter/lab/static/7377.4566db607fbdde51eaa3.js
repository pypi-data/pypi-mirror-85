(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[7377],{47377:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ITableOfContentsRegistry:()=>r,TableOfContents:()=>p,TableOfContentsRegistry:()=>o,createLatexGenerator:()=>C,createMarkdownGenerator:()=>L,createNotebookGenerator:()=>ee,createPythonGenerator:()=>se,createRenderedMarkdownGenerator:()=>H});var l=n(52191);var s=n(63117);const r=new l.Token("@jupyterlab/toc:ITableOfContentsRegistry");class o{constructor(){this._collapseChanged=new s.Signal(this);this._generators=[]}find(e){for(let t=0;t<this._generators.length;t++){const n=this._generators[t];if(n.tracker.has(e)){if(n.isEnabled&&!n.isEnabled(e)){continue}return n}}}add(e){if(e.collapseChanged){e.collapseChanged.connect(((e,t)=>{this._collapseChanged.emit(t)}))}this._generators.push(e)}get collapseChanged(){return this._collapseChanged}}(function(e){class t{}e.IOptionsManager=t})(o||(o={}));var a=n(77865);var i=n(21704);var c=n(66995);var d=n(21157);var h=n(86992);class u extends a.Component{render(){const{heading:e}=this.props;const t=t=>{t.preventDefault();t.stopPropagation();e.onClick()};let n=this.props.itemRenderer(e);return n&&a.createElement("li",{onClick:t},n)}}class g extends a.Component{render(){const e=this.props.toolbar;let t=0;let n=this.props.toc.map((e=>a.createElement(u,{heading:e,itemRenderer:this.props.itemRenderer,key:`${e.text}-${e.level}-${t++}`})));return a.createElement("div",{className:"jp-TableOfContents"},a.createElement("header",null,this.props.title),e&&a.createElement(e,null),a.createElement("ul",{className:"jp-TableOfContents-content"},n))}}const m=1e3;class p extends h.Widget{constructor(e){super();this.translator=e.translator||d.nullTranslator;this._docmanager=e.docmanager;this._rendermime=e.rendermime;this._trans=this.translator.load("jupyterlab")}get current(){return this._current}set current(e){if(e&&this._current&&this._current.widget===e.widget&&this._current.generator===e.generator){return}this._current=e;if(this.generator){if(this.generator.toolbarGenerator){this._toolbar=this.generator.toolbarGenerator()}else{this._toolbar=null}}if(this._monitor){this._monitor.dispose();this._monitor=null}if(!this._current){this.update();return}const t=this._docmanager.contextForWidget(this._current.widget);if(!t||!t.model){throw Error("Could not find a context for the Table of Contents")}this._monitor=new c.ActivityMonitor({signal:t.model.contentChanged,timeout:m});this._monitor.activityStopped.connect(this.update,this);this.update()}get generator(){if(this._current){return this._current.generator}return null}onUpdateRequest(e){let t=[];let n=this._trans.__("Table of Contents");if(this._current){t=this._current.generator.generate(this._current.widget);const e=this._docmanager.contextForWidget(this._current.widget);if(e){n=c.PathExt.basename(e.localPath)}}let l=e=>a.createElement("span",null,e.text);if(this._current&&this._current.generator.itemRenderer){l=this._current.generator.itemRenderer}let s=a.createElement("div",{className:"jp-TableOfContents"},a.createElement("header",null,n));if(this._current&&this._current.generator){s=a.createElement(g,{title:n,toc:t,generator:this.generator,itemRenderer:l,toolbar:this._toolbar})}i.render(s,this.node,(()=>{if(this._current&&this._current.generator.usesLatex===true&&this._rendermime.latexTypesetter){this._rendermime.latexTypesetter.typeset(this.node)}}))}onAfterShow(e){this.update()}}const f={part:1,chapter:1,section:1,subsection:2,subsubsection:3,paragraph:4,subparagraph:5};function b(e){for(let t=0;t<e.length;t++){e[t]=[e[t],t]}return e}function w(e){let t=e.content.model.mimeType;return t==="text/x-latex"||t==="text/x-stex"}function _(e){let t=e.content.model.value.text.split("\n");t=b(t);let n=[];for(let s=0;s<t.length;s++){const e=/^\s*\\(section|subsection|subsubsection){(.+)}/;const r=t[s][0].match(e);if(r){n.push({text:r[2],level:f[r[1]],onClick:l(t[s][1])})}}return n;function l(t){return()=>{e.content.editor.setCursorPosition({line:t,column:0})}}}function C(e){return{tracker:e,usesLatex:true,isEnabled:w,generate:_}}function v(e){return e==="text/x-ipythongfm"||e==="text/x-markdown"||e==="text/x-gfm"||e==="text/markdown"}class T extends o.IOptionsManager{constructor(e,t){super();this._numbering=t.numbering;this._widget=e;this.translator=t.translator||d.nullTranslator;this.sanitizer=t.sanitizer}set numbering(e){this._numbering=e;this._widget.update()}get numbering(){return this._numbering}initializeOptions(e){this._numbering=e;this._widget.update()}}const x={allowedTags:["p","blockquote","b","i","strong","em","strike","code","br","div","span","pre","del"],allowedAttributes:{code:["class"],span:["class"],div:["class"],p:["class"],pre:["class"]}};function k(e,t){let n="toc-level-size-"+t.level;let l=t.numbering&&e.numbering?t.numbering:"";let s;if(t.html){let r=e.sanitizer.sanitize(t.html,x);s=a.createElement("span",{dangerouslySetInnerHTML:{__html:l+r},className:"toc-markdown-cell "+n})}else{s=a.createElement("span",{className:n}," ",l+t.text)}return s}var E=n(29103);function y(e){return class t extends a.Component{constructor(t){super(t);this.state={numbering:false};e.initializeOptions(false);this._trans=e.translator.load("jupyterlab")}render(){const t=()=>{e.numbering=!e.numbering;this.setState({numbering:e.numbering})};const n=a.createElement("div",{onClick:e=>t(),role:"text","aria-label":this._trans.__("Toggle Auto-Numbering"),title:this._trans.__("Toggle Auto-Numbering"),className:this.state.numbering?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(E.numberingIcon.react,null));return a.createElement("div",null,a.createElement("div",{className:"toc-toolbar"},n))}}}const N=6;function M(e,t){for(let n=t+1;n<=N;n++){if(e[n]!==void 0){e[n]=void 0}}if(e[t]===void 0){e[t]=1}else{e[t]+=1}return e}function R(e,t){if(e===null){return}let n="";e=M(e,t);if(t>=1){for(let l=1;l<=t;l++){n+=(e[l]===void 0?"0":e[l])+"."}n+=" "}return n}function S(e){const t=e.split("\n");let n=t[0].match(/^([#]{1,6}) (.*)/);if(n){return{text:n[2].replace(/\[(.+)\]\(.+\)/g,"$1"),level:n[1].length,type:"markdown"}}if(t.length>1){n=t[1].match(/^([=]{2,}|[-]{2,})/);if(n){return{text:t[0].replace(/\[(.+)\]\(.+\)/g,"$1"),level:n[1][0]==="="?1:2,type:"markdown-alt"}}}n=t[0].match(/<h([1-6]).*>(.*)<\/h\1>/i);if(n){return{text:n[2],level:parseInt(n[1],10),type:"html"}}return null}function I(e,t,n){const l=e.split("\n");let s=[];let r;for(let o=0;o<l.length;o++){let e=l[o];if(e.indexOf("```")===0){r=!r}if(r){continue}e+=l[o+1]?"\n"+l[o+1]:"";const a=S(e);if(a){s.push({text:a.text,numbering:R(n,a.level),level:a.level,onClick:t(o)})}}return s}function W(e){return()=>{e.scrollIntoView()}}function z(e,t,n,l=true){let s=e.querySelectorAll("h1, h2, h3, h4, h5, h6");let r=[];for(let o=0;o<s.length;o++){const e=s[o];const a=parseInt(e.tagName[1],10);let i=e.textContent?e.textContent:"";let c=!l;if(e.getElementsByClassName("numbering-entry").length>0){e.removeChild(e.getElementsByClassName("numbering-entry")[0])}let d=t.sanitize(e.innerHTML,x);d=d.replace("¶","");let h=R(n,a);let u="";if(!c){u='<span class="numbering-entry">'+h+"</span>"}e.innerHTML=u+d;r.push({level:a,text:i.replace("¶",""),numbering:h,html:d,onClick:W(e)})}return r}function O(e){return v(e.content.model.mimeType)}function A(e){let t={};return I(e.content.model.value.text,n,t);function n(t){return()=>{e.content.editor.setCursorPosition({line:t,column:0})}}}function L(e,t,n,l){const s=new T(t,{numbering:true,sanitizer:n,translator:l||d.nullTranslator});return{tracker:e,usesLatex:true,options:s,toolbarGenerator:r,itemRenderer:o,isEnabled:O,generate:A};function r(){return y(s)}function o(e){return k(s,e)}}function H(e,t,n,l){const s=new T(t,{numbering:true,sanitizer:n,translator:l||d.nullTranslator});return{tracker:e,usesLatex:true,options:s,toolbarGenerator:r,itemRenderer:o,generate:a};function r(){return y(s)}function o(e){return k(s,e)}function a(e){let t={};return z(e.content.node,n,t,s.numbering)}}function j(e){return e==="application/vdom.v1+json"||e==="text/html"}class P extends o.IOptionsManager{constructor(e,t,n){super();this._preRenderedToolbar=null;this._filtered=[];this._showCode=false;this._showMarkdown=false;this._showTags=false;this._tagTool=null;this._numbering=n.numbering;this._widget=e;this._notebook=t;this.sanitizer=n.sanitizer;this.storeTags=[];this.translator=n.translator||d.nullTranslator;this._collapseChanged=new s.Signal(this)}set tagTool(e){this._tagTool=e}get tagTool(){return this._tagTool}set notebookMetadata(e){if(this._notebook.currentWidget!=null){this._notebook.currentWidget.model.metadata.set(e[0],e[1])}}set numbering(e){this._numbering=e;this._widget.update();this.notebookMetadata=["toc-autonumbering",this._numbering]}get numbering(){return this._numbering}set showCode(e){this._showCode=e;this.notebookMetadata=["toc-showcode",this._showCode];this._widget.update()}get showCode(){return this._showCode}set showMarkdown(e){this._showMarkdown=e;this.notebookMetadata=["toc-showmarkdowntxt",this._showMarkdown];this._widget.update()}get showMarkdown(){return this._showMarkdown}get collapseChanged(){return this._collapseChanged}set showTags(e){this._showTags=e;this.notebookMetadata=["toc-showtags",this._showTags];this._widget.update()}get showTags(){return this._showTags}get filtered(){if(this.tagTool){this._filtered=this.tagTool.filtered}else if(this.storeTags.length>0){this._filtered=this.storeTags}else{this._filtered=[]}return this._filtered}set preRenderedToolbar(e){this._preRenderedToolbar=e}get preRenderedToolbar(){return this._preRenderedToolbar}updateWidget(){this._widget.update()}updateAndCollapse(e){this._collapseChanged.emit(e);this._widget.update()}initializeOptions(e,t,n,l){this._numbering=e;this._showCode=t;this._showMarkdown=n;this._showTags=l;this._widget.update()}}function F(e,t,n,l,s){let r=[];if(e){const o=e.split("\n");const a=Math.min(o.length,3);let i="";let c=0;for(;c<a-1;c++){i+=o[c]+"\n"}i+=o[c];r.push({text:i,level:l+1,onClick:t(0),type:"code",prompt:n,cellRef:s,hasChild:false})}return r[0]}function G(e){if(e.length>0){let t=e.length-1;while(t>=0){if(e[t].type==="header"){return e[t].level}t-=1}}return 0}function V(e,t,n,l,s){const r=t(0);const o=S(e);if(o){return{text:o.text,level:o.level,numbering:R(n,o.level),onClick:r,type:"header",cellRef:s,hasChild:false}}return{text:e,level:l+1,onClick:r,type:"markdown",cellRef:s,hasChild:false}}function $(e,t,n,l,s,r=false,o){let a=e.querySelectorAll("h1, h2, h3, h4, h5, h6, p");if(a.length===0){return}let i=a[0];if(i.nodeName.toLowerCase()==="p"){if(i.innerHTML){let e=n.sanitize(i.innerHTML,x);return{level:s+1,html:e.replace("¶",""),text:i.textContent?i.textContent:"",onClick:t(i),type:"markdown",cellRef:o,hasChild:false}}return}if(i.getElementsByClassName("numbering-entry").length>0){i.removeChild(i.getElementsByClassName("numbering-entry")[0])}let c=n.sanitize(i.innerHTML,x);c=c.replace("¶","");const d=parseInt(i.tagName[1],10);let h=R(l,d);let u="";if(r){u='<span class="numbering-entry">'+h+"</span>"}i.innerHTML=u+c;return{level:d,text:i.textContent?i.textContent:"",numbering:h,html:c,onClick:t(i),type:"header",cellRef:o,hasChild:false}}function q(e,t){if(t.length===0){return false}if(e&&e.cellRef){let n=e.cellRef.model.metadata;let l=n.get("tags");if(l){for(let e=0;e<l.length;e++){let n=l[e];for(let e=0;e<t.length;e++){if(t[e]===n){return false}}}}}return true}function B(e,t,n,l,s){if(t&&!q(t,s)&&t.text){if(n&&n.type==="header"){for(let t=e.length-1;t>=0;t--){if(e[t]===n){e[t].hasChild=true}}}if(l<0){e.push(t)}n=t}return[e,n]}function D(e,t,n,l,s,r){const o=e.length;if(!q(t,s)){if(n&&n.type==="header"&&n.level<t.level){for(let t=o-1;t>=0;t--){if(e[t]===n){e[t].hasChild=true}}}if(l>=t.level||l<0){e.push(t);l=r?t.level:-1}n=t}else if(n&&t.level<=n.level){let s=false;let r=o-1;for(;r>=0;r--){if(e[r].level<t.level){n=e[r];s=true;break}}if(s){const t=e[r+1].cellRef.model.metadata.get("toc-hr-collapsed");l=t?e[r+1].level:-1}else{n=null;l=-1}}return[e,n,l]}function U(e,t,n,l,s,r,o){if(e&&e.type==="markdown"&&o){[t,n]=B(t,e,n,l,s)}else if(e&&e.type==="header"){[t,n,l]=D(t,e,n,l,s,r)}return[t,n,l]}class J extends a.Component{constructor(e){super(e);this.state={heading:e.heading}}UNSAFE_componentWillReceiveProps(e){this.setState({heading:e.heading})}render(){let e=this.state.heading.cellRef.editor.host.innerHTML;e=this.props.sanitizer.sanitize(e,x);return a.createElement("div",{className:"cm-toc",dangerouslySetInnerHTML:{__html:e}})}}function K(e,t,n){let l;if(n.type==="markdown"||n.type==="header"){let r="toc-level-size-default";let o=n.numbering&&e.numbering?n.numbering:"";if(n.type==="header"){r="toc-level-size-"+n.level}if(n.html&&(n.type==="header"||e.showMarkdown)){l=a.createElement("span",{dangerouslySetInnerHTML:{__html:o+e.sanitizer.sanitize(n.html,x)},className:n.type+"-cell toc-cell-item"});if(n.type==="header"){let e=a.createElement("div",{className:"jp-Collapser p-Widget lm-Widget",onClick:e=>{e.stopPropagation();s(n)}},a.createElement("div",{className:"toc-Collapser-child"}));let o;if(n.cellRef.model.metadata.has("toc-hr-collapsed")){o=n.cellRef.model.metadata.get("toc-hr-collapsed")}let i=o?a.createElement("div",{className:"toc-Ellipses",onClick:e=>{e.stopPropagation();s(n)}},a.createElement(E.ellipsesIcon.react,null)):a.createElement("div",null);l=a.createElement("div",{className:"toc-entry-holder "+r+(t.activeCell===n.cellRef?" toc-active-cell":"")},e,l,i)}return l}if(n.type==="header"||e.showMarkdown){l=a.createElement("span",{className:n.type+"-cell toc-cell-item"},o+n.text);if(n.type==="header"){let e=a.createElement("div",{className:"jp-Collapser p-Widget lm-Widget",onClick:e=>{e.stopPropagation();s(n)}},a.createElement("div",{className:"toc-Collapser-child"}));let o;if(n.cellRef.model.metadata.has("toc-hr-collapsed")){o=n.cellRef.model.metadata.get("toc-hr-collapsed")}let i=o?a.createElement("div",{className:"toc-Ellipses",onClick:e=>{e.stopPropagation();s(n)}},a.createElement(E.ellipsesIcon.react,null)):a.createElement("div",null);l=a.createElement("div",{className:"toc-entry-holder "+r+(t.activeCell===n.cellRef?" toc-active-cell":"")},e,l,i)}return l}return null}if(n.type==="code"&&e.showCode){return a.createElement("div",{className:"toc-code-cell-div"},a.createElement("div",{className:"toc-code-cell-prompt"},n.prompt),a.createElement("span",{className:"toc-code-span"},a.createElement(J,{sanitizer:e.sanitizer,heading:n})))}return null;function s(t){let n;if(t.cellRef.model.metadata.has("toc-hr-collapsed")){n=t.cellRef.model.metadata.get("toc-hr-collapsed");t.cellRef.model.metadata.delete("toc-hr-collapsed")}else{n=false;t.cellRef.model.metadata.set("toc-hr-collapsed",true)}if(t){e.updateAndCollapse({heading:t,collapsedState:n,tocType:"notebook"})}else{e.updateWidget()}}}class Q extends a.Component{constructor(e){super(e)}render(){const e=this.props.tag;return a.createElement("div",null,a.createElement("label",{className:"toc-tag-label",key:(new Date).toLocaleTimeString()},e))}}class X extends a.Component{constructor(e){super(e);this.selectedTagWithName=e=>{if(this.props.selectedTags.indexOf(e)>=0){this.props.selectionStateHandler(e,false)}else{this.props.selectionStateHandler(e,true)}};this.renderTagComponents=e=>{const t=this.props.selectedTags;const n=this.selectedTagWithName;return e.map(((e,l)=>{const s=t.indexOf(e)>=0?"toc-selected-tag toc-tag":"toc-unselected-tag toc-tag";return a.createElement("div",{key:e,className:s,onClick:t=>{n(e)},tabIndex:-1},a.createElement(Q,{selectionStateHandler:this.props.selectionStateHandler,selectedTags:this.props.selectedTags,tag:e}))}))};this.state={selected:this.props.selectedTags}}render(){let e=this.props.tags;let t=null;if(e){t=this.renderTagComponents(e)}return a.createElement("div",{className:"toc-tag-holder"},t)}}class Y extends a.Component{constructor(e){super(e);this.changeSelectionState=(e,t)=>{let n=this.state.selected;if(t){n.push(e);this.setState({selected:n});this.filterTags(n)}else{let t=[];for(let l=0;l<n.length;l++){if(n[l]!==e){t.push(n[l])}}this.setState({selected:t});this.filterTags(t)}};this.deselectAll=()=>{this.setState({selected:[]});this.props.options.updateWidget()};this.filterTags=e=>{this.setState({selected:e});this.props.options.updateWidget()};this.updateFilters=()=>{let e=[];let t=0;let n=false;for(let l=0;l<this.state.selected.length;l++){if(this.props.tags.indexOf(this.state.selected[l])>-1){e[t]=this.state.selected[l];t+=1}else if(this.props.options.showTags===true){n=true}}if(n){this.filterTags(e);this.setState({selected:e})}};this.state={selected:this.props.inputFilter};const t=this.props.translator||d.nullTranslator;this._trans=t.load("jupyterlab")}get filtered(){return this.state.selected}containsTag(e,t){if(t===null){return false}let n=t.model.metadata.get("tags");if(n){for(let t=0;t<n.length;t++){if(n[t]===e){return true}}return false}}UNSAFE_componentWillUpdate(){this.updateFilters()}render(){let e=a.createElement("div",{className:"toc-no-tags-div"},this._trans.__("No Tags Available"));let t;if(this.state.selected.length===0){t=a.createElement("span",{className:"toc-filter-button-na"},this._trans.__("Clear Filters"))}else if(this.state.selected.length===1){t=a.createElement("span",{className:"toc-filter-button",onClick:()=>this.deselectAll()}," ","Clear 1 Filter"," ")}else{t=a.createElement("span",{className:"toc-filter-button",onClick:()=>this.deselectAll()}," ","Clear ",this.state.selected.length," Filters"," ")}if(this.props.tags&&this.props.tags.length>0){e=a.createElement("div",{className:"toc-tags-container"},a.createElement(X,{tags:this.props.tags,selectionStateHandler:this.changeSelectionState,selectedTags:this.state.selected}),t)}return e}}function Z(e,t){return class n extends a.Component{constructor(n){super(n);this._trans=e.translator.load("jupyterlab");this.tagTool=null;this.state={showCode:true,showMarkdown:false,showTags:false,numbering:false};if(t.currentWidget){void t.currentWidget.context.ready.then((()=>{if(t.currentWidget){t.currentWidget.content.activeCellChanged.connect((()=>{e.updateWidget()}));const n=t.currentWidget.model.metadata.get("toc-autonumbering");const l=t.currentWidget.model.metadata.get("toc-showcode");const s=t.currentWidget.model.metadata.get("toc-showmarkdowntxt");const r=t.currentWidget.model.metadata.get("toc-showtags");e.initializeOptions(n||e.numbering,l||e.showCode,s||e.showMarkdown,r||e.showTags);this.setState({showCode:e.showCode,showMarkdown:e.showMarkdown,showTags:e.showTags,numbering:e.numbering});this.tags=[]}}))}}toggleCode(){e.showCode=!e.showCode;this.setState({showCode:e.showCode})}toggleMarkdown(){e.showMarkdown=!e.showMarkdown;this.setState({showMarkdown:e.showMarkdown})}toggleNumbering(){e.numbering=!e.numbering;this.setState({numbering:e.numbering})}toggleTagDropdown(){if(e.showTags&&this.tagTool){e.storeTags=this.tagTool.state.selected}e.showTags=!e.showTags;this.setState({showTags:e.showTags})}loadTags(){const e=t.currentWidget;if(e){const t=e.model.cells;const n=new Set;this.tags=[];for(let e=0;e<t.length;e++){const l=t.get(e);const s=l.metadata.get("tags");if(Array.isArray(s)){s.forEach((e=>e&&n.add(e)))}}this.tags=Array.from(n)}}render(){const n=a.createElement("div",{onClick:e=>this.toggleCode(),role:"text","aria-label":this._trans.__("Toggle Code Cells"),title:this._trans.__("Toggle Code Cells"),className:this.state.showCode?"toc-toolbar-code-icon toc-toolbar-icon-selected":"toc-toolbar-code-icon toc-toolbar-icon"},a.createElement(E.codeIcon.react,null));const l=a.createElement("div",{onClick:e=>this.toggleMarkdown(),role:"text","aria-label":this._trans.__("Toggle Markdown Text Cells"),title:this._trans.__("Toggle Markdown Text Cells"),className:this.state.showMarkdown?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(E.markdownIcon.react,null));const s=a.createElement("div",{onClick:e=>this.toggleNumbering(),role:"text","aria-label":this._trans.__("Toggle Auto-Numbering"),title:this._trans.__("Toggle Auto-Numbering"),className:this.state.numbering?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(E.numberingIcon.react,null));let r=a.createElement("div",null);let o=a.createElement("div",{role:"text","aria-label":this._trans.__("Show Tags Menu"),title:this._trans.__("Show Tags Menu"),className:this.state.showTags?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(E.tagIcon.react,null));if(this.state.showTags){this.loadTags();const n=a.createElement(Y,{tags:this.tags,tracker:t,options:e,inputFilter:e.storeTags,translator:e.translator,ref:e=>this.tagTool=e});e.tagTool=this.tagTool;r=a.createElement("div",{className:"toc-tag-dropdown"}," ",n," ")}return a.createElement("div",null,a.createElement("div",{className:"toc-toolbar"},n,l,s,a.createElement("div",{className:"toc-tag-dropdown-button",onClick:e=>this.toggleTagDropdown()},o)),r)}}}function ee(e,t,n,l){const s=new P(t,e,{numbering:false,sanitizer:n,translator:l||d.nullTranslator});e.activeCellChanged.connect(((e,n)=>{t.update()}));return{tracker:e,usesLatex:true,options:s,toolbarGenerator:r,itemRenderer:o,generate:a,collapseChanged:s.collapseChanged};function r(){return Z(s,e)}function o(t){return K(s,e,t)}function a(e){let l=[];let r=-1;let o={};let a=null;for(let i=0;i<e.content.widgets.length;i++){let c=e.content.widgets[i];let d=c.model;let h=d.metadata.get("toc-hr-collapsed");h=h||false;if(d.type==="code"){if(!t||t&&s.showCode){const t=t=>()=>{e.content.activeCellIndex=i;c.node.scrollIntoView()};let n=c.model.executionCount;let o=n!==null?"["+n+"]: ":"[ ]: ";let h=F(d.value.text,t,o,G(l),c);[l,a]=B(l,h,a,r,s.filtered)}for(let t=0;t<d.outputs.length;t++){const u=d.outputs.get(t);let g=Object.keys(u.data);g=g.filter((e=>v(e)||j(e)));if(!g.length){continue}const m=t=>()=>{e.content.activeCellIndex=i;e.content.mode="command";t.scrollIntoView()};let p=$(c.outputArea.widgets[t].node,m,n,o,G(l),s.numbering,c);[l,a,r]=U(p,l,a,r,s.filtered,h,s.showMarkdown)}continue}if(d.type==="markdown"){let t=c;let u;let g=G(l);if(t.rendered&&!t.inputHidden){const l=n=>()=>{if(!t.rendered){e.content.activeCellIndex=i;n.scrollIntoView()}else{e.content.mode="command";c.node.scrollIntoView();e.content.activeCellIndex=i}};u=$(c.node,l,n,o,g,s.numbering,c)}else{const t=t=>()=>{e.content.activeCellIndex=i;c.node.scrollIntoView()};u=V(d.value.text,t,o,g,c)}[l,a,r]=U(u,l,a,r,s.filtered,h,s.showMarkdown)}}return l}}function te(e){let t="toc-level-size-"+e.level;return a.createElement("div",{className:t+" toc-entry-holder"},a.createElement("div",{className:"jp-Collapser p-Widget lm-Widget"},a.createElement("div",{className:"toc-Collapser-child"})),a.createElement("span",{className:"header-cell toc-cell-item"}," ",e.text," "))}function ne(e){let t=e.content.model.value.text.split("\n");let n=[];let l=false;for(let r=0;r<t.length;r++){let e=t[r].trim();if(e.indexOf("def ")===0){l=false;n.push({text:e.slice(0,-1),level:2,onClick:s(r)})}else if(e.indexOf("class ")===0){l=false;n.push({text:e.slice(0,-1),level:1,onClick:s(r)})}else if(e.indexOf("import ")==0&&!l){l=true;n.push({text:e,level:2,onClick:s(r)})}}return n;function s(t){return()=>{e.content.editor.setCursorPosition({line:t,column:0})}}}function le(e){let t=e.content.model.mimeType;return t==="application/x-python-code"||t==="text/x-python"}function se(e){return{tracker:e,isEnabled:le,itemRenderer:te,generate:ne}}}}]);