(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[6174],{6174:(e,t,o)=>{"use strict";o.r(t);o.d(t,{commandEditItem:()=>R,default:()=>F,notebookTrustItem:()=>B});var n=o(44626);var l=o(90265);var a=o(53703);var r=o(66995);var s=o(91180);var c=o(99021);var d=o(67674);var i=o(32834);var u=o(68677);var b=o(84345);var m=o(21644);var p=o(11368);var k=o(82507);var C=o(56204);var g=o(21157);var x=o(29103);var A=o(93269);var _=o(52191);var f=o(58578);var h=o(74723);var w=o(86992);var v=o(75029);var N=o(90090);const E={activate:y,id:"@jupyterlab/notebook-extension:log-output",requires:[u.INotebookTracker],optional:[v.ILoggerRegistry],autoStart:true};function y(e,t,o){if(!o){return}function n(e){function t(t,n,l){if(N.KernelMessage.isDisplayDataMsg(t)||N.KernelMessage.isStreamMsg(t)||N.KernelMessage.isErrorMsg(t)||N.KernelMessage.isExecuteResultMsg(t)){const a=o.getLogger(e.context.path);a.rendermime=e.content.rendermime;const r=Object.assign(Object.assign({},t.content),{output_type:t.header.msg_type});let s=n;if(N.KernelMessage.isErrorMsg(t)||N.KernelMessage.isStreamMsg(t)&&t.content.name==="stderr"){s=l}a.log({type:"output",data:r,level:s})}}e.context.sessionContext.iopubMessage.connect(((e,o)=>t(o,"info","info")));e.context.sessionContext.unhandledMessage.connect(((e,o)=>t(o,"warning","error")))}t.forEach((e=>n(e)));t.widgetAdded.connect(((e,t)=>n(t)))}var M;(function(e){e.createNew="notebook:create-new";e.interrupt="notebook:interrupt-kernel";e.restart="notebook:restart-kernel";e.restartClear="notebook:restart-clear-output";e.restartAndRunToSelected="notebook:restart-and-run-to-selected";e.restartRunAll="notebook:restart-run-all";e.reconnectToKernel="notebook:reconnect-to-kernel";e.changeKernel="notebook:change-kernel";e.createConsole="notebook:create-console";e.createOutputView="notebook:create-output-view";e.clearAllOutputs="notebook:clear-all-cell-outputs";e.closeAndShutdown="notebook:close-and-shutdown";e.trust="notebook:trust";e.exportToFormat="notebook:export-to-format";e.run="notebook:run-cell";e.runAndAdvance="notebook:run-cell-and-select-next";e.runAndInsert="notebook:run-cell-and-insert-below";e.runInConsole="notebook:run-in-console";e.runAll="notebook:run-all-cells";e.runAllAbove="notebook:run-all-above";e.runAllBelow="notebook:run-all-below";e.renderAllMarkdown="notebook:render-all-markdown";e.toCode="notebook:change-cell-to-code";e.toMarkdown="notebook:change-cell-to-markdown";e.toRaw="notebook:change-cell-to-raw";e.cut="notebook:cut-cell";e.copy="notebook:copy-cell";e.pasteAbove="notebook:paste-cell-above";e.pasteBelow="notebook:paste-cell-below";e.pasteAndReplace="notebook:paste-and-replace-cell";e.moveUp="notebook:move-cell-up";e.moveDown="notebook:move-cell-down";e.clearOutputs="notebook:clear-cell-output";e.deleteCell="notebook:delete-cell";e.insertAbove="notebook:insert-cell-above";e.insertBelow="notebook:insert-cell-below";e.selectAbove="notebook:move-cursor-up";e.selectBelow="notebook:move-cursor-down";e.extendAbove="notebook:extend-marked-cells-above";e.extendTop="notebook:extend-marked-cells-top";e.extendBelow="notebook:extend-marked-cells-below";e.extendBottom="notebook:extend-marked-cells-bottom";e.selectAll="notebook:select-all";e.deselectAll="notebook:deselect-all";e.editMode="notebook:enter-edit-mode";e.merge="notebook:merge-cells";e.split="notebook:split-cell-at-cursor";e.commandMode="notebook:enter-command-mode";e.toggleAllLines="notebook:toggle-all-cell-line-numbers";e.undoCellAction="notebook:undo-cell-action";e.redoCellAction="notebook:redo-cell-action";e.markdown1="notebook:change-cell-to-heading-1";e.markdown2="notebook:change-cell-to-heading-2";e.markdown3="notebook:change-cell-to-heading-3";e.markdown4="notebook:change-cell-to-heading-4";e.markdown5="notebook:change-cell-to-heading-5";e.markdown6="notebook:change-cell-to-heading-6";e.hideCode="notebook:hide-cell-code";e.showCode="notebook:show-cell-code";e.hideAllCode="notebook:hide-all-cell-code";e.showAllCode="notebook:show-all-cell-code";e.hideOutput="notebook:hide-cell-outputs";e.showOutput="notebook:show-cell-outputs";e.hideAllOutputs="notebook:hide-all-cell-outputs";e.showAllOutputs="notebook:show-all-cell-outputs";e.enableOutputScrolling="notebook:enable-output-scrolling";e.disableOutputScrolling="notebook:disable-output-scrolling";e.selectLastRunCell="notebook:select-last-run-cell";e.replaceSelection="notebook:replace-selection"})(M||(M={}));const S="Notebook";const I=["notebook","python","custom"];const O={id:"@jupyterlab/notebook-extension:tracker",provides:u.INotebookTracker,requires:[u.INotebookWidgetFactory,s.IDocumentManager,g.ITranslator],optional:[l.ICommandPalette,c.IFileBrowserFactory,d.ILauncher,n.ILayoutRestorer,i.IMainMenu,p.ISettingRegistry,l.ISessionContextDialogs],activate:W,autoStart:true};const j={id:"@jupyterlab/notebook-extension:factory",provides:u.NotebookPanel.IContentFactory,requires:[a.IEditorServices],autoStart:true,activate:(e,t)=>{const o=t.factoryService.newInlineEditor;return new u.NotebookPanel.ContentFactory({editorFactory:o})}};const T={activate:D,provides:u.INotebookTools,id:"@jupyterlab/notebook-extension:tools",autoStart:true,requires:[u.INotebookTracker,a.IEditorServices,k.IStateDB,g.ITranslator],optional:[b.IPropertyInspectorProvider]};const R={id:"@jupyterlab/notebook-extension:mode-status",autoStart:true,requires:[u.INotebookTracker,g.ITranslator],optional:[C.IStatusBar],activate:(e,t,o,n)=>{if(!n){return}const{shell:l}=e;const a=new u.CommandEditStatus(o);t.currentChanged.connect((()=>{const e=t.currentWidget;a.model.notebook=e&&e.content}));n.registerStatusItem("@jupyterlab/notebook-extension:mode-status",{item:a,align:"right",rank:4,isActive:()=>!!l.currentWidget&&!!t.currentWidget&&l.currentWidget===t.currentWidget})}};const B={id:"@jupyterlab/notebook-extension:trust-status",autoStart:true,requires:[u.INotebookTracker,g.ITranslator],optional:[C.IStatusBar],activate:(e,t,o,n)=>{if(!n){return}const{shell:l}=e;const a=new u.NotebookTrustStatus(o);t.currentChanged.connect((()=>{const e=t.currentWidget;a.model.notebook=e&&e.content}));n.registerStatusItem("@jupyterlab/notebook-extension:trust-status",{item:a,align:"right",rank:3,isActive:()=>!!l.currentWidget&&!!t.currentWidget&&l.currentWidget===t.currentWidget})}};const L={id:"@jupyterlab/notebook-extension:widget-factory",provides:u.INotebookWidgetFactory,requires:[u.NotebookPanel.IContentFactory,a.IEditorServices,m.IRenderMimeRegistry,l.ISessionContextDialogs,g.ITranslator],activate:P,autoStart:true};const K=[j,O,T,R,B,L,E];const F=K;function D(e,t,o,n,l,a){const r=l.load("jupyterlab");const s="notebook-tools";const c=new u.NotebookTools({tracker:t,translator:l});const d=new u.NotebookTools.ActiveCellTool;const i=u.NotebookTools.createSlideShowSelector(l);const b=o.factoryService.newInlineEditor;const m=new u.NotebookTools.CellMetadataEditorTool({editorFactory:b,collapsed:false,translator:l});const p=new u.NotebookTools.NotebookMetadataEditorTool({editorFactory:b,translator:l});const k=e.serviceManager;const C=(e,t)=>{switch(t.type){case"activate-request":void n.save(s,{open:true});break;case"after-hide":case"close-request":void n.remove(s);break;default:break}return true};const g={};g.None=null;void k.nbconvert.getExportFormats().then((e=>{if(e){const t=["pdf","slides","script","notebook","custom"];let o=[[r.__("PDF"),"pdf"],[r.__("Slides"),"slides"],[r.__("Script"),"script"],[r.__("Notebook"),"notebook"],[r.__("Custom"),"custom"]];const n=Object.keys(e);const a=q.getFormatLabels(l);n.forEach((function(n){if(t.indexOf(n)===-1){const t=r.__(n[0].toUpperCase()+n.substr(1));const l=a[n]?a[n]:t;const s=e[n].output_mimetype;o.push([l,s])}}));const s=u.NotebookTools.createNBConvertSelector(o,l);c.addItem({tool:s,section:"common",rank:3})}}));c.title.icon=x.buildIcon;c.title.caption=r.__("Notebook Tools");c.id=s;c.addItem({tool:d,section:"common",rank:1});c.addItem({tool:i,section:"common",rank:2});c.addItem({tool:m,section:"advanced",rank:1});c.addItem({tool:p,section:"advanced",rank:2});h.MessageLoop.installMessageHook(c,C);if(a){t.widgetAdded.connect(((e,t)=>{const o=a.register(t);o.render(c)}))}return c}function P(e,t,o,n,l,a){const r=new u.NotebookWidgetFactory({name:S,fileTypes:["notebook"],modelName:"notebook",defaultFor:["notebook"],preferKernel:true,canStartKernel:true,rendermime:n,contentFactory:t,editorConfig:u.StaticNotebook.defaultEditorConfig,notebookConfig:u.StaticNotebook.defaultNotebookConfig,mimeTypeService:o.mimeTypeService,sessionDialogs:l,translator:a});e.docRegistry.addWidgetFactory(r);return r}function W(e,t,o,n,a,s,c,d,i,b,m){const p=n.load("jupyterlab");const k=e.serviceManager;const{commands:C}=e;const g=new u.NotebookTracker({namespace:"notebook"});const A=new l.WidgetTracker({namespace:"cloned-outputs"});if(d){void d.restore(g,{command:"docmanager:open",args:e=>({path:e.context.path,factory:S}),name:e=>e.context.path,when:k.ready});void d.restore(A,{command:M.createOutputView,args:e=>({path:e.content.path,index:e.content.index}),name:e=>`${e.content.path}:${e.content.index}`,when:g.restored})}const h=e.docRegistry;h.addModelFactory(new u.NotebookModelFactory({}));U(e,o,k,g,A,n,m);if(a){H(a,k,n)}let w=0;const v=e.docRegistry.getFileType("notebook");t.widgetCreated.connect(((e,t)=>{var o,n;t.id=t.id||`notebook-${++w}`;t.title.icon=v===null||v===void 0?void 0:v.icon;t.title.iconClass=(o=v===null||v===void 0?void 0:v.iconClass)!==null&&o!==void 0?o:"";t.title.iconLabel=(n=v===null||v===void 0?void 0:v.iconLabel)!==null&&n!==void 0?n:"";t.context.pathChanged.connect((()=>{void g.save(t)}));void g.add(t)}));function N(e){g.forEach((t=>{t.setConfig(e)}))}function E(e){const o=Object.assign(Object.assign({},u.StaticNotebook.defaultEditorConfig.code),e.get("codeCellConfig").composite);const n=Object.assign(Object.assign({},u.StaticNotebook.defaultEditorConfig.markdown),e.get("markdownCellConfig").composite);const l=Object.assign(Object.assign({},u.StaticNotebook.defaultEditorConfig.raw),e.get("rawCellConfig").composite);t.editorConfig={code:o,markdown:n,raw:l};t.notebookConfig={scrollPastEnd:e.get("scrollPastEnd").composite,defaultCell:e.get("defaultCell").composite,recordTiming:e.get("recordTiming").composite};t.shutdownOnClose=e.get("kernelShutdown").composite;N({editorConfig:t.editorConfig,notebookConfig:t.notebookConfig,kernelShutdown:t.shutdownOnClose})}const y=b?b.load(O.id):Promise.reject(new Error(`No setting registry for ${O.id}`));e.restored.then((()=>y)).then((e=>{E(e);e.changed.connect((()=>{E(e)}))})).catch((e=>{console.warn(e.message);N({editorConfig:t.editorConfig,notebookConfig:t.notebookConfig,kernelShutdown:t.shutdownOnClose})}));if(i){G(e,i,g,k,n,a,m)}const I=(e,t)=>C.execute("docmanager:new-untitled",{path:e,type:"notebook"}).then((e=>C.execute("docmanager:open",{path:e.path,factory:S,kernel:{name:t}})));C.addCommand(M.createNew,{label:e=>{var t,o,n;const l=e["kernelName"]||"";if(e["isLauncher"]&&e["kernelName"]&&k.kernelspecs){return(n=(o=(t=k.kernelspecs.specs)===null||t===void 0?void 0:t.kernelspecs[l])===null||o===void 0?void 0:o.display_name)!==null&&n!==void 0?n:""}if(e["isPalette"]){return p.__("New Notebook")}return p.__("Notebook")},caption:p.__("Create a new notebook"),icon:e=>e["isPalette"]?undefined:x.notebookIcon,execute:e=>{const t=e["cwd"]||(s?s.defaultBrowser.model.path:"");const o=e["kernelName"]||"";return I(t,o)}});if(c){void k.ready.then((()=>{let e=null;const t=()=>{if(e){e.dispose();e=null}const t=k.kernelspecs.specs;if(!t){return}e=new f.DisposableSet;const o=r.PageConfig.getBaseUrl();for(const n in t.kernelspecs){const l=n===t.default?0:Infinity;const a=t.kernelspecs[n];let s=a.resources["logo-64x64"];if(s){const e=s.indexOf("kernelspecs");s=r.URLExt.join(o,s.slice(e))}e.add(c.add({command:M.createNew,args:{isLauncher:true,kernelName:n},category:p.__("Notebook"),rank:l,kernelIconUrl:s,metadata:{kernel:_.JSONExt.deepCopy(a.metadata||{})}}))}};t();k.kernelspecs.specsChanged.connect(t)}))}e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:0});e.contextMenu.addItem({command:M.cut,selector:".jp-Notebook .jp-Cell",rank:1});e.contextMenu.addItem({command:M.copy,selector:".jp-Notebook .jp-Cell",rank:2});e.contextMenu.addItem({command:M.pasteBelow,selector:".jp-Notebook .jp-Cell",rank:3});e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:4});e.contextMenu.addItem({command:M.deleteCell,selector:".jp-Notebook .jp-Cell",rank:5});e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:6});e.contextMenu.addItem({command:M.split,selector:".jp-Notebook .jp-Cell",rank:7});e.contextMenu.addItem({command:M.merge,selector:".jp-Notebook .jp-Cell",rank:8});e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:9});e.contextMenu.addItem({command:M.createOutputView,selector:".jp-Notebook .jp-CodeCell",rank:10});e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-CodeCell",rank:11});e.contextMenu.addItem({command:M.clearOutputs,selector:".jp-Notebook .jp-CodeCell",rank:12});e.contextMenu.addItem({command:M.clearAllOutputs,selector:".jp-Notebook",rank:0});e.contextMenu.addItem({type:"separator",selector:".jp-Notebook",rank:1});e.contextMenu.addItem({command:M.enableOutputScrolling,selector:".jp-Notebook",rank:2});e.contextMenu.addItem({command:M.disableOutputScrolling,selector:".jp-Notebook",rank:3});e.contextMenu.addItem({type:"separator",selector:".jp-Notebook",rank:4});e.contextMenu.addItem({command:M.undoCellAction,selector:".jp-Notebook",rank:5});e.contextMenu.addItem({command:M.redoCellAction,selector:".jp-Notebook",rank:6});e.contextMenu.addItem({command:M.restart,selector:".jp-Notebook",rank:7});e.contextMenu.addItem({type:"separator",selector:".jp-Notebook",rank:8});e.contextMenu.addItem({command:M.createConsole,selector:".jp-Notebook",rank:9});return g}function U(e,t,o,n,a,s,c){const d=s.load("jupyterlab");const{commands:i,shell:b}=e;c=c!==null&&c!==void 0?c:l.sessionContextDialogs;function m(e){const t=n.currentWidget;const o=e["activate"]!==false;if(o&&t){b.activateById(t.id)}return t}function p(){return n.currentWidget!==null&&n.currentWidget===b.currentWidget}function k(){if(!p()){return false}const{content:e}=n.currentWidget;const t=e.activeCellIndex;for(let o=0;o<e.widgets.length;++o){if(e.isSelected(e.widgets[o])&&o!==t){return false}}return true}i.addCommand(M.runAndAdvance,{label:d.__("Run Selected Cells"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAndAdvance(o,e.sessionContext)}},isEnabled:p});i.addCommand(M.run,{label:d.__("Run Selected Cells and Don't Advance"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.run(o,e.sessionContext)}},isEnabled:p});i.addCommand(M.runAndInsert,{label:d.__("Run Selected Cells and Insert Below"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAndInsert(o,e.sessionContext)}},isEnabled:p});i.addCommand(M.runInConsole,{label:d.__("Run Selected Text or Current Line in Console"),execute:async e=>{var t,o;const n=m(Object.assign({activate:false},e));if(!n){return}const{context:l,content:a}=n;const r=a.activeCell;const s=r===null||r===void 0?void 0:r.model.metadata.toJSON();const c=l.path;if(!r||r.model.type!=="code"){return}let d;const u=r.editor;const b=u.getSelection();const{start:p,end:k}=b;const C=p.column!==k.column||p.line!==k.line;if(C){const e=u.getOffsetAt(b.start);const t=u.getOffsetAt(b.end);d=u.model.value.text.substring(e,t)}else{const e=u.getCursorPosition();const l=u.model.value.text.split("\n");let a=b.start.line;while(a<u.lineCount&&!l[a].replace(/\s/g,"").length){a+=1}let r=a>0;let s=0;let c=s+1;while(true){d=l.slice(s,c).join("\n");const i=await((o=(t=n.context.sessionContext.session)===null||t===void 0?void 0:t.kernel)===null||o===void 0?void 0:o.requestIsComplete({code:d+"\n\n"}));if((i===null||i===void 0?void 0:i.content.status)==="complete"){if(a<c){while(c<u.lineCount&&!l[c].replace(/\s/g,"").length){c+=1}u.setCursorPosition({line:c,column:e.column});break}else{s=c;c=s+1}}else if(c<u.lineCount){c+=1}else if(r){s=a;c=a+1;r=false}else{d=l[a];while(a+1<u.lineCount&&!l[a+1].replace(/\s/g,"").length){a+=1}u.setCursorPosition({line:a+1,column:e.column});break}}}if(!d){return}await i.execute("console:open",{activate:false,insertMode:"split-bottom",path:c});await i.execute("console:inject",{activate:false,code:d,path:c,metadata:s})},isEnabled:p});i.addCommand(M.runAll,{label:d.__("Run All Cells"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAll(o,e.sessionContext)}},isEnabled:p});i.addCommand(M.runAllAbove,{label:d.__("Run All Above Selected Cell"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAllAbove(o,e.sessionContext)}},isEnabled:()=>k()&&n.currentWidget.content.activeCellIndex!==0});i.addCommand(M.runAllBelow,{label:d.__("Run Selected Cell and All Below"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.runAllBelow(o,e.sessionContext)}},isEnabled:()=>k()&&n.currentWidget.content.activeCellIndex!==n.currentWidget.content.widgets.length-1});i.addCommand(M.renderAllMarkdown,{label:d.__("Render All Markdown Cells"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.renderAllMarkdown(o,e.sessionContext)}},isEnabled:p});i.addCommand(M.restart,{label:d.__("Restart Kernel…"),execute:e=>{const t=m(e);if(t){return c.restart(t.sessionContext,s)}},isEnabled:p});i.addCommand(M.closeAndShutdown,{label:d.__("Close and Shut Down"),execute:e=>{const t=m(e);if(!t){return}const o=t.title.label;return(0,l.showDialog)({title:d.__("Shut down the notebook?"),body:d.__('Are you sure you want to close "%1"?',o),buttons:[l.Dialog.cancelButton(),l.Dialog.warnButton()]}).then((e=>{if(e.button.accept){return t.context.sessionContext.shutdown().then((()=>{t.dispose()}))}}))},isEnabled:p});i.addCommand(M.trust,{label:()=>d.__("Trust Notebook"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return u.NotebookActions.trust(o).then((()=>e.save()))}},isEnabled:p});i.addCommand(M.exportToFormat,{label:e=>{const t=e["label"];return e["isPalette"]?d.__("Export Notebook: %1",t):t},execute:e=>{const t=m(e);if(!t){return}const o=r.PageConfig.getNBConvertURL({format:e["format"],download:true,path:t.context.path});const n=window.open("","_blank");const{context:l}=t;if(n){n.opener=null}if(l.model.dirty&&!l.model.readOnly){return l.save().then((()=>{n===null||n===void 0?void 0:n.location.assign(o)}))}return new Promise((e=>{n===null||n===void 0?void 0:n.location.assign(o);e(undefined)}))},isEnabled:p});i.addCommand(M.restartClear,{label:d.__("Restart Kernel and Clear All Outputs…"),execute:e=>{const t=m(e);if(t){const{content:e,sessionContext:o}=t;return c.restart(o,s).then((()=>{u.NotebookActions.clearAllOutputs(e)}))}},isEnabled:p});i.addCommand(M.restartAndRunToSelected,{label:d.__("Restart Kernel and Run up to Selected Cell…"),execute:e=>{const t=m(e);if(t){const{context:e,content:o}=t;return c.restart(t.sessionContext,s).then((t=>{if(t){void u.NotebookActions.runAllAbove(o,e.sessionContext).then((t=>{if(t||o.activeCellIndex===0){void u.NotebookActions.run(o,e.sessionContext)}}))}}))}},isEnabled:()=>k()});i.addCommand(M.restartRunAll,{label:d.__("Restart Kernel and Run All Cells…"),execute:e=>{const t=m(e);if(t){const{context:e,content:o,sessionContext:n}=t;return c.restart(n,s).then((t=>{if(t){void u.NotebookActions.runAll(o,e.sessionContext)}return t}))}},isEnabled:p});i.addCommand(M.clearAllOutputs,{label:d.__("Clear All Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.clearAllOutputs(t.content)}},isEnabled:p});i.addCommand(M.clearOutputs,{label:d.__("Clear Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.clearOutputs(t.content)}},isEnabled:p});i.addCommand(M.interrupt,{label:d.__("Interrupt Kernel"),execute:e=>{var t;const o=m(e);if(!o){return}const n=(t=o.context.sessionContext.session)===null||t===void 0?void 0:t.kernel;if(n){return n.interrupt()}},isEnabled:p});i.addCommand(M.toCode,{label:d.__("Change to Code Cell Type"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.changeCellType(t.content,"code")}},isEnabled:p});i.addCommand(M.toMarkdown,{label:d.__("Change to Markdown Cell Type"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.changeCellType(t.content,"markdown")}},isEnabled:p});i.addCommand(M.toRaw,{label:d.__("Change to Raw Cell Type"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.changeCellType(t.content,"raw")}},isEnabled:p});i.addCommand(M.cut,{label:d.__("Cut Cells"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.cut(t.content)}},isEnabled:p});i.addCommand(M.copy,{label:d.__("Copy Cells"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.copy(t.content)}},isEnabled:p});i.addCommand(M.pasteBelow,{label:d.__("Paste Cells Below"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.paste(t.content,"below")}},isEnabled:p});i.addCommand(M.pasteAbove,{label:d.__("Paste Cells Above"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.paste(t.content,"above")}},isEnabled:p});i.addCommand(M.pasteAndReplace,{label:d.__("Paste Cells and Replace"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.paste(t.content,"replace")}},isEnabled:p});i.addCommand(M.deleteCell,{label:d.__("Delete Cells"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.deleteCells(t.content)}},isEnabled:p});i.addCommand(M.split,{label:d.__("Split Cell"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.splitCell(t.content)}},isEnabled:p});i.addCommand(M.merge,{label:d.__("Merge Selected Cells"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.mergeCells(t.content)}},isEnabled:p});i.addCommand(M.insertAbove,{label:d.__("Insert Cell Above"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.insertAbove(t.content)}},isEnabled:p});i.addCommand(M.insertBelow,{label:d.__("Insert Cell Below"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.insertBelow(t.content)}},isEnabled:p});i.addCommand(M.selectAbove,{label:d.__("Select Cell Above"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.selectAbove(t.content)}},isEnabled:p});i.addCommand(M.selectBelow,{label:d.__("Select Cell Below"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.selectBelow(t.content)}},isEnabled:p});i.addCommand(M.extendAbove,{label:d.__("Extend Selection Above"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.extendSelectionAbove(t.content)}},isEnabled:p});i.addCommand(M.extendTop,{label:d.__("Extend Selection to Top"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.extendSelectionAbove(t.content,true)}},isEnabled:p});i.addCommand(M.extendBelow,{label:d.__("Extend Selection Below"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.extendSelectionBelow(t.content)}},isEnabled:p});i.addCommand(M.extendBottom,{label:d.__("Extend Selection to Bottom"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.extendSelectionBelow(t.content,true)}},isEnabled:p});i.addCommand(M.selectAll,{label:d.__("Select All Cells"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.selectAll(t.content)}},isEnabled:p});i.addCommand(M.deselectAll,{label:d.__("Deselect All Cells"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.deselectAll(t.content)}},isEnabled:p});i.addCommand(M.moveUp,{label:d.__("Move Cells Up"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.moveUp(t.content)}},isEnabled:p});i.addCommand(M.moveDown,{label:d.__("Move Cells Down"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.moveDown(t.content)}},isEnabled:p});i.addCommand(M.toggleAllLines,{label:d.__("Toggle All Line Numbers"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.toggleAllLineNumbers(t.content)}},isEnabled:p});i.addCommand(M.commandMode,{label:d.__("Enter Command Mode"),execute:e=>{const t=m(e);if(t){t.content.mode="command"}},isEnabled:p});i.addCommand(M.editMode,{label:d.__("Enter Edit Mode"),execute:e=>{const t=m(e);if(t){t.content.mode="edit"}},isEnabled:p});i.addCommand(M.undoCellAction,{label:d.__("Undo Cell Operation"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.undo(t.content)}},isEnabled:p});i.addCommand(M.redoCellAction,{label:d.__("Redo Cell Operation"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.redo(t.content)}},isEnabled:p});i.addCommand(M.changeKernel,{label:d.__("Change Kernel…"),execute:e=>{const t=m(e);if(t){return c.selectKernel(t.context.sessionContext,s)}},isEnabled:p});i.addCommand(M.reconnectToKernel,{label:d.__("Reconnect To Kernel"),execute:e=>{var t;const o=m(e);if(!o){return}const n=(t=o.context.sessionContext.session)===null||t===void 0?void 0:t.kernel;if(n){return n.reconnect()}},isEnabled:p});i.addCommand(M.createOutputView,{label:d.__("Create New View for Output"),execute:async e=>{var o;let n;let r;const c=e.path;let d=e.index;if(c&&d!==undefined&&d!==null){r=t.findWidget(c,S);if(!r){return}}else{r=m(Object.assign(Object.assign({},e),{activate:false}));if(!r){return}n=r.content.activeCell;d=r.content.activeCellIndex}const i=new q.ClonedOutputArea({notebook:r,cell:n,index:d,translator:s});const u=new l.MainAreaWidget({content:i});r.context.addSibling(u,{ref:r.id,mode:"split-bottom"});const b=()=>{void a.save(u)};r.context.pathChanged.connect(b);(o=r.context.model)===null||o===void 0?void 0:o.cells.changed.connect(b);void a.add(u);r.content.disposed.connect((()=>{var e;r.context.pathChanged.disconnect(b);(e=r.context.model)===null||e===void 0?void 0:e.cells.changed.disconnect(b);u.dispose()}))},isEnabled:k});i.addCommand(M.createConsole,{label:d.__("New Console for Notebook"),execute:e=>{const t=m(Object.assign(Object.assign({},e),{activate:false}));if(!t){return}return q.createConsole(i,t,e["activate"])},isEnabled:p});i.addCommand(M.markdown1,{label:d.__("Change to Heading 1"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.setMarkdownHeader(t.content,1)}},isEnabled:p});i.addCommand(M.markdown2,{label:d.__("Change to Heading 2"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.setMarkdownHeader(t.content,2)}},isEnabled:p});i.addCommand(M.markdown3,{label:d.__("Change to Heading 3"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.setMarkdownHeader(t.content,3)}},isEnabled:p});i.addCommand(M.markdown4,{label:d.__("Change to Heading 4"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.setMarkdownHeader(t.content,4)}},isEnabled:p});i.addCommand(M.markdown5,{label:d.__("Change to Heading 5"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.setMarkdownHeader(t.content,5)}},isEnabled:p});i.addCommand(M.markdown6,{label:d.__("Change to Heading 6"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.setMarkdownHeader(t.content,6)}},isEnabled:p});i.addCommand(M.hideCode,{label:d.__("Collapse Selected Code"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.hideCode(t.content)}},isEnabled:p});i.addCommand(M.showCode,{label:d.__("Expand Selected Code"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.showCode(t.content)}},isEnabled:p});i.addCommand(M.hideAllCode,{label:d.__("Collapse All Code"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.hideAllCode(t.content)}},isEnabled:p});i.addCommand(M.showAllCode,{label:d.__("Expand All Code"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.showAllCode(t.content)}},isEnabled:p});i.addCommand(M.hideOutput,{label:d.__("Collapse Selected Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.hideOutput(t.content)}},isEnabled:p});i.addCommand(M.showOutput,{label:d.__("Expand Selected Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.showOutput(t.content)}},isEnabled:p});i.addCommand(M.hideAllOutputs,{label:d.__("Collapse All Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.hideAllOutputs(t.content)}},isEnabled:p});i.addCommand(M.showAllOutputs,{label:d.__("Expand All Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.showAllOutputs(t.content)}},isEnabled:p});i.addCommand(M.enableOutputScrolling,{label:d.__("Enable Scrolling for Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.enableOutputScrolling(t.content)}},isEnabled:p});i.addCommand(M.disableOutputScrolling,{label:d.__("Disable Scrolling for Outputs"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.disableOutputScrolling(t.content)}},isEnabled:p});i.addCommand(M.selectLastRunCell,{label:d.__("Select current running or last run cell"),execute:e=>{const t=m(e);if(t){return u.NotebookActions.selectLastRunCell(t.content)}},isEnabled:p});i.addCommand(M.replaceSelection,{label:d.__("Replace Selection in Notebook Cell"),execute:e=>{const t=m(e);const o=e["text"]||"";if(t){return u.NotebookActions.replaceSelection(t.content,o)}},isEnabled:p})}function H(e,t,o){const n=o.load("jupyterlab");let l=n.__("Notebook Operations");[M.interrupt,M.restart,M.restartClear,M.restartRunAll,M.runAll,M.renderAllMarkdown,M.runAllAbove,M.runAllBelow,M.restartAndRunToSelected,M.selectAll,M.deselectAll,M.clearAllOutputs,M.toggleAllLines,M.editMode,M.commandMode,M.changeKernel,M.reconnectToKernel,M.createConsole,M.closeAndShutdown,M.trust].forEach((t=>{e.addItem({command:t,category:l})}));e.addItem({command:M.createNew,category:l,args:{isPalette:true}});l=n.__("Notebook Cell Operations");[M.run,M.runAndAdvance,M.runAndInsert,M.runInConsole,M.clearOutputs,M.toCode,M.toMarkdown,M.toRaw,M.cut,M.copy,M.pasteBelow,M.pasteAbove,M.pasteAndReplace,M.deleteCell,M.split,M.merge,M.insertAbove,M.insertBelow,M.selectAbove,M.selectBelow,M.extendAbove,M.extendTop,M.extendBelow,M.extendBottom,M.moveDown,M.moveUp,M.undoCellAction,M.redoCellAction,M.markdown1,M.markdown2,M.markdown3,M.markdown4,M.markdown5,M.markdown6,M.hideCode,M.showCode,M.hideAllCode,M.showAllCode,M.hideOutput,M.showOutput,M.hideAllOutputs,M.showAllOutputs,M.enableOutputScrolling,M.disableOutputScrolling].forEach((t=>{e.addItem({command:t,category:l})}))}function G(e,t,o,n,a,r,s){const c=a.load("jupyterlab");const{commands:d}=e;s=s||l.sessionContextDialogs;t.editMenu.undoers.add({tracker:o,undo:e=>{var t;(t=e.content.activeCell)===null||t===void 0?void 0:t.editor.undo()},redo:e=>{var t;(t=e.content.activeCell)===null||t===void 0?void 0:t.editor.redo()}});t.editMenu.clearers.add({tracker:o,clearCurrentLabel:e=>c.__("Clear Output"),clearAllLabel:e=>c.__("Clear All Outputs"),clearCurrent:e=>u.NotebookActions.clearOutputs(e.content),clearAll:e=>u.NotebookActions.clearAllOutputs(e.content)});t.fileMenu.newMenu.addGroup([{command:M.createNew}],10);t.fileMenu.closeAndCleaners.add({tracker:o,closeAndCleanupLabel:e=>c.__("Close and Shutdown Notebook"),closeAndCleanup:e=>{const t=e.title.label;return(0,l.showDialog)({title:c.__("Shut down the Notebook?"),body:c.__('Are you sure you want to close "%1"?',t),buttons:[l.Dialog.cancelButton(),l.Dialog.warnButton()]}).then((t=>{if(t.button.accept){return e.context.sessionContext.shutdown().then((()=>{e.dispose()}))}}))}});const i=new w.Menu({commands:d});i.title.label=c.__("Export Notebook As…");void n.nbconvert.getExportFormats().then((e=>{if(e){const o=q.getFormatLabels(a);const n=Object.keys(e);n.forEach((function(e){const t=c.__(e[0].toUpperCase()+e.substr(1));const n=o[e]?o[e]:t;let l={format:e,label:n,isPalette:false};if(I.indexOf(e)===-1){i.addItem({command:M.exportToFormat,args:l});if(r){l={format:e,label:n,isPalette:true};const t=c.__("Notebook Operations");r.addItem({command:M.exportToFormat,category:t,args:l})}}}));const l=[{type:"submenu",submenu:i}];t.fileMenu.addGroup(l,10)}}));t.kernelMenu.kernelUsers.add({tracker:o,interruptKernel:e=>{var t;const o=(t=e.sessionContext.session)===null||t===void 0?void 0:t.kernel;if(o){return o.interrupt()}return Promise.resolve(void 0)},restartKernelAndClearLabel:e=>c.__("Restart Kernel and Clear All Outputs…"),restartKernel:e=>s.restart(e.sessionContext,a),restartKernelAndClear:e=>s.restart(e.sessionContext,a).then((t=>{if(t){u.NotebookActions.clearAllOutputs(e.content)}return t})),changeKernel:e=>s.selectKernel(e.sessionContext,a),shutdownKernel:e=>e.sessionContext.shutdown()});t.fileMenu.consoleCreators.add({tracker:o,createConsoleLabel:e=>c.__("New Console for Notebook"),createConsole:e=>q.createConsole(d,e,true)});const b=[M.hideCode,M.hideOutput,M.hideAllCode,M.hideAllOutputs].map((e=>({command:e})));t.viewMenu.addGroup(b,10);const m=[M.showCode,M.showOutput,M.showAllCode,M.showAllOutputs].map((e=>({command:e})));t.viewMenu.addGroup(m,11);t.viewMenu.editorViewers.add({tracker:o,toggleLineNumbers:e=>{u.NotebookActions.toggleAllLineNumbers(e.content)},lineNumbersToggled:e=>{const t=e.content.editorConfig;return!!(t.code.lineNumbers&&t.markdown.lineNumbers&&t.raw.lineNumbers)}});t.runMenu.codeRunners.add({tracker:o,runLabel:e=>c.__("Run Selected Cells"),runAllLabel:e=>c.__("Run All Cells"),restartAndRunAllLabel:e=>c.__("Restart Kernel and Run All Cells…"),run:e=>{const{context:t,content:o}=e;return u.NotebookActions.runAndAdvance(o,t.sessionContext).then((()=>void 0))},runAll:e=>{const{context:t,content:o}=e;return u.NotebookActions.runAll(o,t.sessionContext).then((()=>void 0))},restartAndRunAll:e=>{const{context:t,content:o}=e;return s.restart(t.sessionContext,a).then((e=>{if(e){void u.NotebookActions.runAll(o,t.sessionContext)}return e}))}});const p=[M.renderAllMarkdown].map((e=>({command:e})));const k=[M.runAndInsert,M.run,M.runInConsole].map((e=>({command:e})));const C=[M.runAllAbove,M.runAllBelow].map((e=>({command:e})));const g=[M.undoCellAction,M.redoCellAction].map((e=>({command:e})));const x=[M.cut,M.copy,M.pasteBelow,M.pasteAbove,M.pasteAndReplace].map((e=>({command:e})));const A=[M.selectAll,M.deselectAll].map((e=>({command:e})));const _=[M.split,M.merge].map((e=>({command:e})));const f=[M.moveUp,M.moveDown].map((e=>({command:e})));t.editMenu.addGroup(g,4);t.editMenu.addGroup(x,5);t.editMenu.addGroup([{command:M.deleteCell}],6);t.editMenu.addGroup(A,7);t.editMenu.addGroup(f,8);t.editMenu.addGroup(_,9);t.runMenu.addGroup(k,10);t.runMenu.addGroup(C,11);t.runMenu.addGroup(p,12);t.helpMenu.kernelUsers.add({tracker:o,getKernel:e=>{var t;return(t=e.sessionContext.session)===null||t===void 0?void 0:t.kernel}})}var q;(function(e){function t(e,t,o){const n={path:t.context.path,preferredLanguage:t.context.model.defaultKernelLanguage,activate:o,ref:t.id,insertMode:"split-bottom"};return e.execute("console:create",n)}e.createConsole=t;class o extends w.Panel{constructor(e){super();this._cell=null;const t=(e.translator||g.nullTranslator).load("jupyterlab");this._notebook=e.notebook;this._index=e.index!==undefined?e.index:-1;this._cell=e.cell||null;this.id=`LinkedOutputView-${_.UUID.uuid4()}`;this.title.label="Output View";this.title.icon=x.notebookIcon;this.title.caption=this._notebook.title.label?t.__("For Notebook: %1",this._notebook.title.label):t.__("For Notebook:");this.addClass("jp-LinkedOutputView");void this._notebook.context.ready.then((()=>{if(!this._cell){this._cell=this._notebook.content.widgets[this._index]}if(!this._cell||this._cell.model.type!=="code"){this.dispose();return}const e=this._cell.cloneOutputArea();this.addWidget(e)}))}get index(){return this._cell?A.ArrayExt.findFirstIndex(this._notebook.content.widgets,(e=>e===this._cell)):this._index}get path(){return this._notebook.context.path}}e.ClonedOutputArea=o})(q||(q={}));(function(e){function t(e){e=e||g.nullTranslator;const t=e.load("jupyterlab");return{html:t.__("HTML"),latex:t.__("LaTeX"),markdown:t.__("Markdown"),pdf:t.__("PDF"),rst:t.__("ReStructured Text"),script:t.__("Executable Script"),slides:t.__("Reveal.js Slides")}}e.getFormatLabels=t})(q||(q={}))}}]);