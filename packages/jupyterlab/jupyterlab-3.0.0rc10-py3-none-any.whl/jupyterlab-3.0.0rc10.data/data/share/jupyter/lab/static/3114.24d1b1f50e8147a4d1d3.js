/*! For license information please see 3114.24d1b1f50e8147a4d1d3.js.LICENSE.txt */
(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[3114],{23114:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Debouncer:()=>m,Poll:()=>d,RateLimiter:()=>v,Throttler:()=>b});var r=n(52191);var i=n.n(r);var o=n(63117);var a=n.n(o);var s=function(e,t){s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return s(e,t)};function u(e,t){s(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){c=Object.assign||function e(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return c.apply(this,arguments)};function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function p(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(s){a=[6,s];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}var f=typeof requestAnimationFrame==="function"?requestAnimationFrame:setImmediate;var h=typeof cancelAnimationFrame==="function"?cancelAnimationFrame:clearImmediate;var d=function(){function e(e){var t=this;this._disposed=new o.Signal(this);this._tick=new r.PromiseDelegate;this._ticked=new o.Signal(this);this._timeout=-1;this._factory=e.factory;this._standby=e.standby||y.DEFAULT_STANDBY;this._state=c(c({},y.DEFAULT_STATE),{timestamp:(new Date).getTime()});this.frequency=c(c({},y.DEFAULT_FREQUENCY),e.frequency||{});this.name=e.name||y.DEFAULT_NAME;if("auto"in e?e.auto:true){f((function(){return void t.start()}))}}Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},set:function(t){if(this.isDisposed||r.JSONExt.deepEqual(t,this.frequency||{})){return}var n=t.backoff,i=t.interval,o=t.max;i=Math.round(i);o=Math.round(o);if(typeof n==="number"&&n<1){throw new Error("Poll backoff growth factor must be at least 1")}if((i<0||i>o)&&i!==e.NEVER){throw new Error("Poll interval must be between 0 and max")}if(o>e.MAX_INTERVAL&&o!==e.NEVER){throw new Error("Max interval must be less than "+e.MAX_INTERVAL)}this._frequency={backoff:n,interval:i,max:o}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.state.phase==="disposed"},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"standby",{get:function(){return this._standby},set:function(e){if(this.isDisposed||this.standby===e){return}this._standby=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"tick",{get:function(){return this._tick.promise},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ticked",{get:function(){return this._ticked},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this.isDisposed){return}this._state=c(c({},y.DISPOSED_STATE),{timestamp:(new Date).getTime()});this._tick.promise.catch((function(e){return undefined}));this._tick.reject(new Error("Poll ("+this.name+") is disposed."));this._disposed.emit(undefined);o.Signal.clearData(this)};e.prototype.refresh=function(){return this.schedule({cancel:function(e){var t=e.phase;return t==="refreshed"},interval:e.IMMEDIATE,phase:"refreshed"})};e.prototype.schedule=function(t){if(t===void 0){t={}}return l(this,void 0,void 0,(function(){var n,i,o,a,s;var u=this;return p(this,(function(l){switch(l.label){case 0:if(this.isDisposed){return[2]}if(t.cancel&&t.cancel(this.state)){return[2]}n=this.state;i=this._tick;o=new r.PromiseDelegate;a=c({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime()},t);this._state=a;this._tick=o;if(n.interval===e.IMMEDIATE){h(this._timeout)}else{clearTimeout(this._timeout)}this._ticked.emit(this.state);i.resolve(this);return[4,i.promise];case 1:l.sent();s=function(){if(u.isDisposed||u.tick!==o.promise){return}u._execute()};this._timeout=a.interval===e.IMMEDIATE?f(s):a.interval===e.NEVER?-1:setTimeout(s,a.interval);return[2]}}))}))};e.prototype.start=function(){return this.schedule({cancel:function(e){var t=e.phase;return t!=="constructed"&&t!=="standby"&&t!=="stopped"},interval:e.IMMEDIATE,phase:"started"})};e.prototype.stop=function(){return this.schedule({cancel:function(e){var t=e.phase;return t==="stopped"},interval:e.NEVER,phase:"stopped"})};e.prototype._execute=function(){var e=this;var t=typeof this.standby==="function"?this.standby():this.standby;t=t==="never"?false:t==="when-hidden"?!!(typeof document!=="undefined"&&document&&document.hidden):t;if(t){void this.schedule();return}var n=this.tick;this._factory(this.state).then((function(t){if(e.isDisposed||e.tick!==n){return}void e.schedule({payload:t,phase:e.state.phase==="rejected"?"reconnected":"resolved"})})).catch((function(t){if(e.isDisposed||e.tick!==n){return}void e.schedule({interval:y.sleep(e.frequency,e.state),payload:t,phase:"rejected"})}))};return e}();(function(e){e.IMMEDIATE=0;e.MAX_INTERVAL=2147483647;e.NEVER=Infinity})(d||(d={}));var y;(function(e){e.DEFAULT_BACKOFF=3;e.DEFAULT_FREQUENCY={backoff:true,interval:1e3,max:30*1e3};e.DEFAULT_NAME="unknown";e.DEFAULT_STANDBY="when-hidden";e.DEFAULT_STATE={interval:d.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()};e.DISPOSED_STATE={interval:d.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()};function t(e,t){e=Math.ceil(e);t=Math.floor(t);return Math.floor(Math.random()*(t-e+1))+e}function n(n,r){var i=n.backoff,o=n.interval,a=n.max;if(o===d.NEVER){return o}var s=i===true?e.DEFAULT_BACKOFF:i===false?1:i;var u=t(o,r.interval*s);return Math.min(a,u)}e.sleep=n})(y||(y={}));var v=function(){function e(e,t){var n=this;if(t===void 0){t=500}this.payload=null;this.limit=t;this.poll=new d({auto:false,factory:function(){return l(n,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return[2,t.sent()]}}))}))},frequency:{backoff:false,interval:d.NEVER,max:d.NEVER},standby:"never"});this.payload=new r.PromiseDelegate;this.poll.ticked.connect((function(e,t){var i=n.payload;if(t.phase==="resolved"){n.payload=new r.PromiseDelegate;i.resolve(t.payload);return}if(t.phase==="rejected"||t.phase==="stopped"){n.payload=new r.PromiseDelegate;i.promise.catch((function(e){return undefined}));i.reject(t.payload);return}}),this)}Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.payload===null},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this.isDisposed){return}this.payload=null;this.poll.dispose()};e.prototype.stop=function(){return l(this,void 0,void 0,(function(){return p(this,(function(e){return[2,this.poll.stop()]}))}))};return e}();var m=function(e){u(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.invoke=function(){void this.poll.schedule({interval:this.limit,phase:"invoked"});return this.payload.promise};return t}(v);var b=function(e){u(t,e);function t(t,n){var r=e.call(this,t,typeof n==="number"?n:n&&n.limit)||this;var i="leading";if(typeof n!=="number"){n=n||{};i="edge"in n?n.edge:i}r._interval=i==="trailing"?r.limit:d.IMMEDIATE;return r}t.prototype.invoke=function(){if(this.poll.state.phase!=="invoked"){void this.poll.schedule({interval:this._interval,phase:"invoked"})}return this.payload.promise};return t}(v);(function(e){})(b||(b={}))}}]);