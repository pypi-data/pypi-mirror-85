(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[70],{70070:(e,t,s)=>{"use strict";s.r(t);s.d(t,{GroupItem:()=>x,IStatusBar:()=>_e,KernelStatus:()=>se,LineCol:()=>X,MemoryUsage:()=>le,Popup:()=>P,ProgressBar:()=>l,RunningSessions:()=>re,StatusBar:()=>ue,TextItem:()=>g,clickedItem:()=>T,interactiveItem:()=>j,item:()=>R,leftSide:()=>N,rightSide:()=>L,showPopup:()=>A,side:()=>B,statusBar:()=>E});var n=s(77865);var i=s.n(n);var r=s(44570);const o=(0,r.oB)({background:"black",height:"10px",width:"100px",border:"1px solid black",borderRadius:"3px",marginLeft:"4px",overflow:"hidden"});const a=(0,r.oB)({background:"var(--jp-brand-color2)",height:"10px"});function l(e){return n.createElement("div",{className:o},n.createElement(h,{percentage:e.percentage}))}function h(e){return n.createElement("div",{className:a,style:{width:`${e.percentage}px`}})}const c={hoverColor:"var(--jp-layout-color3)",clickColor:"var(--jp-brand-color1)",backgroundColor:"var(--jp-layout-color2)",height:"24px",fontSize:"var(--jp-ui-font-size1)",fontFamily:"var(--jp-ui-font-family)",textColor:"var(--jp-ui-font-color1)",textClickColor:"white",itemMargin:"2px",itemPadding:"6px",statusBarPadding:"10px",interItemHalfSpacing:"2px",whiteSpace:"nowrap",textOverflow:"ellipsis"};const d={fontSize:c.fontSize,fontFamily:c.fontFamily};const u=(0,r.oB)(d,{lineHeight:"24px",color:c.textColor});const m=(0,r.oB)(d,{backgroundColor:"#FFD2D2",color:"#D8000C"});var _=undefined&&undefined.__rest||function(e,t){var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)s[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++){if(t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i]))s[n[i]]=e[n[i]]}return s};function g(e){const{title:t,source:s,className:i}=e,o=_(e,["title","source","className"]);return n.createElement("span",Object.assign({className:(0,r.Sh)(u,i),title:t},o),s)}const p={display:"flex",alignItems:"center"};const f={flexDirection:"row"};const v={flexDirection:"row-reverse"};const C={justifyContent:"space-between"};var b=undefined&&undefined.__rest||function(e,t){var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)s[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++){if(t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i]))s[n[i]]=e[n[i]]}return s};const y=(0,r.oB)(p,f);function x(e){const{spacing:t,children:s,className:i}=e,o=b(e,["spacing","children","className"]);const a=n.Children.count(s);return n.createElement("div",Object.assign({className:(0,r.Sh)(y,i)},o),n.Children.map(s,((e,s)=>{if(s===0){return n.createElement("div",{style:{marginRight:`${t}px`}},e)}else if(s===a-1){return n.createElement("div",{style:{marginLeft:`${t}px`}},e)}else{return n.createElement("div",{style:{margin:`0px ${t}px`}},e)}})))}var S=s(90265);var k=s(86992);const I={paddingLeft:c.itemPadding,paddingRight:c.itemPadding};const M={$nest:{"&:hover":{backgroundColor:c.hoverColor}}};const w={backgroundColor:c.clickColor,$nest:{["."+u]:{color:c.textClickColor}}};const E=(0,r.oB)({background:c.backgroundColor,minHeight:c.height,justifyContent:"space-between",paddingLeft:c.statusBarPadding,paddingRight:c.statusBarPadding},p);const B=(0,r.oB)(p);const N=(0,r.oB)(f);const L=(0,r.oB)(v);const R=(0,r.oB)({maxHeight:c.height,marginLeft:c.itemMargin,marginRight:c.itemMargin,height:c.height,whiteSpace:c.whiteSpace,textOverflow:c.textOverflow,color:c.textColor},I);const T=(0,r.oB)(w);const j=(0,r.oB)(M);const O=(0,r.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});function A(e){const t=new P(e);t.launch();return t}class P extends k.Widget{constructor(e){super();this._body=e.body;this._body.addClass(O);this._anchor=e.anchor;this._align=e.align;const t=this.layout=new k.PanelLayout;t.addWidget(e.body);this._body.node.addEventListener("resize",(()=>{this.update()}))}launch(){this._setGeometry();k.Widget.attach(this,document.body);this.update();this._anchor.addClass(T);this._anchor.removeClass(j)}onUpdateRequest(e){this._setGeometry();super.onUpdateRequest(e)}onAfterAttach(e){document.addEventListener("click",this,false);this.node.addEventListener("keydown",this,false);window.addEventListener("resize",this,false)}onAfterDetach(e){document.removeEventListener("click",this,false);this.node.removeEventListener("keydown",this,false);window.removeEventListener("resize",this,false)}onResize(){this.update()}dispose(){super.dispose();this._anchor.removeClass(T);this._anchor.addClass(j)}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"click":this._evtClick(e);break;case"resize":this.onResize();break;default:break}}_evtClick(e){if(!!e.target&&!(this._body.node.contains(e.target)||this._anchor.node.contains(e.target))){this.dispose()}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation();e.preventDefault();this.dispose();break;default:break}}_setGeometry(){let e=0;const t=this._anchor.node.getBoundingClientRect();const s=this._body.node.getBoundingClientRect();if(this._align==="right"){e=-(s.width-t.width)}const n=window.getComputedStyle(this._body.node);S.HoverBox.setGeometry({anchor:t,host:document.body,maxHeight:500,minHeight:20,node:this._body.node,offset:{horizontal:e},privilege:"forceAbove",style:n})}}var D=s(21157);var U=s(29103);const z=(0,r.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});const F=(0,r.oB)({padding:"4px 12px",backgroundColor:"var(--jp-layout-color2)",boxShadow:"var(--jp-toolbar-box-shadow)",zIndex:2,fontSize:"var(--jp-ui-font-size1)"});const K=(0,r.oB)({fontSize:"var(--jp-ui-font-size0)",lineHeight:"var(--jp-ui-font-size1)",marginTop:"4px",color:"var(--jp-ui-font-color0)"});const Y={border:"none",borderRadius:"0px",position:"absolute",backgroundSize:"16px",backgroundRepeat:"no-repeat",backgroundPosition:"center",outline:"none",top:"0px",right:"0px"};const W=(0,r.oB)(Y,{top:"4px",right:"8px",height:"24px",padding:"0px 12px",width:"12px"});const G=(0,r.oB)(Y,{backgroundColor:"var(--jp-brand-color1)",height:"100%",width:"100%",boxSizing:"border-box",padding:"4px 6px"});const V=(0,r.oB)(Y,{backgroundColor:"transparent",height:"100%",width:"100%",boxSizing:"border-box"});const $=(0,r.oB)({overflow:"hidden",padding:"0px 8px",border:"1px solid var(--jp-border-color0)",backgroundColor:"var(--jp-input-active-background)",height:"22px"});const H=(0,r.oB)({border:"var(--jp-border-width) solid var(--md-blue-500)",boxShadow:"inset 0 0 4px var(--md-blue-300)"});const q=(0,r.oB)({background:"transparent",width:"200px",height:"100%",border:"none",outline:"none",color:"var(--jp-ui-font-color0)",lineHeight:"28px"});class J extends i().Component{constructor(e){super(e);this._handleChange=e=>{this.setState({value:e.currentTarget.value})};this._handleSubmit=e=>{e.preventDefault();const t=parseInt(this._textInput.value,10);if(!isNaN(t)&&isFinite(t)&&1<=t&&t<=this.props.maxLine){this.props.handleSubmit(t)}return false};this._handleFocus=()=>{this.setState({hasFocus:true})};this._handleBlur=()=>{this.setState({hasFocus:false})};this._textInput=null;this.translator=e.translator||D.nullTranslator;this._trans=this.translator.load("jupyterlab");this.state={value:"",hasFocus:false}}componentDidMount(){this._textInput.focus()}render(){return i().createElement("div",{className:F},i().createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:true},i().createElement("div",{className:(0,r.Sh)($,"lm-lineForm-wrapper",this.state.hasFocus?H:undefined)},i().createElement("input",{type:"text",className:q,onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:e=>{this._textInput=e}}),i().createElement("div",{className:W},i().createElement(U.lineFormIcon.react,{className:G,elementPosition:"center"}),i().createElement("input",{type:"submit",className:V,value:""}))),i().createElement("label",{className:K},this._trans.__("Go to line number between 1 and %1",this.props.maxLine))))}}function Q(e){const t=e.translator||D.nullTranslator;const s=t.load("jupyterlab");return i().createElement(g,{onClick:e.handleClick,source:s.__("Ln %1, Col %2",e.line,e.column),title:s.__("Go to line numberâ€¦")})}class X extends S.VDomRenderer{constructor(e){super(new X.Model);this._popup=null;this.addClass(j);this.translator=e||D.nullTranslator}render(){if(this.model===null){return null}else{return i().createElement(Q,{line:this.model.line,column:this.model.column,translator:this.translator,handleClick:()=>this._handleClick()})}}_handleClick(){if(this._popup){this._popup.dispose()}const e=S.ReactWidget.create(i().createElement(J,{handleSubmit:e=>this._handleSubmit(e),currentLine:this.model.line,maxLine:this.model.editor.lineCount,translator:this.translator}));this._popup=A({body:e,anchor:this,align:"right"})}_handleSubmit(e){this.model.editor.setCursorPosition({line:e-1,column:0});this._popup.dispose();this.model.editor.focus()}}(function(e){class t extends S.VDomModel{constructor(){super(...arguments);this._onSelectionChanged=()=>{const e=this._getAllState();const t=this.editor.getCursorPosition();this._line=t.line+1;this._column=t.column+1;this._triggerChange(e,this._getAllState())};this._line=1;this._column=1;this._editor=null}get editor(){return this._editor}set editor(e){const t=this._editor;if(t){t.model.selections.changed.disconnect(this._onSelectionChanged)}const s=this._getAllState();this._editor=e;if(!this._editor){this._column=1;this._line=1}else{this._editor.model.selections.changed.connect(this._onSelectionChanged);const e=this._editor.getCursorPosition();this._column=e.column+1;this._line=e.line+1}this._triggerChange(s,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(e,t){if(e[0]!==t[0]||e[1]!==t[1]){this.stateChanged.emit(void 0)}}}e.Model=t})(X||(X={}));var Z=s(66995);var ee=s(52191);function te(e){const t=e.translator||D.nullTranslator;const s=t.load("jupyterlab");let n="";if(e.status){n=` | ${Z.Text.titleCase(s.__(e.status))}`}return i().createElement(g,{onClick:e.handleClick,source:`${e.kernelName}${n}`,title:s.__("Change kernel for %1",e.activityName)})}class se extends S.VDomRenderer{constructor(e,t){super(new se.Model(t));this.translator=t||D.nullTranslator;this._handleClick=e.onClick;this.addClass(j)}render(){if(this.model===null){return null}else{return i().createElement(te,{status:this.model.status,kernelName:this.model.kernelName,activityName:this.model.activityName,handleClick:this._handleClick,translator:this.translator})}}}(function(e){class t extends S.VDomModel{constructor(e){super();this._onKernelStatusChanged=()=>{var e;this._kernelStatus=(e=this._sessionContext)===null||e===void 0?void 0:e.kernelDisplayStatus;this.stateChanged.emit(void 0)};this._onKernelChanged=(e,t)=>{var s;const n=this._getAllState();this._kernelStatus=(s=this._sessionContext)===null||s===void 0?void 0:s.kernelDisplayStatus;this._kernelName=e.kernelDisplayName;this._triggerChange(n,this._getAllState())};this._activityName="activity";this._kernelStatus="";this._sessionContext=null;e=e||D.nullTranslator;this._trans=e.load("jupyterlab");this._kernelName=this._trans.__("No Kernel!")}get kernelName(){return this._kernelName}get status(){return this._kernelStatus}get activityName(){return this._activityName}set activityName(e){const t=this._activityName;if(t===e){return}this._activityName=e;this.stateChanged.emit(void 0)}get sessionContext(){return this._sessionContext}set sessionContext(e){var t,s,n;(t=this._sessionContext)===null||t===void 0?void 0:t.statusChanged.disconnect(this._onKernelStatusChanged);(s=this._sessionContext)===null||s===void 0?void 0:s.kernelChanged.disconnect(this._onKernelChanged);const i=this._getAllState();this._sessionContext=e;this._kernelStatus=e===null||e===void 0?void 0:e.kernelDisplayStatus;this._kernelName=(n=e===null||e===void 0?void 0:e.kernelDisplayName)!==null&&n!==void 0?n:"No Kernel";e===null||e===void 0?void 0:e.statusChanged.connect(this._onKernelStatusChanged,this);e===null||e===void 0?void 0:e.connectionStatusChanged.connect(this._onKernelStatusChanged,this);e===null||e===void 0?void 0:e.kernelChanged.connect(this._onKernelChanged,this);this._triggerChange(i,this._getAllState())}_getAllState(){return[this._kernelName,this._kernelStatus,this._activityName]}_triggerChange(e,t){if(ee.JSONExt.deepEqual(e,t)){this.stateChanged.emit(void 0)}}}e.Model=t})(se||(se={}));const ne=4;function ie(e){return i().createElement(x,{spacing:ne,onClick:e.handleClick},i().createElement(x,{spacing:ne},i().createElement(g,{source:e.terminals}),i().createElement(U.terminalIcon.react,{left:"1px",top:"3px",stylesheet:"statusBar"})),i().createElement(x,{spacing:ne},i().createElement(g,{source:e.sessions}),i().createElement(U.kernelIcon.react,{top:"2px",stylesheet:"statusBar"})))}class re extends S.VDomRenderer{constructor(e){super(new re.Model);this._serviceManager=e.serviceManager;this._handleClick=e.onClick;this.translator=e.translator||D.nullTranslator;this._trans=this.translator.load("jupyterload");this._serviceManager.sessions.runningChanged.connect(this._onSessionsRunningChanged,this);this._serviceManager.terminals.runningChanged.connect(this._onTerminalsRunningChanged,this);this.addClass(j)}render(){if(!this.model){return null}this.title.caption=this._trans.__("%1 Terminals, %2 Kernel sessions",this.model.terminals,this.model.sessions);return i().createElement(ie,{sessions:this.model.sessions,terminals:this.model.terminals,handleClick:this._handleClick})}dispose(){super.dispose();this._serviceManager.sessions.runningChanged.disconnect(this._onSessionsRunningChanged,this);this._serviceManager.terminals.runningChanged.disconnect(this._onTerminalsRunningChanged,this)}_onSessionsRunningChanged(e,t){this.model.sessions=t.length}_onTerminalsRunningChanged(e,t){this.model.terminals=t.length}}(function(e){class t extends S.VDomModel{constructor(){super(...arguments);this._terminals=0;this._sessions=0}get sessions(){return this._sessions}set sessions(e){const t=this._sessions;this._sessions=e;if(t!==this._sessions){this.stateChanged.emit(void 0)}}get terminals(){return this._terminals}set terminals(e){const t=this._terminals;this._terminals=e;if(t!==this._terminals){this.stateChanged.emit(void 0)}}}e.Model=t})(re||(re={}));var oe=s(90090);var ae=s(56078);class le extends S.VDomRenderer{constructor(e){super(new le.Model({refreshRate:5e3}));this.translator=e||D.nullTranslator;this._trans=this.translator.load("jupyterlab")}render(){if(!this.model){return null}let e;if(this.model.memoryLimit===null){e=this._trans.__("Mem: %1 %2",this.model.currentMemory.toFixed(he.DECIMAL_PLACES),this.model.units)}else{e=this._trans.__("Mem: %1 / %2 %3",this.model.currentMemory.toFixed(he.DECIMAL_PLACES),this.model.memoryLimit.toFixed(he.DECIMAL_PLACES),this.model.units)}if(!this.model.usageWarning){return i().createElement(g,{title:this._trans.__("Current mem usage"),source:e})}else{return i().createElement(g,{title:this._trans.__("Current mem usage"),source:e,className:m})}}}(function(e){class t extends S.VDomModel{constructor(e){super();this._currentMemory=0;this._memoryLimit=null;this._metricsAvailable=false;this._units="B";this._warn=false;this._poll=new ae.Poll({factory:()=>he.factory(),frequency:{interval:e.refreshRate,backoff:true},name:"@jupyterlab/statusbar:MemoryUsage#metrics"});this._poll.ticked.connect((e=>{const{payload:t,phase:s}=e.state;if(s==="resolved"){this._updateMetricsValues(t);return}if(s==="rejected"){const e=this._metricsAvailable;this._metricsAvailable=false;this._currentMemory=0;this._memoryLimit=null;this._units="B";if(e){this.stateChanged.emit()}return}}))}get metricsAvailable(){return this._metricsAvailable}get currentMemory(){return this._currentMemory}get memoryLimit(){return this._memoryLimit}get units(){return this._units}get usageWarning(){return this._warn}dispose(){super.dispose();this._poll.dispose()}_updateMetricsValues(e){const t=this._metricsAvailable;const s=this._currentMemory;const n=this._memoryLimit;const i=this._units;const r=this._warn;if(e===null){this._metricsAvailable=false;this._currentMemory=0;this._memoryLimit=null;this._units="B";this._warn=false}else{const t=e.rss;const s=e.limits.memory?e.limits.memory.rss:null;const[n,i]=he.convertToLargestUnit(t);const r=e.limits.memory?e.limits.memory.warn:false;this._metricsAvailable=true;this._currentMemory=n;this._units=i;this._memoryLimit=s?s/he.MEMORY_UNIT_LIMITS[i]:null;this._warn=r}if(this._currentMemory!==s||this._units!==i||this._memoryLimit!==n||this._metricsAvailable!==t||this._warn!==r){this.stateChanged.emit(void 0)}}}e.Model=t})(le||(le={}));var he;(function(e){e.DECIMAL_PLACES=2;e.MEMORY_UNIT_LIMITS={B:1,KB:1024,MB:1048576,GB:1073741824,TB:1099511627776,PB:0x4000000000000};function t(t){if(t<e.MEMORY_UNIT_LIMITS.KB){return[t,"B"]}else if(e.MEMORY_UNIT_LIMITS.KB===t||t<e.MEMORY_UNIT_LIMITS.MB){return[t/e.MEMORY_UNIT_LIMITS.KB,"KB"]}else if(e.MEMORY_UNIT_LIMITS.MB===t||t<e.MEMORY_UNIT_LIMITS.GB){return[t/e.MEMORY_UNIT_LIMITS.MB,"MB"]}else if(e.MEMORY_UNIT_LIMITS.GB===t||t<e.MEMORY_UNIT_LIMITS.TB){return[t/e.MEMORY_UNIT_LIMITS.GB,"GB"]}else if(e.MEMORY_UNIT_LIMITS.TB===t||t<e.MEMORY_UNIT_LIMITS.PB){return[t/e.MEMORY_UNIT_LIMITS.TB,"TB"]}else{return[t/e.MEMORY_UNIT_LIMITS.PB,"PB"]}}e.convertToLargestUnit=t;const s=oe.ServerConnection.makeSettings();const n=Z.URLExt.join(s.baseUrl,"metrics");async function i(){const e=oe.ServerConnection.makeRequest(n,{},s);const t=await e;if(t.ok){return await t.json()}return null}e.factory=i})(he||(he={}));var ce=s(93269);var de=s(58578);class ue extends k.Widget{constructor(){super();this._leftRankItems=[];this._rightRankItems=[];this._statusItems={};this._disposables=new de.DisposableSet;this.addClass(E);const e=this.layout=new k.PanelLayout;const t=this._leftSide=new k.Panel;const s=this._middlePanel=new k.Panel;const n=this._rightSide=new k.Panel;t.addClass(B);t.addClass(N);s.addClass(B);n.addClass(B);n.addClass(L);e.addWidget(t);e.addWidget(s);e.addWidget(n)}registerStatusItem(e,t){if(e in this._statusItems){throw new Error(`Status item ${e} already registered.`)}const s=Object.assign(Object.assign({},me.statusItemDefaults),t);const{align:n,item:i,rank:r}=s;const o=()=>{this._refreshItem(e)};if(s.activeStateChanged){s.activeStateChanged.connect(o)}const a={id:e,rank:r};s.item.addClass(R);this._statusItems[e]=s;if(n==="left"){const e=this._findInsertIndex(this._leftRankItems,a);if(e===-1){this._leftSide.addWidget(i);this._leftRankItems.push(a)}else{ce.ArrayExt.insert(this._leftRankItems,e,a);this._leftSide.insertWidget(e,i)}}else if(n==="right"){const e=this._findInsertIndex(this._rightRankItems,a);if(e===-1){this._rightSide.addWidget(i);this._rightRankItems.push(a)}else{ce.ArrayExt.insert(this._rightRankItems,e,a);this._rightSide.insertWidget(e,i)}}else{this._middlePanel.addWidget(i)}this._refreshItem(e);const l=new de.DisposableDelegate((()=>{delete this._statusItems[e];if(s.activeStateChanged){s.activeStateChanged.disconnect(o)}i.parent=null;i.dispose()}));this._disposables.add(l);return l}dispose(){this._leftRankItems.length=0;this._rightRankItems.length=0;this._disposables.dispose();super.dispose()}onUpdateRequest(e){this._refreshAll();super.onUpdateRequest(e)}_findInsertIndex(e,t){return ce.ArrayExt.findFirstIndex(e,(e=>e.rank>t.rank))}_refreshItem(e){const t=this._statusItems[e];if(t.isActive()){t.item.show();t.item.update()}else{t.item.hide()}}_refreshAll(){Object.keys(this._statusItems).forEach((e=>{this._refreshItem(e)}))}}var me;(function(e){e.statusItemDefaults={align:"left",rank:0,isActive:()=>true,activeStateChanged:undefined}})(me||(me={}));const _e=new ee.Token("@jupyterlab/statusbar:IStatusBar")}}]);