(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[5529],{85529:(e,t,a)=>{"use strict";a.r(t);a.d(t,{default:()=>Q});var n=a(44626);var o=a(90265);var s=a(66995);var r=a(82507);var i=a(29103);var c=a(52191);var l=a(58578);var d=a(56078);var u=a(93269);var m=a(92163);var p=a(86992);var h=a(21157);var g;(function(e){e.activate="apputils:activate-command-palette"})(g||(g={}));const v="@jupyterlab/apputils-extension:palette";class y{constructor(e,t){this.translator=t||h.nullTranslator;const a=this.translator.load("jupyterlab");this._palette=e;this._palette.title.label="";this._palette.title.caption=a.__("Command Palette")}set placeholder(e){this._palette.inputNode.placeholder=e}get placeholder(){return this._palette.inputNode.placeholder}activate(){this._palette.activate()}addItem(e){const t=this._palette.addItem(e);return new l.DisposableDelegate((()=>{this._palette.removeItem(t)}))}}(function(e){function t(t,a,n){const{commands:s,shell:r}=t;const i=a.load("jupyterlab");const c=f.createPalette(t,a);const l=new o.ModalCommandPalette({commandPalette:c});let d=false;r.add(c,"left",{rank:300});if(n){const e=n.load(v);const a=e=>{const t=e.get("modal").composite;if(d&&!t){c.parent=null;l.detach();r.add(c,"left",{rank:300})}else if(!d&&t){c.parent=null;l.palette=c;c.show();l.attach()}d=t};Promise.all([e,t.restored]).then((([e])=>{a(e);e.changed.connect((e=>{a(e)}))})).catch((e=>{console.error(e.message)}))}const p=()=>{const e=(0,u.find)(t.commands.keyBindings,(e=>e.command===g.activate));if(e){const t=m.CommandRegistry.formatKeystroke(e.keys.join(" "));c.title.caption=i.__("Commands (%1)",t)}else{c.title.caption=i.__("Commands")}};p();t.commands.keyBindingChanged.connect((()=>{p()}));s.addCommand(g.activate,{execute:()=>{if(d){l.activate()}else{r.activateById(c.id)}},label:i.__("Activate Command Palette")});c.inputNode.placeholder=i.__("SEARCH");return new e(c,a)}e.activate=t;function a(e,t,a){const n=f.createPalette(e,a);t.add(n,"command-palette")}e.restore=a})(y||(y={}));var f;(function(e){let t;function a(e,a){if(!t){t=new p.CommandPalette({commands:e.commands,renderer:i.CommandPaletteSvg.defaultRenderer});t.id="command-palette";t.title.icon=i.paletteIcon;const n=a.load("jupyterlab");t.title.label=n.__("Commands")}return t}e.createPalette=a})(f||(f={}));var b=a(11368);class S extends r.DataConnector{constructor(e){super();this._throttlers=Object.create(null);this._connector=e}fetch(e){const t=this._throttlers;if(!(e in t)){t[e]=new d.Throttler((()=>this._connector.fetch(e)),100)}return t[e].invoke()}async list(e="all"){const{isDeferred:t,isDisabled:a}=s.PageConfig.Extension;const{ids:n,values:o}=await this._connector.list();if(e==="all"){return{ids:n,values:o}}return{ids:n.filter((e=>!t(e)&&!a(e))),values:o.filter((({id:e})=>!t(e)&&!a(e)))}}async save(e,t){await this._connector.save(e,t)}}const w={id:"@jupyterlab/apputils-extension:settings",activate:async e=>{const{isDisabled:t}=s.PageConfig.Extension;const a=new S(e.serviceManager.settings);const n=new b.SettingRegistry({connector:a,plugins:(await a.list("active")).values});void e.restored.then((async()=>{const e=await a.list("all");e.ids.forEach((async(a,o)=>{if(t(a)||a in n.plugins){return}try{await n.load(a)}catch(s){console.warn(`Settings failed to load for (${a})`,s);if(e.values[o].schema["jupyter.lab.transform"]){console.warn(`This may happen if {autoStart: false} in (${a}) `+`or if it is one of the deferredExtensions in page config.`)}}}))}));return n},autoStart:true,provides:b.ISettingRegistry};var _=a(32834);var k;(function(e){e.changeTheme="apputils:change-theme";e.themeScrollbars="apputils:theme-scrollbars";e.incrFontSize="apputils:incr-font-size";e.decrFontSize="apputils:decr-font-size"})(k||(k={}));const I={id:"@jupyterlab/apputils-extension:themes",requires:[b.ISettingRegistry,n.JupyterFrontEnd.IPaths,h.ITranslator],optional:[o.ISplashScreen],activate:(e,t,a,n,r)=>{const i=n.load("jupyterlab");const c=e.shell;const l=e.commands;const d=s.URLExt.join(s.PageConfig.getBaseUrl(),a.urls.themes);const u=I.id;const m=new o.ThemeManager({key:u,host:c,settings:t,splash:r!==null&&r!==void 0?r:undefined,url:d});let p;m.themeChanged.connect(((e,t)=>{p=t.newValue;document.body.dataset.jpThemeLight=String(m.isLight(p));document.body.dataset.jpThemeName=p;if(document.body.dataset.jpThemeScrollbars!==String(m.themeScrollbars(p))){document.body.dataset.jpThemeScrollbars=String(m.themeScrollbars(p))}m.loadCSSOverrides();l.notifyCommandChanged(k.changeTheme)}));l.addCommand(k.changeTheme,{label:e=>{const t=e["theme"];const a=m.getDisplayName(t);return e["isPalette"]?i.__("Use Theme: %1",a):a},isToggled:e=>e["theme"]===p,execute:e=>{const t=e["theme"];if(t===m.theme){return}return m.setTheme(t)}});l.addCommand(k.themeScrollbars,{label:i.__("Theme Scrollbars"),isToggled:()=>m.isToggledThemeScrollbars(),execute:()=>m.toggleThemeScrollbars()});l.addCommand(k.incrFontSize,{label:e=>`${e["label"]}`,execute:e=>m.incrFontSize(e["key"])});l.addCommand(k.decrFontSize,{label:e=>`${e["label"]}`,execute:e=>m.decrFontSize(e["key"])});return m},autoStart:true,provides:o.IThemeManager};const C={id:"@jupyterlab/apputils-extension:themes-palette-menu",requires:[o.IThemeManager,h.ITranslator],optional:[o.ICommandPalette,_.IMainMenu],activate:(e,t,a,n,o)=>{const s=a.load("jupyterlab");const r=e.commands;if(o){const a=new p.Menu({commands:r});a.title.label=s.__("JupyterLab Theme");void e.restored.then((()=>{const e=false;t.themes.forEach((t=>{a.addItem({command:k.changeTheme,args:{isPalette:e,theme:t}})}));a.addItem({type:"separator"});a.addItem({command:k.themeScrollbars});a.addItem({type:"separator"});a.addItem({command:k.incrFontSize,args:{label:s.__("Increase Code Font Size"),key:"code-font-size"}});a.addItem({command:k.decrFontSize,args:{label:s.__("Decrease Code Font Size"),key:"code-font-size"}});a.addItem({type:"separator"});a.addItem({command:k.incrFontSize,args:{label:s.__("Increase Content Font Size"),key:"content-font-size1"}});a.addItem({command:k.decrFontSize,args:{label:s.__("Decrease Content Font Size"),key:"content-font-size1"}});a.addItem({type:"separator"});a.addItem({command:k.incrFontSize,args:{label:s.__("Increase UI Font Size"),key:"ui-font-size1"}});a.addItem({command:k.decrFontSize,args:{label:s.__("Decrease UI Font Size"),key:"ui-font-size1"}})}));o.settingsMenu.addGroup([{type:"submenu",submenu:a}],0)}if(n){void e.restored.then((()=>{const e=s.__("Theme");const a=k.changeTheme;const o=true;t.themes.forEach((t=>{n.addItem({command:a,args:{isPalette:o,theme:t},category:e})}));n.addItem({command:k.themeScrollbars,category:e});n.addItem({command:k.incrFontSize,args:{label:s.__("Increase Code Font Size"),key:"code-font-size"},category:e});n.addItem({command:k.decrFontSize,args:{label:s.__("Decrease Code Font Size"),key:"code-font-size"},category:e});n.addItem({command:k.incrFontSize,args:{label:s.__("Increase Content Font Size"),key:"content-font-size1"},category:e});n.addItem({command:k.decrFontSize,args:{label:s.__("Decrease Content Font Size"),key:"content-font-size1"},category:e});n.addItem({command:k.incrFontSize,args:{label:s.__("Increase UI Font Size"),key:"ui-font-size1"},category:e});n.addItem({command:k.decrFontSize,args:{label:s.__("Decrease UI Font Size"),key:"ui-font-size1"},category:e})}))}},autoStart:true};var x=a(18834);var j=a(99021);var F;(function(e){e.saveWorkspace="workspace-ui:save";e.saveWorkspaceAs="workspace-ui:save-as"})(F||(F={}));const T="jupyterlab-workspace";const z="."+T;const E="workspace-ui:lastSave";const P="jp-JupyterIcon";const D={id:"@jupyterlab/apputils-extension:workspaces",autoStart:true,requires:[_.IMainMenu,j.IFileBrowserFactory,o.IWindowResolver,r.IStateDB,h.ITranslator],optional:[n.IRouter],activate:(e,t,a,n,o,s,r)=>{const i=s.load("jupyterlab");const c={name:T,contentType:"file",fileFormat:"text",displayName:i.__("JupyterLab workspace File"),extensions:[z],mimeTypes:["text/json"],iconClass:P};e.docRegistry.addFileType(c);const l=new R.WorkspaceFactory(e.serviceManager.workspaces,r,o,s);e.docRegistry.addWidgetFactory(l);e.commands.addCommand(F.saveWorkspaceAs,{label:i.__("Save Current Workspace As..."),execute:async()=>{const t=e.serviceManager.workspaces.fetch(n.name);await R.saveAs(a.defaultBrowser,e.serviceManager.contents,t,o,s)}});e.commands.addCommand(F.saveWorkspace,{label:i.__("Save Current Workspace"),execute:async()=>{const{contents:t}=e.serviceManager;const r=e.serviceManager.workspaces.fetch(n.name);const i=await o.fetch(E);if(i===undefined){await R.saveAs(a.defaultBrowser,t,r,o,s)}else{await R.save(i,t,r,o)}}});t.fileMenu.addGroup([{command:F.saveWorkspaceAs},{command:F.saveWorkspace}],40)}};var R;(function(e){async function t(e,t,a,n){let o=e.split("/").pop();if(o!==undefined&&o.includes(".")){o=o.split(".")[0]}else{e=e+z}await n.save(E,e);const s=await a;s.metadata.id=`/lab/workspaces/${o}`;await t.save(e,{type:"file",format:"text",content:JSON.stringify(s)})}e.save=t;async function a(e,a,n,o,s){var i;s=s||h.nullTranslator;const c=await o.fetch(E);let l;if(c===undefined){l="new-workspace"}else{l=(i=c.split("/").pop())===null||i===void 0?void 0:i.split(".")[0]}const d=e.model.path+"/"+l+z;const u=await r(d,s);if(u){await t(u,a,n,o)}}e.saveAs=a;class n extends x.ABCWidgetFactory{constructor(e,t,a,n){n=n||h.nullTranslator;const o=n.load("jupyterlab");super({name:o.__("Workspace loader"),fileTypes:[T],defaultFor:[T],readOnly:true});this.workspaces=e;this.router=t;this.state=a}createNewWidget(e){void e.ready.then((async()=>{const t=e.model.toJSON();const a=e.path;const n=t.metadata.id;await this.workspaces.save(n,t);await this.state.save(E,a);if(this.router){this.router.navigate(n,{hard:true})}else{document.location.href=n}}));return s(e)}}e.WorkspaceFactory=n;function s(e){const t=new x.DocumentWidget({content:new p.Widget,context:e});t.content.dispose();return t}async function r(e,t){t=t||h.nullTranslator;const a=t.load("jupyterlab");const n=o.Dialog.okButton({label:a.__("Save")});const s=await(0,o.showDialog)({title:a.__("Save Current Workspace As..."),body:new i(e),buttons:[o.Dialog.cancelButton({label:a.__("Cancel")}),n]});if(s.button.label===a.__("Save")){return s.value}else{return null}}class i extends p.Widget{constructor(e){super({node:c(e)})}getValue(){return this.node.value}}function c(e){const t=document.createElement("input");t.value=e;return t}})(R||(R={}));const W=12e3;var L;(function(e){e.loadState="apputils:load-statedb";e.print="apputils:print";e.reset="apputils:reset";e.resetOnLoad="apputils:reset-on-load";e.runFirstEnabled="apputils:run-first-enabled"})(L||(L={}));const M={id:"@jupyterlab/apputils-extension:palette",autoStart:true,requires:[h.ITranslator],provides:o.ICommandPalette,optional:[b.ISettingRegistry],activate:(e,t,a)=>y.activate(e,t,a)};const U={id:"@jupyterlab/apputils-extension:palette-restorer",autoStart:true,requires:[n.ILayoutRestorer,h.ITranslator],activate:(e,t,a)=>{y.restore(e,t,a)}};const B={id:"@jupyterlab/apputils-extension:resolver",autoStart:true,provides:o.IWindowResolver,requires:[n.JupyterFrontEnd.IPaths,n.IRouter],activate:async(e,t,a)=>{const{hash:n,search:r}=a.current;const i=s.URLExt.queryStringToObject(r||"");const c=new o.WindowResolver;const l=s.PageConfig.getOption("workspace");const d=s.PageConfig.getOption("treePath");const u=s.PageConfig.getOption("mode")==="multiple-document"?"lab":"doc";const m=l?l:s.PageConfig.defaultWorkspace;const p=d?s.URLExt.join("tree",d):"";try{await c.resolve(m);return c}catch(h){return new Promise((()=>{const{base:e}=t.urls;const o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";const r=o[Math.floor(Math.random()*o.length)];let c=s.URLExt.join(e,u,"workspaces",`auto-${r}`);c=p?s.URLExt.join(c,s.URLExt.encodeParts(p)):c;i["reset"]="";const l=c+s.URLExt.objectToQueryString(i)+(n||"");a.navigate(l,{hard:true})}))}}};const A={id:"@jupyterlab/apputils-extension:splash",autoStart:true,requires:[h.ITranslator],provides:o.ISplashScreen,activate:(e,t)=>{const a=t.load("jupyterlab");const{commands:n,restored:s}=e;const r=document.createElement("div");const c=document.createElement("div");const u=document.createElement("div");r.id="jupyterlab-splash";c.id="galaxy";u.id="main-logo";i.jupyterFaviconIcon.element({container:u,stylesheet:"splash"});c.appendChild(u);["1","2","3"].forEach((e=>{const t=document.createElement("div");const a=document.createElement("div");t.id=`moon${e}`;t.className="moon orbit";a.id=`planet${e}`;a.className="planet";t.appendChild(a);c.appendChild(t)}));r.appendChild(c);let m;const p=new d.Throttler((async()=>{if(m){return}m=new o.Dialog({title:a.__("Loading..."),body:a.__(`The loading screen is taking a long time. \nWould you like to clear the workspace or keep waiting?`),buttons:[o.Dialog.cancelButton({label:a.__("Keep Waiting")}),o.Dialog.warnButton({label:a.__("Clear Workspace")})]});try{const e=await m.launch();m.dispose();m=null;if(e.button.accept&&n.hasCommand(L.reset)){return n.execute(L.reset)}requestAnimationFrame((()=>{void p.invoke().catch((e=>undefined))}))}catch(e){}}),{limit:W,edge:"trailing"});let h=0;return{show:(e=true)=>{r.classList.remove("splash-fade");r.classList.toggle("light",e);r.classList.toggle("dark",!e);h++;document.body.appendChild(r);void p.invoke().catch((e=>undefined));return new l.DisposableDelegate((async()=>{await s;if(--h===0){void p.stop();if(m){m.dispose();m=null}r.classList.add("splash-fade");window.setTimeout((()=>{document.body.removeChild(r)}),200)}}))}}}};const O={id:"@jupyterlab/apputils-extension:print",autoStart:true,requires:[h.ITranslator],activate:(e,t)=>{const a=t.load("jupyterlab");e.commands.addCommand(L.print,{label:a.__("Print..."),isEnabled:()=>{const t=e.shell.currentWidget;return o.Printing.getPrintFunction(t)!==null},execute:async()=>{const t=e.shell.currentWidget;const a=o.Printing.getPrintFunction(t);if(a){await a()}}})}};const q={id:"@jupyterlab/apputils-extension:state",autoStart:true,provides:r.IStateDB,requires:[n.JupyterFrontEnd.IPaths,n.IRouter,h.ITranslator],optional:[o.ISplashScreen,o.IWindowResolver],activate:(e,t,a,n,o,i)=>{const u=n.load("jupyterlab");if(i===null){return new r.StateDB}let m=false;const{commands:p,serviceManager:h}=e;const{workspaces:g}=h;const v=i.name;const y=new c.PromiseDelegate;const f=new r.StateDB({transform:y.promise});const b=new d.Debouncer((async()=>{const e=v;const t={id:e};const a=await f.toJSON();await g.save(e,{data:a,metadata:t})}));f.changed.connect((()=>void b.invoke()),f);p.addCommand(L.loadState,{execute:async e=>{if(m){return}const{hash:n,path:o,search:r}=e;const{urls:i}=t;const c=s.URLExt.queryStringToObject(r||"");const l=typeof c["clone"]==="string"?c["clone"]===""?s.URLExt.join(i.base,i.app):s.URLExt.join(i.base,i.app,"workspaces",c["clone"]):null;const d=l||v||null;if(d===null){console.error(`${L.loadState} cannot load null workspace.`);return}try{const e=await g.fetch(d);if(!m){m=true;y.resolve({type:"overwrite",contents:e.data})}}catch({message:u}){console.warn(`Fetching workspace "${v}" failed.`,u);if(!m){m=true;y.resolve({type:"cancel",contents:null})}}if(d===l){delete c["clone"];const e=o+s.URLExt.objectToQueryString(c)+n;const t=b.invoke().then((()=>a.stop));void t.then((()=>{a.navigate(e)}));return t}await b.invoke()}});p.addCommand(L.reset,{label:u.__("Reset Application State"),execute:async({reload:e})=>{await f.clear();await b.invoke();if(e){a.reload()}}});p.addCommand(L.resetOnLoad,{execute:e=>{const{hash:t,path:n,search:r}=e;const i=s.URLExt.queryStringToObject(r||"");const c="reset"in i;const d="clone"in i;if(!c){return}const u=o?o.show():new l.DisposableDelegate((()=>undefined));if(m){return a.reload()}m=true;y.resolve({type:"clear",contents:null});delete i["reset"];const p=n+s.URLExt.objectToQueryString(i)+t;const h=f.clear().then((()=>b.invoke()));if(d){void h.then((()=>{a.navigate(p,{hard:true})}))}else{void h.then((()=>{a.navigate(p);u.dispose()}))}return h}});a.register({command:L.loadState,pattern:/.?/,rank:30});a.register({command:L.resetOnLoad,pattern:/(\?reset|\&reset)($|&)/,rank:20});return f}};const N={id:"@jupyterlab/apputils-extension:sessionDialogs",provides:o.ISessionContextDialogs,autoStart:true,activate:()=>o.sessionContextDialogs};const $={id:"@jupyterlab/apputils-extension:utilityCommands",requires:[h.ITranslator],autoStart:true,activate:(e,t)=>{const a=t.load("jupyterlab");const{commands:n}=e;n.addCommand(L.runFirstEnabled,{label:a.__("Run First Enabled Command"),execute:t=>{const a=t.commands;const n=t.args;const o=Array.isArray(t);for(let s=0;s<a.length;s++){const t=a[s];const r=o?n[s]:n;if(e.commands.isEnabled(t,r)){return e.commands.execute(t,r)}}}})}};const J=[M,U,O,B,w,q,A,N,I,C,$,D];const Q=J}}]);