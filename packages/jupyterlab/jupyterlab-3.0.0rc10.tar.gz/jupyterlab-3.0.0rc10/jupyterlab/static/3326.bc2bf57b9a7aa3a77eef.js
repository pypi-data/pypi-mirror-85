(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[3326,4610],{3326:(e,t,o)=>{"use strict";o.r(t);o.d(t,{default:()=>y});var n=o(93269);var r=o.n(n);var i=o(86992);var s=o.n(i);var a=o(66995);var c=o.n(a);var d=o(39193);var l=o.n(d);var u=o(5328);var v=o.n(u);var m=o(68677);var p=o.n(m);var f=o(21644);var h=o.n(f);var k=o(45751);var g=o.n(k);var C;(function(e){e.dismiss="tooltip:dismiss";e.launchConsole="tooltip:launch-console";e.launchNotebook="tooltip:launch-notebook";e.launchFile="tooltip:launch-file"})(C||(C={}));const b={id:"@jupyterlab/tooltip-extension:manager",autoStart:true,provides:k.ITooltipManager,activate:e=>{let t=null;e.commands.addCommand(C.dismiss,{execute:()=>{if(t){t.dispose();t=null}}});return{invoke(e){const o=0;const{anchor:n,editor:r,kernel:s,rendermime:a}=e;if(t){t.dispose();t=null}return _.fetch({detail:o,editor:r,kernel:s}).then((e=>{t=new k.Tooltip({anchor:n,bundle:e,editor:r,rendermime:a});i.Widget.attach(t,document.body)})).catch((()=>{}))}}}};const x={id:"@jupyterlab/tooltip-extension:consoles",autoStart:true,requires:[k.ITooltipManager,d.IConsoleTracker],activate:(e,t,o)=>{e.commands.addCommand(C.launchConsole,{execute:()=>{var e,n;const r=o.currentWidget;if(!r){return}const i=r.console;const s=(e=i.promptCell)===null||e===void 0?void 0:e.editor;const a=(n=i.sessionContext.session)===null||n===void 0?void 0:n.kernel;const c=i.rendermime;if(!!s&&!!a&&!!c){return t.invoke({anchor:i,editor:s,kernel:a,rendermime:c})}}})}};const I={id:"@jupyterlab/tooltip-extension:notebooks",autoStart:true,requires:[k.ITooltipManager,m.INotebookTracker],activate:(e,t,o)=>{e.commands.addCommand(C.launchNotebook,{execute:()=>{var e,n;const r=o.currentWidget;if(!r){return}const i=r.content;const s=(e=i.activeCell)===null||e===void 0?void 0:e.editor;const a=(n=r.sessionContext.session)===null||n===void 0?void 0:n.kernel;const c=i.rendermime;if(!!s&&!!a&&!!c){return t.invoke({anchor:i,editor:s,kernel:a,rendermime:c})}}})}};const T={id:"@jupyterlab/tooltip-extension:files",autoStart:true,requires:[k.ITooltipManager,u.IEditorTracker,f.IRenderMimeRegistry],activate:(e,t,o,r)=>{const i={};const s=e.serviceManager.sessions;const a=(e,t)=>{o.forEach((e=>{const o=(0,n.find)(t,(t=>e.context.path===t.path));if(o){const t=i[e.id];if(t&&t.id===o.id){return}if(t){delete i[e.id];t.dispose()}const n=s.connectTo({model:o});i[e.id]=n}else{const t=i[e.id];if(t){t.dispose();delete i[e.id]}}}))};a(s,(0,n.toArray)(s.running()));s.runningChanged.connect(a);o.widgetAdded.connect(((e,t)=>{t.disposed.connect((e=>{const t=i[e.id];if(t){t.dispose();delete i[e.id]}}))}));e.commands.addCommand(C.launchFile,{execute:async()=>{const e=o.currentWidget;const n=e&&i[e.id]&&i[e.id].kernel;if(!n){return}const s=e.content;const a=s===null||s===void 0?void 0:s.editor;if(!!a&&!!n&&!!r){return t.invoke({anchor:s,editor:a,kernel:n,rendermime:r})}}})}};const j=[b,x,I,T];const y=j;var _;(function(e){let t=0;function o(e){const{detail:o,editor:n,kernel:r}=e;const i=n.model.value.text;const s=n.getCursorPosition();const c=a.Text.jsIndexToCharIndex(n.getOffsetAt(s),i);if(!i||!r){return Promise.reject(void 0)}const d={code:i,cursor_pos:c,detail_level:o||0};const l=++t;return r.requestInspect(d).then((e=>{const o=e.content;if(l!==t){return Promise.reject(void 0)}if(o.status!=="ok"||!o.found){return Promise.reject(void 0)}return Promise.resolve(o.data)}))}e.fetch=o})(_||(_={}))}}]);