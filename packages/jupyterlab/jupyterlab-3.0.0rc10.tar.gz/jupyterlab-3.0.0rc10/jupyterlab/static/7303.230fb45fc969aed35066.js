(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[7303],{17303:(e,t,r)=>{"use strict";r.r(t);r.d(t,{Drag:()=>i});var o=r(58578);var n=r.n(o);var i=function(){function e(e){var t=this;this._onScrollFrame=function(){if(!t._scrollTarget){return}var e=t._scrollTarget,r=e.element,o=e.edge,n=e.distance;var i=s.SCROLL_EDGE_SIZE-n;var a=Math.pow(i/s.SCROLL_EDGE_SIZE,2);var u=Math.max(1,Math.round(a*s.SCROLL_EDGE_SIZE));switch(o){case"top":r.scrollTop-=u;break;case"left":r.scrollLeft-=u;break;case"right":r.scrollLeft+=u;break;case"bottom":r.scrollTop+=u;break}requestAnimationFrame(t._onScrollFrame)};this._disposed=false;this._dropAction="none";this._override=null;this._currentTarget=null;this._currentElement=null;this._promise=null;this._scrollTarget=null;this._resolve=null;this.mimeData=e.mimeData;this.dragImage=e.dragImage||null;this.proposedAction=e.proposedAction||"copy";this.supportedActions=e.supportedActions||"all";this.source=e.source||null}e.prototype.dispose=function(){if(this._disposed){return}this._disposed=true;if(this._currentTarget){var e=s.createMouseEvent("mouseup",-1,-1);s.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")};Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:true,configurable:true});e.prototype.start=function(e,t){var r=this;if(this._disposed){return Promise.resolve("none")}if(this._promise){return this._promise}this._addListeners();this._attachDragImage(e,t);this._promise=new Promise((function(e,t){r._resolve=e}));var o=s.createMouseEvent("mousemove",e,t);document.dispatchEvent(o);return this._promise};e.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault();e.stopPropagation();break}};e.prototype.moveDragImage=function(e,t){if(!this.dragImage){return}var r=this.dragImage.style;r.top=t+"px";r.left=e+"px"};e.prototype._evtMouseMove=function(e){e.preventDefault();e.stopPropagation();this._updateCurrentTarget(e);this._updateDragScroll(e);this.moveDragImage(e.clientX,e.clientY)};e.prototype._evtMouseUp=function(e){e.preventDefault();e.stopPropagation();if(e.button!==0){return}this._updateCurrentTarget(e);if(!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){s.dispatchDragLeave(this,this._currentTarget,null,e);this._finalize("none");return}var t=s.dispatchDrop(this,this._currentTarget,e);this._finalize(t)};e.prototype._evtKeyDown=function(e){e.preventDefault();e.stopPropagation();if(e.keyCode===27){this.dispose()}};e.prototype._addListeners=function(){document.addEventListener("mousedown",this,true);document.addEventListener("mousemove",this,true);document.addEventListener("mouseup",this,true);document.addEventListener("mouseenter",this,true);document.addEventListener("mouseleave",this,true);document.addEventListener("mouseover",this,true);document.addEventListener("mouseout",this,true);document.addEventListener("keydown",this,true);document.addEventListener("keyup",this,true);document.addEventListener("keypress",this,true);document.addEventListener("contextmenu",this,true)};e.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,true);document.removeEventListener("mousemove",this,true);document.removeEventListener("mouseup",this,true);document.removeEventListener("mouseenter",this,true);document.removeEventListener("mouseleave",this,true);document.removeEventListener("mouseover",this,true);document.removeEventListener("mouseout",this,true);document.removeEventListener("keydown",this,true);document.removeEventListener("keyup",this,true);document.removeEventListener("keypress",this,true);document.removeEventListener("contextmenu",this,true)};e.prototype._updateDragScroll=function(e){var t=s.findScrollTarget(e);if(!this._scrollTarget&&!t){return}if(!this._scrollTarget){setTimeout(this._onScrollFrame,500)}this._scrollTarget=t};e.prototype._updateCurrentTarget=function(e){var t=this._currentTarget;var r=this._currentTarget;var o=this._currentElement;var n=document.elementFromPoint(e.clientX,e.clientY);this._currentElement=n;if(n!==o&&n!==r){s.dispatchDragExit(this,r,n,e)}if(n!==o&&n!==r){r=s.dispatchDragEnter(this,n,r,e)}if(r!==t){this._currentTarget=r;s.dispatchDragLeave(this,t,r,e)}var i=s.dispatchDragOver(this,r,e);this._setDropAction(i)};e.prototype._attachDragImage=function(e,t){if(!this.dragImage){return}this.dragImage.classList.add("lm-mod-drag-image");this.dragImage.classList.add("p-mod-drag-image");var r=this.dragImage.style;r.pointerEvents="none";r.position="fixed";r.top=t+"px";r.left=e+"px";document.body.appendChild(this.dragImage)};e.prototype._detachDragImage=function(){if(!this.dragImage){return}var e=this.dragImage.parentNode;if(!e){return}e.removeChild(this.dragImage)};e.prototype._setDropAction=function(t){t=s.validateAction(t,this.supportedActions);if(this._override&&this._dropAction===t){return}switch(t){case"none":this._dropAction=t;this._override=e.overrideCursor("no-drop");break;case"copy":this._dropAction=t;this._override=e.overrideCursor("copy");break;case"link":this._dropAction=t;this._override=e.overrideCursor("alias");break;case"move":this._dropAction=t;this._override=e.overrideCursor("move");break}};e.prototype._finalize=function(e){var t=this._resolve;this._removeListeners();this._detachDragImage();if(this._override){this._override.dispose();this._override=null}this.mimeData.clear();this._disposed=true;this._dropAction="none";this._currentTarget=null;this._currentElement=null;this._scrollTarget=null;this._promise=null;this._resolve=null;if(t){t(e)}};return e}();(function(e){function t(e){var t=++r;document.body.style.cursor=e;document.body.classList.add("lm-mod-override-cursor");document.body.classList.add("p-mod-override-cursor");return new o.DisposableDelegate((function(){if(t===r){document.body.style.cursor="";document.body.classList.remove("lm-mod-override-cursor");document.body.classList.remove("p-mod-override-cursor")}}))}e.overrideCursor=t;var r=0})(i||(i={}));var s;(function(e){e.SCROLL_EDGE_SIZE=20;function t(e,t){return c[e]&d[t]?e:"none"}e.validateAction=t;function r(e,t,r){var o=document.createEvent("MouseEvent");o.initMouseEvent(e,true,true,window,0,0,0,t,r,false,false,false,false,0,null);return o}e.createMouseEvent=r;function o(t){var r=t.clientX;var o=t.clientY;var n=document.elementFromPoint(r,o);for(;n;n=n.parentElement){var i=n.hasAttribute("data-lm-dragscroll");i=i||n.hasAttribute("data-p-dragscroll");if(!i){continue}var s=0;var a=0;if(n===document.body){s=window.pageXOffset;a=window.pageYOffset}var u=n.getBoundingClientRect();var c=u.top+a;var d=u.left+s;var l=d+u.width;var p=c+u.height;if(r<d||r>=l||o<c||o>=p){continue}var v=r-d+1;var h=o-c+1;var m=l-r;var f=p-o;var g=Math.min(v,h,m,f);if(g>e.SCROLL_EDGE_SIZE){continue}var _=void 0;switch(g){case f:_="bottom";break;case h:_="top";break;case m:_="right";break;case v:_="left";break;default:throw"unreachable"}var E=n.scrollWidth-n.clientWidth;var y=n.scrollHeight-n.clientHeight;var L=void 0;switch(_){case"top":L=y>0&&n.scrollTop>0;break;case"left":L=E>0&&n.scrollLeft>0;break;case"right":L=E>0&&n.scrollLeft<E;break;case"bottom":L=y>0&&n.scrollTop<y;break;default:throw"unreachable"}if(!L){continue}return{element:n,edge:_,distance:g}}return null}e.findScrollTarget=o;function n(e,t,r,o){if(!t){return null}var n=l("lm-dragenter",e,o,r);var i=!t.dispatchEvent(n);if(i){return t}n=l("p-dragenter",e,o,r);i=!t.dispatchEvent(n);if(i){return t}if(t===document.body){return r}n=l("lm-dragenter",e,o,r);document.body.dispatchEvent(n);n=l("p-dragenter",e,o,r);document.body.dispatchEvent(n);return document.body}e.dispatchDragEnter=n;function i(e,t,r,o){if(!t){return}var n=l("lm-dragexit",e,o,r);t.dispatchEvent(n);n=l("p-dragexit",e,o,r);t.dispatchEvent(n)}e.dispatchDragExit=i;function s(e,t,r,o){if(!t){return}var n=l("lm-dragleave",e,o,r);t.dispatchEvent(n);n=l("p-dragleave",e,o,r);t.dispatchEvent(n)}e.dispatchDragLeave=s;function a(e,t,r){if(!t){return"none"}var o=l("lm-dragover",e,r,null);var n=!t.dispatchEvent(o);if(n){return o.dropAction}o=l("p-dragover",e,r,null);n=!t.dispatchEvent(o);if(n){return o.dropAction}return"none"}e.dispatchDragOver=a;function u(e,t,r){if(!t){return"none"}var o=l("lm-drop",e,r,null);var n=!t.dispatchEvent(o);if(n){return o.dropAction}o=l("p-drop",e,r,null);n=!t.dispatchEvent(o);if(n){return o.dropAction}return"none"}e.dispatchDrop=u;var c={none:0,copy:1,link:2,move:4};var d={none:c["none"],copy:c["copy"],link:c["link"],move:c["move"],"copy-link":c["copy"]|c["link"],"copy-move":c["copy"]|c["move"],"link-move":c["link"]|c["move"],all:c["copy"]|c["link"]|c["move"]};function l(e,t,r,o){var n=document.createEvent("MouseEvent");n.initMouseEvent(e,true,true,window,0,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,o);n.dropAction="none";n.mimeData=t.mimeData;n.proposedAction=t.proposedAction;n.supportedActions=t.supportedActions;n.source=t.source;return n}})(s||(s={}))}}]);