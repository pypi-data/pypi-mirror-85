(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[1084,2824],{32824:(e,t,r)=>{"use strict";r.r(t);r.d(t,{default:()=>x});var n=r(44626);var a=r.n(n);var o=r(90265);var d=r.n(o);var c=r(77451);var i=r.n(c);var s=r(21644);var p=r.n(s);var m=r(11368);var w=r.n(m);var u=r(66995);var l=r.n(u);var v=r(21157);var k=r.n(v);var g;(function(e){e.markdownPreview="markdownviewer:open";e.markdownEditor="markdownviewer:edit"})(g||(g={}));const h="Markdown Preview";const y={activate:f,id:"@jupyterlab/markdownviewer-extension:plugin",provides:c.IMarkdownViewerTracker,requires:[n.ILayoutRestorer,s.IRenderMimeRegistry,m.ISettingRegistry,v.ITranslator],autoStart:true};function f(e,t,r,n,a){const d=a.load("jupyterlab");const{commands:i,docRegistry:p}=e;r.addFactory(s.markdownRendererFactory);const m="markdownviewer-widget";const w=new o.WidgetTracker({namespace:m});let l=Object.assign({},c.MarkdownViewer.defaultConfig);function v(e){Object.keys(l).forEach((t=>{var r;e.setOption(t,(r=l[t])!==null&&r!==void 0?r:null)}))}function k(e){l=e.composite;w.forEach((e=>{v(e.content)}))}n.load(y.id).then((e=>{e.changed.connect((()=>{k(e)}));k(e)})).catch((e=>{console.error(e.message)}));const f=new c.MarkdownViewerFactory({rendermime:r,name:h,primaryFileType:p.getFileType("markdown"),fileTypes:["markdown"],defaultRendered:["markdown"]});f.widgetCreated.connect(((e,t)=>{t.context.pathChanged.connect((()=>{void w.save(t)}));v(t.content);void w.add(t)}));p.addWidgetFactory(f);void t.restore(w,{command:"docmanager:open",args:e=>({path:e.context.path,factory:h}),name:e=>e.context.path});i.addCommand(g.markdownPreview,{label:d.__("Markdown Preview"),execute:e=>{const t=e["path"];if(typeof t!=="string"){return}return i.execute("docmanager:open",{path:t,factory:h,options:e["options"]})}});i.addCommand(g.markdownEditor,{execute:()=>{const e=w.currentWidget;if(!e){return}const t=e.context.path;return i.execute("docmanager:open",{path:t,factory:"Editor",options:{mode:"split-right"}})},isVisible:()=>{const e=w.currentWidget;return e&&u.PathExt.extname(e.context.path)===".md"||false},label:d.__("Show Markdown Editor")});e.contextMenu.addItem({command:g.markdownEditor,selector:".jp-RenderedMarkdown"});return w}const x=y}}]);