(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[5453,6396],{15453:(e,t,o)=>{"use strict";o.r(t);o.d(t,{default:()=>b,addCommands:()=>_});var i=o(44626);var a=o.n(i);var n=o(90265);var r=o.n(n);var c=o(67686);var l=o.n(c);var d=o(21157);var s=o.n(d);var m;(function(e){e.resetImage="imageviewer:reset-image";e.zoomIn="imageviewer:zoom-in";e.zoomOut="imageviewer:zoom-out";e.flipHorizontal="imageviewer:flip-horizontal";e.flipVertical="imageviewer:flip-vertical";e.rotateClockwise="imageviewer:rotate-clockwise";e.rotateCounterclockwise="imageviewer:rotate-counterclockwise";e.invertColors="imageviewer:invert-colors"})(m||(m={}));const u=["png","gif","jpeg","bmp","ico","tiff"];const v="Image";const g="Image (Text)";const f=["svg","xbm"];const p=new RegExp(`[.](${f.join("|")})$`);const w={activate:C,id:"@jupyterlab/imageviewer-extension:plugin",provides:c.IImageTracker,requires:[d.ITranslator],optional:[n.ICommandPalette,i.ILayoutRestorer],autoStart:true};const b=w;function C(e,t,o,i){const a=t.load("jupyterlab");const r="image-widget";function l(t,o){var i,a;o.context.pathChanged.connect((()=>{void w.save(o)}));void w.add(o);const n=e.docRegistry.getFileTypesForPath(o.context.path);if(n.length>0){o.title.icon=n[0].icon;o.title.iconClass=(i=n[0].iconClass)!==null&&i!==void 0?i:"";o.title.iconLabel=(a=n[0].iconLabel)!==null&&a!==void 0?a:""}}const d=new c.ImageViewerFactory({name:v,modelName:"base64",fileTypes:[...u,...f],defaultFor:u,readOnly:true});const s=new c.ImageViewerFactory({name:g,modelName:"text",fileTypes:f,defaultFor:f,readOnly:true});[d,s].forEach((t=>{e.docRegistry.addWidgetFactory(t);t.widgetCreated.connect(l)}));const w=new n.WidgetTracker({namespace:r});if(i){void i.restore(w,{command:"docmanager:open",args:e=>({path:e.context.path,factory:p.test(e.context.path)?g:v}),name:e=>e.context.path})}_(e,w,t);if(o){const e=a.__("Image Viewer");[m.zoomIn,m.zoomOut,m.resetImage,m.rotateClockwise,m.rotateCounterclockwise,m.flipHorizontal,m.flipVertical,m.invertColors].forEach((t=>{o.addItem({command:t,category:e})}))}return w}function _(e,t,o){const i=o.load("jupyterlab");const{commands:a,shell:n}=e;function r(){return t.currentWidget!==null&&t.currentWidget===n.currentWidget}a.addCommand("imageviewer:zoom-in",{execute:c,label:i.__("Zoom In"),isEnabled:r});a.addCommand("imageviewer:zoom-out",{execute:l,label:i.__("Zoom Out"),isEnabled:r});a.addCommand("imageviewer:reset-image",{execute:d,label:i.__("Reset Image"),isEnabled:r});a.addCommand("imageviewer:rotate-clockwise",{execute:s,label:i.__("Rotate Clockwise"),isEnabled:r});a.addCommand("imageviewer:rotate-counterclockwise",{execute:m,label:i.__("Rotate Counterclockwise"),isEnabled:r});a.addCommand("imageviewer:flip-horizontal",{execute:u,label:i.__("Flip image horizontally"),isEnabled:r});a.addCommand("imageviewer:flip-vertical",{execute:v,label:i.__("Flip image vertically"),isEnabled:r});a.addCommand("imageviewer:invert-colors",{execute:g,label:i.__("Invert Colors"),isEnabled:r});function c(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.scale=o.scale>1?o.scale+.5:o.scale*2}}function l(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.scale=o.scale>1?o.scale-.5:o.scale/2}}function d(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.scale=1;o.colorinversion=0;o.resetRotationFlip()}}function s(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.rotateClockwise()}}function m(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.rotateCounterclockwise()}}function u(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.flipHorizontal()}}function v(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.flipVertical()}}function g(){var e;const o=(e=t.currentWidget)===null||e===void 0?void 0:e.content;if(o){o.colorinversion+=1;o.colorinversion%=2}}}}}]);