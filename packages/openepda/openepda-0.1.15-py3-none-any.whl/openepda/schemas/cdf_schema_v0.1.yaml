# openepda.schemas.cdf_schema_v0.1.yaml
#
# This file contains JSON Schema for Chip Description File
#
# Author(s): Dzmitry Pustakhod
#
# Copyright: TU/e - PITC and authors
#
$schema: http://json-schema.org/draft-07/schema
$id: http://openepda.org/schemas/cdf_schema_v0.1.yaml
type: object
properties:
  cdf:  # file identifier
    type: string
  cell: {type: string}
  unit:
    type: string
    pattern: ^[cun]*m$  # length unit
  fiducial:
    type: object
    properties:  # Three types of fiducials are recognized
      target:  # 1
        type: array
        items:
          type: object
          additionalProperties:
            type: array
            items: [{type: number}, {type: number}]  # (u, v): chip coordinates
      cornerUL:  # 2
        type: array
        items:
          type: object
          additionalProperties:
            type: array
            items: [{type: number}, {type: number}]  # (u, v): chip coordinates
      disc:  # 3
        type: array
        items:
          type: object
          additionalProperties:
            type: array
            items: [{type: number}, {type: number}]  # (u, v): chip coordinates
    additionalProperties: false
  io:
    type: object
    properties:  # Three types of io's are recognized
      optical_port:  # 1
        type: array
        items:
          type: object
          additionalProperties:
            type: array
            items: [{type: number}, {type: number}]  # (u, v): chip coordinates
      dc_pad:  # 2
        type: array
        items:
          type: object
          additionalProperties:
            type: array
            items: [{type: number}, {type: number}]  # (u, v): chip coordinates
      rf_pad:  # 3
        type: array
        items:
          type: object
          additionalProperties:
            type: array
            items: [{type: number}, {type: number}]  # (u, v): chip coordinates
    additionalProperties: false
  _openEPDA:
    type: object
    properties:
      format:
        const: openEPDA-CDF
      version:
        type: string
        enum": ["0.1"]
      link:
        type: string
        pattern: "^[hH][tT][tT][pP][sS]://([wW]{3}.)?[oO][pP][eE][nN][eE][pP][dD][aA].org$"
required: [cdf, cell, unit, io, _openEPDA]
additionalProperties: false
