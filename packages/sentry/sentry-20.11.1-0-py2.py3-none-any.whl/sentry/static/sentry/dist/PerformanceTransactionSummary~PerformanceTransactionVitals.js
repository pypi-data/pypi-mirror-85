(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[24],{2022:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return S}));var r,o=n(28),a=n.n(o),i=n(6),c=n.n(i),s=n(4),u=n(63),l=n(25);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=100,y=.75,d=(r={},c()(r,u.e.FP,{slug:"fp",name:Object(s.b)("First Paint"),acronym:"FP",description:Object(s.b)("Render time of the first pixel loaded in the viewport (may overlap with FCP)."),failureThreshold:3e3,type:Object(u.q)(u.e.FP)}),c()(r,u.e.FCP,{slug:"fcp",name:Object(s.b)("First Contentful Paint"),acronym:"FCP",description:Object(s.b)("Render time of the first image, text or other DOM node in the viewport."),failureThreshold:3e3,type:Object(u.q)(u.e.FCP)}),c()(r,u.e.LCP,{slug:"lcp",name:Object(s.b)("Largest Contentful Paint"),acronym:"LCP",description:Object(s.b)("Render time of the largest image, text or other DOM node in the viewport."),failureThreshold:4e3,type:Object(u.q)(u.e.LCP)}),c()(r,u.e.FID,{slug:"fid",name:Object(s.b)("First Input Delay"),acronym:"FID",description:Object(s.b)("Response time of the browser to a user interaction (clicking, tapping, etc)."),failureThreshold:300,type:Object(u.q)(u.e.FID)}),c()(r,u.e.CLS,{slug:"cls",name:Object(s.b)("Cumulative Layout Shift"),acronym:"CLS",description:Object(s.b)("Sum of layout shift scores that measure the visual stability of the page."),failureThreshold:.25,type:Object(u.q)(u.e.CLS)}),c()(r,u.e.TTFB,{slug:"ttfb",name:Object(s.b)("Time to First Byte"),acronym:"TTFB",description:Object(s.b)("The time that it takes for a user's browser to receive the first byte of page content."),failureThreshold:600,type:Object(u.q)(u.e.TTFB)}),c()(r,u.e.RequestTime,{slug:"ttfb.requesttime",name:Object(s.b)("Request Time"),acronym:"RT",description:Object(s.b)("Captures the time spent making the request and receiving the first byte of the response."),failureThreshold:600,type:Object(u.q)(u.e.RequestTime)}),r),v=Object.fromEntries(Object.values(d).map((function(e){return[e.slug,e.name]}))),g=Object.fromEntries(Object.values(d).map((function(e){return[e.slug,e.acronym]}))),O=[{label:Object(s.b)("Exclude Outliers"),value:"exclude_outliers"},{label:Object(s.b)("View All"),value:"all"}],h=[{vitals:[u.e.FP,u.e.FCP,u.e.LCP],min:0},{vitals:[u.e.FID],min:0,precision:2},{vitals:[u.e.CLS],min:0,precision:2}],j=a()(l.b.charts.getColorPalette(h.reduce((function(e,t){return e+t.vitals.length}),0)-1)).reverse(),m=h.map((function(e){return p(p({},e),{},{colors:j.splice(0,e.vitals.length)})})),S=h.reduce((function(e,t){return t.vitals.forEach((function(t){var n=d[t].slug;e.push("".concat(n,"Start")),e.push("".concat(n,"End"))})),e}),[])},2023:function(e,t,n){"use strict";function r(e){var t=e.orgSlug,n=e.transaction,r=e.projectID,o=e.query,a=e.unselectedSeries,i=void 0===a?"p100()":a,c=e.display,s=e.trendDisplay;return{pathname:function(e){var t=e.orgSlug;return"/organizations/".concat(t,"/performance/summary/")}({orgSlug:t}),query:{transaction:n,project:r,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query,unselectedSeries:i,display:c,trendDisplay:s}}}n.d(t,"a",(function(){return r}))},2024:function(e,t,n){"use strict";var r,o,a,i,c,s,u,l,f;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return f})),function(e){e[e.INCIDENT=0]="INCIDENT",e[e.RESOLUTION=1]="RESOLUTION"}(r||(r={})),function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(o||(o={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions"}(a||(a={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(i||(i={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(c||(c={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(s||(s={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(u||(u={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(l||(l={})),function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(f||(f={}))},2084:function(e,t,n){"use strict";var r=n(7),o=n.n(r),a=(n(1),n(51)),i=n(2122),c=n(0);function s(e){return Object(c.f)(i.a,o()({route:"eventsv2"},e))}s.displayName="DiscoverQuery",t.a=Object(a.a)(s)},2094:function(e,t,n){"use strict";var r=n(16),o=n.n(r),a=n(3),i=n(1),c=n.n(i),s=n(8),u=n(15),l=n(70),f=n(443),p=n(48),b=n(0),y=function(e){var t=e.crumbs,n=e.linkLastItem,r=void 0!==n&&n,a=o()(e,["crumbs","linkLastItem"]);return 0===t.length?null:(r||(t[t.length-1].to=null),Object(b.f)(v,a,t.map((function(e,n){var r=e.label,o=e.to,a=e.preserveGlobalSelection,i=e.key,s="string"==typeof r?r:"",u=(null!=i?i:"string"==typeof o)?"".concat(s).concat(o):"".concat(s).concat(n);return Object(b.f)(c.a.Fragment,{key:u},o?Object(b.f)(g,{to:o,preserveGlobalSelection:a},r):Object(b.f)(O,null,r),n<t.length-1&&Object(b.f)(h,{size:"xs",direction:"right"}))}))))};y.displayName="Breadcrumbs";var d=function(e){return"\n  color: ".concat(e.theme.gray300,";\n  ").concat(p.a,";\n  width: auto;\n\n  &:last-child {\n    color: ").concat(e.theme.textColor,";\n  }\n")},v=Object(a.a)("div",{target:"e1ssp62f0",label:"BreadcrumbList"})("display:flex;align-items:center;padding:",Object(s.a)(1)," 0;"),g=Object(a.a)((function(e){var t=e.preserveGlobalSelection,n=o()(e,["preserveGlobalSelection"]);return t?Object(b.f)(f.a,n):Object(b.f)(l.a,n)}),{target:"e1ssp62f1",label:"BreadcrumbLink"})(d," &:hover,&:active{color:",(function(e){return e.theme.subText}),";}"),O=Object(a.a)("span",{target:"e1ssp62f2",label:"BreadcrumbItem"})(d),h=Object(a.a)(u.j,{target:"e1ssp62f3",label:"BreadcrumbDividerIcon"})("color:",(function(e){return e.theme.gray300}),";margin:0 ",Object(s.a)(1),";flex-shrink:0;");t.a=y},2122:function(e,t,n){"use strict";var r=n(33),o=n.n(r),a=n(6),i=n.n(a),c=n(9),s=n.n(c),u=n(10),l=n.n(u),f=n(12),p=n.n(f),b=n(13),y=n.n(b),d=n(5),v=n.n(d),g=n(1),O=n.n(g),h=n(429);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var T=function(e){p()(n,e);var t=S(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!0,tableFetchID:void 0,error:null,tableData:null,pageLinks:null},e._shouldRefetchData=function(t){var n=e.getPayload(e.props),r=e.getPayload(t);return!Object(h.b)(n,r)||t.limit!==e.props.limit||t.route!==e.props.route||t.cursor!==e.props.cursor},e.fetchData=function(){var t=e.props,n=t.api,r=t.beforeFetch,a=t.afterFetch,i=t.eventView,c=t.orgSlug,s=t.route,u=t.limit,l=t.cursor,f=t.setError;if(i.isValid()){var p="/organizations/".concat(c,"/").concat(s,"/"),b=Symbol("tableFetchID"),y=e.getPayload(e.props);e.setState({isLoading:!0,tableFetchID:b}),null==f||f(void 0),u&&(y.per_page=u),l&&(y.cursor=l),null==r||r(n),n.requestPromise(p,{method:"GET",includeAllArgs:!0,query:m({},y)}).then((function(t){var n=o()(t,3),r=n[0],i=(n[1],n[2]);if(e.state.tableFetchID===b){var c=a?a(r,e.props):r;e.setState((function(e){var t;return{isLoading:!1,tableFetchID:void 0,error:null,pageLinks:null!==(t=null==i?void 0:i.getResponseHeader("Link"))&&void 0!==t?t:e.pageLinks,tableData:c}}))}})).catch((function(t){var n,r,o=null!==(n=null==t?void 0:null===(r=t.responseJSON)||void 0===r?void 0:r.detail)&&void 0!==n?n:null;e.setState({isLoading:!1,tableFetchID:void 0,error:o,tableData:null}),f&&f(o)}))}},e}return l()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=!this.state.isLoading&&this._shouldRefetchData(e),n=!1===e.eventView.isValid()&&this.props.eventView.isValid(),r=!!this.props.shouldRefetchData&&this.props.shouldRefetchData(e,this.props);(t||n||r)&&this.fetchData()}},{key:"getPayload",value:function(e){return this.props.getRequestPayload?this.props.getRequestPayload(e):e.eventView.getEventsAPIPayload(e.location)}},{key:"render",value:function(){var e=this.state,t={isLoading:e.isLoading,error:e.error,tableData:e.tableData,pageLinks:e.pageLinks},n=this.props.children;return null==n?void 0:n(t)}}]),n}(O.a.Component);T.displayName="GenericDiscoverQuery",t.a=T},2123:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return O}));var r,o,a=n(6),i=n.n(a),c=n(2024),s=n(2022);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f="count()",p=(r={},i()(r,c.c.ERRORS,"event.type:error"),i()(r,c.c.TRANSACTIONS,"event.type:transaction"),r),b=(o={},i()(o,c.d.ERROR_DEFAULT,"(event.type:error OR event.type:default)"),i()(o,c.d.ERROR,"event.type:error"),i()(o,c.d.DEFAULT,"event.type:default"),i()(o,c.d.TRANSACTION,"event.type:transaction"),o),y={aggregations:["count","count_unique"],fields:["user"]},d={aggregations:["avg","percentile","failure_rate","apdex","count","p50","p75","p95","p99","p100"],fields:["transaction.duration"],measurementKeys:Object.keys(s.g)};function v(e){return{label:e,alertThreshold:"",actions:[]}}function g(){return{dataset:c.c.ERRORS,eventTypes:[c.e.ERROR],aggregate:f,query:"",timeWindow:1,triggers:[v("critical"),v("warning")],projects:[],environment:null,resolveThreshold:"",thresholdType:c.b.ABOVE}}function O(e){return l(l({},g()),{},{dataset:e.query.includes(p[c.c.TRANSACTIONS])?c.c.TRANSACTIONS:c.c.ERRORS,query:e.query.slice().replace(/event\.type:(transaction|error)/,"").trim(),aggregate:e.getYAxis(),environment:e.environment.length?e.environment[0]:null})}},2141:function(e,t,n){"use strict";function r(e){var t=e.orgSlug,n=e.transaction,r=e.projectID,o=e.query;return{pathname:function(e){var t=e.orgSlug;return"/organizations/".concat(t,"/performance/summary/vitals/")}({orgSlug:t}),query:{transaction:n,project:r,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function o(e,t,n){return!e.length||n>=e[e.length-1].histogram+t?null:n<e[0].histogram?-1:Math.floor((n-e[0].histogram)/t)}function a(e){if(e.length<2)return null;for(var t=0;t<e.length;t++)for(var n=e[t],r=t+1;r<e.length;r++){var o=e[r];if(n.histogram!==o.histogram&&n.count!==o.count)return{point1:{x:t,y:Math.min(n.count,o.count)},point2:{x:r,y:Math.max(n.count,o.count)}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function i(e,t){var n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1]))return null;var r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1])?null:{point1:{x:n[0],y:n[1]},point2:{x:r[0],y:r[1]}}}function c(e,t,n){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||n.point1.x===n.point2.x||n.point1.y===n.point2.y)return null;var r=(e.x-t.point1.x)/(t.point2.x-t.point1.x),o=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:n.point1.x+(n.point2.x-n.point1.x)*r,y:n.point1.y+(n.point2.y-n.point1.y)*o}}n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c}))},2161:function(e,t,n){"use strict";var r=n(7),o=n.n(r),a=n(16),i=n.n(a),c=(n(1),n(31)),s=n(101),u=n(0);function l(e){var t=e.children,n=i()(e,["children"]);return Object(u.f)(s.a,{features:["organizations:discover-basic"]},(function(e){var r=e.hasFeature;return Object(u.f)(c.a,o()({disabled:!r},n),t)}))}l.displayName="DiscoverButton",t.a=l},2230:function(e,t,n){"use strict";var r=n(6),o=n.n(r),a=n(9),i=n.n(a),c=n(10),s=n.n(c),u=n(12),l=n.n(u),f=n(13),p=n.n(f),b=n(5),y=n.n(b),d=n(1),v=n.n(d),g=n(4),O=n(2094),h=n(74),j=n(2081),m=n(2023),S=n(2141),T=n(0);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var P=function(e){l()(n,e);var t=D(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.organization,r=t.location,o=t.transactionName,a=t.eventSlug,i=t.transactionComparison,c=t.realUserMonitoring,s={pathname:Object(j.b)(n),query:R(R({},r.query),{},{transaction:void 0})};if(e.push({to:s,label:Object(g.b)("Performance"),preserveGlobalSelection:!0}),o)if(c){var u=Object(S.e)({orgSlug:n.slug,transaction:o,projectID:Object(h.d)(r.query.project),query:r.query});e.push({to:u,label:Object(g.b)("Web Vitals"),preserveGlobalSelection:!0})}else{var l=Object(m.a)({orgSlug:n.slug,transaction:o,projectID:Object(h.d)(r.query.project),query:r.query});e.push({to:l,label:Object(g.b)("Transaction Summary"),preserveGlobalSelection:!0})}return o&&a?e.push({to:"",label:Object(g.b)("Event Details")}):i&&e.push({to:"",label:Object(g.b)("Compare to Baseline")}),e}},{key:"render",value:function(){return Object(T.f)(O.a,{crumbs:this.getCrumbs()})}}]),n}(v.a.Component);P.displayName="Breadcrumb",t.a=P},2345:function(e,t,n){"use strict";var r=n(7),o=n.n(r),a=n(6),i=n.n(a),c=n(16),s=n.n(c),u=n(28),l=n.n(u),f=n(3),p=n(1),b=n.n(p),y=n(4),d=n(15),v=n(31),g=n(73),O=n(428),h=n(63),j=n(2123),m=n(70),S=n(0);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=e.incompatibleQuery,n=e.eventView,r=e.orgId,o=e.onClose,a=t.hasProjectError,i=t.hasEnvironmentError,c=t.hasEventTypeError,s=t.hasYAxisError,u=Object.values(t).filter((function(e){return!0===e})).length,l=n.clone();l.query+=" event.type:error";var f=n.clone();f.query+=" event.type:transaction";var p="/organizations/".concat(r,"/discover/results/");return Object(S.f)(P,{type:"warning",icon:Object(S.f)(d.J,{color:"yellow300",size:"sm"})},1===u&&Object(S.f)(b.a.Fragment,null,a&&Object(y.b)("An alert can use data from only one Project. Select one and try again."),i&&Object(y.b)("An alert supports data from a single Environment or All Environments. Pick one try again."),c&&Object(y.c)("An alert needs a filter of [error:event.type:error] or [transaction:event.type:transaction]. Use one of these and try again.",{error:Object(S.f)(m.a,{to:{pathname:p,query:l.generateQueryStringObject()}}),transaction:Object(S.f)(m.a,{to:{pathname:p,query:f.generateQueryStringObject()}})}),s&&Object(y.c)("An alert can’t use the metric [yAxis] just yet. Select another metric and try again.",{yAxis:Object(S.f)(A,null,n.getYAxis())})),u>1&&Object(S.f)(b.a.Fragment,null,Object(y.b)("Yikes! That button didn’t work. Please fix the following problems:"),Object(S.f)(w,null,a&&Object(S.f)("li",null,Object(y.b)("Select one Project.")),i&&Object(S.f)("li",null,Object(y.b)("Select a single Environment or All Environments.")),c&&Object(S.f)("li",null,Object(y.c)("Use the filter [error:event.type:error] or [transaction:event.type:transaction].",{error:Object(S.f)(m.a,{to:{pathname:p,query:l.generateQueryStringObject()}}),transaction:Object(S.f)(m.a,{to:{pathname:p,query:f.generateQueryStringObject()}})})),s&&Object(S.f)("li",null,Object(y.c)("An alert can’t use the metric [yAxis] just yet. Select another metric and try again.",{yAxis:Object(S.f)(A,null,n.getYAxis())})))),Object(S.f)(I,{icon:Object(S.f)(d.n,{color:"yellow300",size:"sm",isCircled:!0}),"aria-label":Object(y.b)("Close"),size:"zero",onClick:o,borderless:!0}))}function D(e){var t=e.projects,n=e.eventView,r=e.organization,a=e.referrer,i=e.onIncompatibleQuery,c=e.onSuccess,u=s()(e,["projects","eventView","organization","referrer","onIncompatibleQuery","onSuccess"]),f={hasProjectError:1!==n.project.length||-1===n.project[0],hasEnvironmentError:n.environment.length>1,hasEventTypeError:!n.query.includes("event.type:error")&&!n.query.includes("event.type:transaction"),hasYAxisError:function(e){var t,n=Object(h.i)(e.getYAxis());if("field"===n.kind)return!0;var r=e.query.match(/event\.type:(transaction|error)/);if(!r)return!1;var o="error"===r[1]?j.g:j.h,a=!o.aggregations.includes(n.function[0]),i=h.a[n.function[0]];if(!i)return!1;var c=i.parameters.some((function(e){return"value"===e.kind&&"number"===e.dataType})),s=[""].concat(l()(o.fields),l()(null!==(t=o.measurementKeys)&&void 0!==t?t:[])),u=!c&&!s.includes(n.function[1]);return a||u}(n)},p=t.find((function(e){return e.id==="".concat(n.project[0])})),b=Object.values(f).some((function(e){return e})),g=b?void 0:{pathname:"/organizations/".concat(r.slug,"/alerts/").concat(null==p?void 0:p.slug,"/new/"),query:E(E({},n.generateQueryStringObject()),{},{createFromDiscover:!0,referrer:a})},m=function(e){if(b)return e.preventDefault(),void i((function(e){return Object(S.f)(R,{incompatibleQuery:f,eventView:n,orgId:r.slug,onClose:e})}),f);c()};return Object(S.f)(O.a,{organization:r,access:["project:write"]},(function(e){var t=e.hasAccess;return Object(S.f)(v.a,o()({type:"button",disabled:!t,title:t?void 0:Object(y.b)("Users with admin permission or higher can create alert rules."),icon:Object(S.f)(d.qb,null),to:g,onClick:m},u),Object(y.b)("Create alert"))}))}R.displayName="IncompatibleQueryAlert",D.displayName="CreateAlertButton",t.a=D;var P=Object(f.a)(g.b,{target:"efj2j700",label:"StyledAlert"})("color:",(function(e){return e.theme.textColor}),";margin-bottom:0;"),w=Object(f.a)("ul",{target:"efj2j701",label:"StyledUnorderedList"})({name:"gx0lhm",styles:"margin-bottom:0;"}),A=Object(f.a)("code",{target:"efj2j702",label:"StyledCode"})({name:"18n1sg8",styles:"background-color:transparent;padding:0;"}),I=Object(f.a)(v.a,{target:"efj2j703",label:"StyledCloseButton"})({name:"1f7txv4",styles:"transition:opacity 0.1s linear;position:absolute;top:3px;right:0;&:hover,&:focus{background-color:transparent;opacity:1;}"})},2514:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(9),o=n.n(r),a=n(10),i=n.n(a),c=n(12),s=n.n(c),u=n(13),l=n.n(u),f=n(5),p=n.n(f),b=n(3),y=n(1),d=n.n(y),v=n(101),g=n(324),O=n(2345),h=n(319),j=n(121),m=n(230),S=n(431),T=n(4),E=n(37),R=n(2230),D=n(74),P=n(33),w=n.n(P),A=n(51),I=n(31),N=n(15),k=n(1101),x=n(0);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var q=function(e){s()(n,e);var t=C(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!0,keyFetchID:void 0,error:null,isKeyTransaction:!1},e.fetchData=function(){var t=e.props,n=t.organization,r=t.eventView,o=t.transactionName,a=r.project;if(1===a.length){var i="/organizations/".concat(n.slug,"/is-key-transactions/"),c=Symbol("keyFetchID");e.setState({isLoading:!0,keyFetchID:c}),e.props.api.requestPromise(i,{method:"GET",includeAllArgs:!0,query:{project:a.map((function(e){return String(e)})),transaction:o}}).then((function(t){var n=w()(t,3),r=n[0];n[1],n[2];e.state.keyFetchID===c&&e.setState({isLoading:!1,keyFetchID:void 0,error:null,isKeyTransaction:!!(null==r?void 0:r.isKey)})})).catch((function(t){e.setState({isLoading:!1,keyFetchID:void 0,error:t.responseJSON.detail,isKeyTransaction:!1})}))}},e.toggleKeyTransactionHandler=function(){var t=e.props,n=t.eventView,r=t.api,o=t.organization,a=t.transactionName,i=e.state.isKeyTransaction,c=n.project;Object(E.d)({eventName:"Performance Views: Key Transaction toggle",eventKey:"performance_views.key_transaction.toggle",orgId:parseInt(o.id,10),action:i?"remove":"add"}),Object(k.a)(r,i,o.slug,c,a).then((function(){e.setState({isKeyTransaction:!i})}))},e}return i()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=e.organization.slug!==this.props.organization.slug,n=1===e.eventView.project.length&&1===this.props.eventView.project.length&&e.eventView.project[0]!==this.props.eventView.project[0];(t||n)&&this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.isKeyTransaction,n=e.isLoading;return 1!==this.props.eventView.project.length||n?null:Object(x.f)(I.a,{icon:Object(x.f)(N.vb,{size:"xs",color:t?"yellow300":"gray200",isSolid:!!t}),onClick:this.toggleKeyTransactionHandler},Object(T.b)("Key Transaction"))}}]),n}(d.a.Component);q.displayName="KeyTransactionButton";var F,_=Object(A.a)(q),L=n(2023),U=n(2141);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}!function(e){e[e.TransactionSummary=0]="TransactionSummary",e[e.RealUserMonitoring=1]="RealUserMonitoring"}(F||(F={}));var z=function(e){s()(n,e);var t=V(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).trackVitalsTabClick=function(){var t=e.props.organization;Object(E.d)({eventKey:"performance_views.vitals.vitals_tab_clicked",eventName:"Performance Views: Vitals tab clicked",organization_id:t.id})},e.handleIncompatibleQuery=function(t,n){var r,o;e.trackAlertClick(n),null===(r=(o=e.props).handleIncompatibleQuery)||void 0===r||r.call(o,t,n)},e.handleCreateAlertSuccess=function(){e.trackAlertClick()},e}return i()(n,[{key:"trackAlertClick",value:function(e){var t=this.props.organization;Object(E.d)({eventKey:"performance_views.summary.create_alert_clicked",eventName:"Performance Views: Create alert clicked",organization_id:t.id,status:e?"error":"success",errors:e,url:window.location.href})}},{key:"renderCreateAlertButton",value:function(){var e=this.props,t=e.eventView,n=e.organization,r=e.projects;return Object(x.f)(O.a,{eventView:t,organization:n,projects:r,onIncompatibleQuery:this.handleIncompatibleQuery,onSuccess:this.handleCreateAlertSuccess,referrer:"performance"})}},{key:"renderKeyTransactionButton",value:function(){var e=this.props,t=e.eventView,n=e.organization,r=e.transactionName;return Object(x.f)(_,{transactionName:r,eventView:t,organization:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.organization,r=t.location,o=t.transactionName,a=t.currentTab,i=t.hasWebVitals,c=Object(L.a)({orgSlug:n.slug,transaction:o,projectID:Object(D.d)(r.query.project),query:r.query}),s=Object(U.e)({orgSlug:n.slug,transaction:o,projectID:Object(D.d)(r.query.project),query:r.query});return Object(x.f)(h.b,null,Object(x.f)(h.d,null,Object(x.f)(R.a,{organization:n,location:r,transactionName:o,realUserMonitoring:a===F.RealUserMonitoring}),Object(x.f)(h.h,null,o)),Object(x.f)(h.c,null,Object(x.f)(j.a,{gap:1},Object(x.f)(v.a,{organization:n,features:["incidents"]},(function(t){return t.hasFeature&&e.renderCreateAlertButton()})),this.renderKeyTransactionButton())),Object(x.f)(d.a.Fragment,null,Object(x.f)(M,null,Object(x.f)(m.a,{to:c,isActive:function(){return a===F.TransactionSummary}},Object(T.b)("Overview")),i&&Object(x.f)(m.a,{to:s,isActive:function(){return a===F.RealUserMonitoring}},Object(T.b)("Web Vitals"),Object(x.f)(g.a,{type:"new"})))))}}]),n}(d.a.Component);z.displayName="TransactionHeader";var M=Object(b.a)(S.a,{target:"enwi9i70",label:"StyledNavTabs"})({name:"n8i8z8",styles:"margin-bottom:0;width:100%;"});t.b=z}}]);
//# sourceMappingURL=PerformanceTransactionSummary~PerformanceTransactionVitals.js.map