(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[34],{2008:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n(9),r=n.n(i),o=n(10),a=n.n(o),c=n(12),s=n.n(c),l=n(13),u=n.n(l),f=n(5),d=n.n(f),p=n(249),b=n.n(p),y=(n(1),n(703)),h=n(0);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u()(this,n)}}var j=function(e){s()(n,e);var t=O(n);function n(){return r()(this,n),t.apply(this,arguments)}return a()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(h.f)(b.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(y.a);j.displayName="AsyncView"},2009:function(e,t,n){"use strict";var i=n(16),r=n.n(i),o=n(9),a=n.n(o),c=n(10),s=n.n(c),l=n(12),u=n.n(l),f=n(13),d=n.n(f),p=n(5),b=n.n(p),y=n(3),h=n(1),O=n.n(h),j=n(8),m=n(205),v=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var w=function(e){u()(n,e);var t=g(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,i=e.action,o=e.tabs,a=e.noTitleStyles,c=r()(e,["icon","title","action","tabs","noTitleStyles"]);return Object(v.f)("div",c,Object(v.f)(P,null,t&&Object(v.f)(R,null,t),n&&Object(v.f)(k,{tabs:o,styled:a},Object(v.f)(m.a,null,n)),i&&Object(v.f)(D,{tabs:o},i)),o&&Object(v.f)("div",null,o))}}]),n}(O.a.Component);w.displayName="SettingsPageHeading",w.defaultProps={noTitleStyles:!1};var P=Object(y.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),k=Object(y.a)("div",{target:"e1uay4fd1",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(2)," 0"):"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(4)," 0")}),";flex:1;"),R=Object(y.a)("div",{target:"e1uay4fd2",label:"Icon"})("margin-right:",Object(j.a)(1),";"),D=Object(y.a)("div",{target:"e1uay4fd3",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(j.a)(2)):null}),";"),N=Object(y.a)(w,{target:"e1uay4fd4",label:"StyledSettingsPageHeading"})("font-size:14px;margin-top:-",Object(j.a)(4),";");t.a=N},2012:function(e,t,n){"use strict";var i=n(7),r=n.n(i),o=n(6),a=n.n(o),c=n(16),s=n.n(c),l=n(9),u=n.n(l),f=n(10),d=n.n(f),p=n(12),b=n.n(p),y=n(13),h=n.n(y),O=n(5),j=n.n(O),m=n(166),v=n(2),g=n.n(v),w=n(1),P=n.n(w),k=n(709),R=n.n(k),D=n(46),N=n(21),F=n(704),S=n(165),A=n(2019),T=n(0);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=j()(e);if(t){var r=j()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h()(this,n)}}var C=function(e){b()(n,e);var t=x(n);function n(){return u()(this,n),t.apply(this,arguments)}return d()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,i=t.fields,o=t.access,a=t.disabled,c=t.additionalFieldProps,l=t.renderFooter,u=t.renderHeader,f=s()(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return Object(T.f)(S.a,{id:"string"==typeof n?Object(F.a)(n):void 0},n&&Object(T.f)(S.e,null,n),Object(T.f)(S.c,null,"function"==typeof u&&u({title:n,fields:i}),i.map((function(t){if("function"==typeof t)return t();t.defaultValue;var n=s()(t,["defaultValue"]);return!0===a&&(n.disabled=!0,n.disabledReason=void 0),Object(T.f)(A.a,r()({access:o,disabled:a,key:t.name},f,c,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))})),"function"==typeof l&&l({title:n,fields:i})))}}]),n}(P.a.Component);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=j()(e);if(t){var r=j()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h()(this,n)}}C.displayName="FormPanel";var H=function(e){b()(n,e);var t=z(n);function n(){var e;u()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={highlighted:V(e.props,e.context).hash},e}return d()(n,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(V(this.props,this.context).hash!==V(e,this.context).hash){var t=V(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t=e||V(this.props,this.context).hash;if(t)try{R()(Object(F.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){D.c(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&Object(N.d)(null==e?void 0:e.visible)}));if(e.length===t.length){var n=this.props,i=n.additionalFieldProps,r=s()(n,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(B(B({},r),i)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,n=e.formPanelProps,i=e.title;return this.shouldDisplayForm(t)||(null==n?void 0:n.renderFooter)||(null==n?void 0:n.renderHeader)?Object(T.f)(C,r()({title:i,fields:t},n)):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.access,i=t.fields,r=t.title,o=t.forms,a=t.disabled,c=t.features,l=t.additionalFieldProps,u=t.renderFooter,f=t.renderHeader,d=(t.location,s()(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),p={access:n,disabled:a,features:c,additionalFieldProps:l,renderFooter:u,renderHeader:f,highlighted:this.state.highlighted};return Object(T.f)(m.Box,d,void 0!==o&&o.map((function(t,n){return Object(T.f)(P.a.Fragment,{key:n},e.renderForm(B({formPanelProps:p},t)))})),void 0===o&&void 0!==i&&this.renderForm({fields:i,formPanelProps:p,title:r}))}}]),n}(P.a.Component);H.displayName="JsonForm",H.contextTypes={location:g.a.object},H.defaultProps={additionalFieldProps:{}};t.a=H;function V(e,t){return e.location||t.location||{}}},2193:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return r})),n.d(t,"fields",(function(){return o}));var i=n(4),r="/settings/account/notifications/",o={subscribeByDefault:{name:"subscribeByDefault",type:"boolean",label:Object(i.b)("Send Me Alerts"),help:Object(i.c)("Alerts are defined in [locationPath]. Enable this to receive alerts sent to your teams. You will always receive alerts configured to be sent directly to you.",{locationPath:"[Project] » Project Settings » Alerts"})},workflowNotifications:{name:"workflowNotifications",type:"radio",label:Object(i.b)("Send Me Workflow Notifications"),choices:[[0,Object(i.b)("Always")],[1,Object(i.b)("Only On Issues I Subscribe To")],[2,Object(i.b)("Never")]],help:Object(i.b)("E.g. changes in issue assignment, resolution status, and comments.")},weeklyReports:{name:"weeklyReports",type:"boolean",label:Object(i.b)("Send Me Weekly Reports"),help:Object(i.b)("Reports contain a summary of what's happened within your organization."),disabled:!0},deployNotifications:{name:"deployNotifications",type:"radio",label:Object(i.b)("Send Me Deploy Notifications"),choices:[[2,Object(i.b)("Always")],[3,Object(i.b)("Only On Deploys With My Commits")],[4,Object(i.b)("Never")]],help:Object(i.b)("Deploy emails include release, environment and commit overviews.")},personalActivityNotifications:{name:"personalActivityNotifications",type:"boolean",label:Object(i.b)("Notify Me About My Own Activity"),help:Object(i.b)("Enable this to receive notifications about your own actions on Sentry.")},selfAssignOnResolve:{name:"selfAssignOnResolve",type:"boolean",label:Object(i.b)("Claim Unassigned Issues I've Resolved"),help:Object(i.b)("You'll receive notifications about any changes that happen afterwards.")}},a=[{title:Object(i.b)("Alerts"),fields:[o.subscribeByDefault]},{title:Object(i.b)("Workflow Notifications"),fields:[o.workflowNotifications]},{title:Object(i.b)("Email Routing"),fields:[]},{title:Object(i.b)("Weekly Reports"),fields:[]},{title:Object(i.b)("Deploy Notifications"),fields:[o.deployNotifications]},{title:Object(i.b)("My Activity"),fields:[o.personalActivityNotifications,o.selfAssignOnResolve]}];t.default=a},2864:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var i=n(7),r=n.n(i),o=n(33),a=n.n(o),c=n(6),s=n.n(c),l=n(16),u=n.n(l),f=n(9),d=n.n(f),p=n(10),b=n.n(p),y=n(12),h=n.n(y),O=n(13),j=n.n(O),m=n(5),v=n.n(m),g=n(3),w=n(1),P=n.n(w),k=n(165),R=n(2193),D=n(4),N=n(2008),F=n(427),S=n(2013),A=n(2012),T=n(706),x=n(719),C=n(2009),E=n(705),B=n(355),z=n(0);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return j()(this,n)}}var W={alerts:{title:"Project Alerts",description:Object(D.b)("Control alerts that you receive per project."),type:"select",choices:[[-1,Object(D.b)("Default")],[1,Object(D.b)("On")],[0,Object(D.b)("Off")]],defaultValue:-1,defaultFieldName:"subscribeByDefault"},workflow:{title:"Workflow Notifications",description:Object(D.b)("Control workflow notifications, e.g. changes in issue assignment, resolution status, and comments."),type:"select",choices:[[-1,Object(D.b)("Default")],[0,Object(D.b)("Always")],[1,Object(D.b)("Only on issues I subscribe to")],[2,Object(D.b)("Never")]],defaultValue:-1,defaultFieldName:"workflowNotifications"},deploy:{title:Object(D.b)("Deploy Notifications"),description:Object(D.b)("Control deploy notifications that include release, environment, and commit overviews."),type:"select",choices:[[-1,Object(D.b)("Default")],[2,Object(D.b)("Always")],[3,Object(D.b)("Only on deploys with my commits")],[4,Object(D.b)("Never")]],defaultValue:-1,defaultFieldName:"deployNotifications"},reports:{title:Object(D.b)("Weekly Reports"),description:Object(D.b)("Reports contain a summary of what's happened within the organization."),type:"select",defaultValue:1,choices:[[1,Object(D.b)("On")],[0,Object(D.b)("Off")]],defaultFieldName:"weeklyReports"},email:{title:Object(D.b)("Email Routing"),description:Object(D.b)("On a per project basis, route emails to an alternative email address."),type:"select"}},I=Object(g.a)(k.c,{target:"e1n8sueq0",label:"PanelBodyLineItem"})("font-size:1.4rem;border-bottom:1px solid ",(function(e){return e.theme.innerBorder}),";"),q=function(e){return["alerts","workflow","email"].indexOf(e)>-1};var U=function(e){h()(n,e);var t=M(n);function n(){return d()(this,n),t.apply(this,arguments)}return b()(n,[{key:"getFieldData",value:function(){var e=this.props,t=e.projects,n=e.field,i=function(e){return e.reduce((function(e,t){var n=t.organization.slug;return e.hasOwnProperty(n)?e[n].projects.push(t):e[n]={organization:t.organization,projects:[t]},e}),{})}(t),r=(n.title,n.description,u()(n,["title","description"]));return Object.values(i).map((function(e){return{name:e.organization.name,projects:e.projects.map((function(e){return V(V({},r),{},{name:e.id,label:e.slug})}))}}))}},{key:"render",value:function(){return this.getFieldData().map((function(e){var t=e.name,n=e.projects;return Object(z.f)("div",{key:t},Object(z.f)(k.e,null,t),n.map((function(e){return Object(z.f)(I,{key:e.name},Object(z.f)(x.a,{deprecatedSelectControl:!0,defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))}))}}]),n}(P.a.Component);U.displayName="AccountNotificationsByProject";var J=function(e){h()(n,e);var t=M(n);function n(){return d()(this,n),t.apply(this,arguments)}return b()(n,[{key:"getFieldData",value:function(){var e=this.props,t=e.field,n=e.organizations,i=(t.title,t.description,u()(t,["title","description"]));return n.map((function(e){return V(V({},i),{},{name:e.id,label:e.slug})}))}},{key:"render",value:function(){var e=this.getFieldData();return Object(z.f)(P.a.Fragment,null,e.map((function(e){return Object(z.f)(I,{key:e.name},Object(z.f)(x.a,{deprecatedSelectControl:!0,defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))}}]),n}(P.a.Component);J.displayName="AccountNotificationsByOrganization";var L=Object(B.a)(J),Y=function(e){h()(n,e);var t=M(n);function n(){return d()(this,n),t.apply(this,arguments)}return b()(n,[{key:"getEndpoints",value:function(){var e=this.props.params.fineTuneType,t=[["notifications","/users/me/notifications/"],["fineTuneData","/users/me/notifications/".concat(e,"/")]];return q(e)&&t.push(["projects","/projects/"]),t.push(["emails","/users/me/emails/"]),"email"===e&&t.push(["emails","/users/me/emails/"]),t}},{key:"getEmailChoices",value:function(){var e=this.state.emails;return e?e.filter((function(e){return e.isVerified})).sort((function(e,t){return e.isPrimary?-1:t.isPrimary?1:e.email<t.email?-1:1})):[]}},{key:"renderBody",value:function(){var e=this.props.params.fineTuneType,t=q(e),n=W[e],i=n.title,o=n.description,c=t?this.getEndpoints()[2]:[],s=a()(c,2),l=s[0],u=s[1],f=this.state.projects&&!!this.state.projects.length;return"email"===e&&(n.choices=this.getEmailChoices().map((function(e){var t=e.email;return[t,t]}))),Object(z.f)("div",null,Object(z.f)(C.a,{title:i}),o&&Object(z.f)(E.a,null,o),n&&n.defaultFieldName&&"weeklyReports"!==n.defaultFieldName&&Object(z.f)(S.a,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/",initialData:this.state.notifications},Object(z.f)(A.a,{title:"Default ".concat(i),fields:[R.fields[n.defaultFieldName]]})),Object(z.f)(k.a,null,Object(z.f)(k.c,null,Object(z.f)(k.e,{hasButtons:t},Object(z.f)(K,null,t?Object(D.b)("Projects"):Object(D.b)("Organizations")),Object(z.f)("div",null,t&&this.renderSearchInput({placeholder:Object(D.b)("Search Projects"),url:u,stateKey:l}))),Object(z.f)(S.a,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/".concat(this.props.params.fineTuneType,"/"),initialData:this.state.fineTuneData},t&&f&&Object(z.f)(U,{projects:this.state.projects,field:n}),t&&!f&&Object(z.f)(F.a,null,Object(D.b)("No projects found")),!t&&Object(z.f)(L,{field:n})))),this.state.projects&&Object(z.f)(T.a,r()({pageLinks:this.state.projectsPageLinks},this.props)))}}]),n}(N.a),K=Object(g.a)("div",{target:"e1n8sueq1",label:"Heading"})({name:"1rr4qq7",styles:"flex:1;"})}}]);
//# sourceMappingURL=AccountNotificationsFineTuning.js.map