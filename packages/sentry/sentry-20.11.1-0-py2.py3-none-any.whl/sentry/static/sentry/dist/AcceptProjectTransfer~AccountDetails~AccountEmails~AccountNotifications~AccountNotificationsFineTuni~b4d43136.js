(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[0],{2013:function(t,e,r){"use strict";r.d(e,"a",(function(){return k}));var o=r(9),i=r.n(o),n=r(10),a=r.n(n),s=r(12),l=r.n(s),u=r(13),p=r.n(u),c=r(5),d=r.n(c),h=r(3),f=r(275),y=r(2),v=r.n(y),m=r(1),g=r.n(m),b=r(4),S=r(31),O=r(2132),D=r(325),F=r(8),w=r(250),E=r(0);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=d()(t);if(e){var i=d()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return p()(this,r)}}var k=function(t){l()(r,t);var e=j(r);function r(t,o){var n;i()(this,r),(n=e.call(this,t,o)).model=n.props.model||new O.a,n.onSubmit=function(t){var e,r;t.preventDefault(),n.model.isSaving||(null===(e=(r=n.props).onPreSubmit)||void 0===e||e.call(r),n.props.onSubmit?n.props.onSubmit(n.model.getData(),n.onSubmitSuccess,n.onSubmitError,t,n.model):n.model.saveForm())},n.onSubmitSuccess=function(t){var e=n.props.onSubmitSuccess;n.model.submitSuccess(t),e&&e(t,n.model)},n.onSubmitError=function(t){var e=n.props.onSubmitError;n.model.submitError(t),e&&e(t,n.model)};var a=t.saveOnBlur,s=t.apiEndpoint,l=t.apiMethod,u=t.resetOnError,p=t.onSubmitSuccess,c=t.onSubmitError,d=t.onFieldChange,h=t.initialData,f=t.allowUndo;return n.model.setInitialData(h),n.model.setFormOptions({resetOnError:u,allowUndo:f,onFieldChange:d,onSubmitSuccess:p,onSubmitError:c,saveOnBlur:a,apiEndpoint:s,apiMethod:l}),n}return a()(r,[{key:"getChildContext",value:function(){return{saveOnBlur:this.props.saveOnBlur,form:this.model}}},{key:"componentWillUnmount",value:function(){this.model.reset()}},{key:"render",value:function(){var t=this,e=this.props,r=e.className,o=e.children,i=e.footerClass,n=e.footerStyle,a=e.submitDisabled,s=e.submitLabel,l=e.submitPriority,u=e.cancelLabel,p=e.onCancel,c=e.extraButton,d=e.requireChanges,h=e.saveOnBlur,y=e.hideFooter,v=void 0!==y?!y:!h;return Object(E.f)("form",{onSubmit:this.onSubmit,className:r,"data-test-id":this.props["data-test-id"]},Object(E.f)("div",null,Object(w.a)(o)?o({model:this.model}):o),v&&Object(E.f)(P,{className:i,style:n,saveOnBlur:h},c,Object(E.f)(R,null,p&&Object(E.f)(f.a,null,(function(){return Object(E.f)(S.a,{type:"button",disabled:t.model.isSaving,onClick:p,style:{marginLeft:5}},u)})),Object(E.f)(f.a,null,(function(){return Object(E.f)(S.a,{"data-test-id":"form-submit",priority:l,disabled:t.model.isError||t.model.isSaving||a||!!d&&!t.model.formChanged,type:"submit"},s)})))))}}]),r}(g.a.Component);k.displayName="Form",k.childContextTypes={saveOnBlur:v.a.bool.isRequired,form:v.a.object.isRequired},k.defaultProps={cancelLabel:Object(b.b)("Cancel"),submitLabel:Object(b.b)("Save Changes"),submitDisabled:!1,submitPriority:"primary",className:"form-stacked",requireChanges:!1,allowUndo:!1,saveOnBlur:!1};var P=Object(h.a)("div",{target:"e1r1zmbj0",label:"StyledFooter"})("display:flex;justify-content:flex-end;margin-top:25px;border-top:1px solid #e9ebec;background:none;padding:16px 0 0;margin-bottom:16px;",(function(t){return!t.saveOnBlur&&"\n  ".concat(D.a," & {\n    margin-top: 0;\n    padding-right: 36px;\n  }\n\n  /* Better padding with form inside of a modal */\n  .modal-content & {\n    padding-right: 30px;\n    margin-left: -30px;\n    margin-right: -30px;\n    margin-bottom: -30px;\n    margin-top: 16px;\n    padding-bottom: 16px;\n  }\n  ")}),";"),R=Object(h.a)("div",{target:"e1r1zmbj1",label:"DefaultButtons"})("display:grid;grid-gap:",Object(F.a)(1),";grid-auto-flow:column;justify-content:flex-end;flex:1;")},2132:function(t,e,r){"use strict";var o,i,n,a,s=r(6),l=r.n(s),u=r(33),p=r.n(u),c=r(2521),d=r.n(c),h=r(16),f=r.n(h),y=r(9),v=r.n(y),m=r(10),g=r.n(m),b=r(744),S=r.n(b),O=(r(2522),r(155)),D=r(61),F=r.n(D),w=r(54),E=r(34),j=r(21),k=r(4),P=r(129);function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){l()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var B=(o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.initialData,o=f()(e,["initialData"]);v()(this,t),this.fields=O.l.map(),d()(this,"errors",i,this),d()(this,"fieldState",n,this),d()(this,"formState",a,this),this.fieldDescriptor=new Map,this.snapshots=[],this.initialData={},this.api=void 0,this.formErrors=void 0,this.options=void 0,this.options=o||{},r&&this.setInitialData(r),this.api=new w.a}return g()(t,[{key:"reset",value:function(){this.api.clear(),this.fieldDescriptor.clear(),this.resetForm()}},{key:"resetForm",value:function(){this.fields.clear(),this.errors.clear(),this.fieldState.clear(),this.snapshots=[],this.initialData={}}},{key:"setInitialData",value:function(t){this.fields.replace(t||{}),this.initialData=this.fields.toJSON()||{},this.snapshots=[new Map(this.fields.entries())]}},{key:"setFormOptions",value:function(t){this.options=t||{}}},{key:"setFieldDescriptor",value:function(t,e){this.fieldDescriptor.set(t,e),void 0!==e.defaultValue&&void 0===this.initialData[t]&&(this.initialData[t]="function"==typeof e.defaultValue?e.defaultValue():e.defaultValue,this.fields.set(t,this.initialData[t])),"function"==typeof e.setValue&&(this.initialData[t]=e.setValue(this.initialData[t],e),this.fields.set(t,this.initialData[t]))}},{key:"removeField",value:function(t){this.fieldDescriptor.delete(t),this.errors.delete(t)}},{key:"createSnapshot",value:function(){var t=this,e=new Map(this.fields.entries());return function(){return t.snapshots.unshift(e)}}},{key:"getDescriptor",value:function(t,e){var r=this.fieldDescriptor.has(t)&&this.fieldDescriptor.get(t);return r?r[e]:null}},{key:"getFieldState",value:function(t,e){var r=this.fieldState.has(t)&&this.fieldState.get(t);return r?r[e]:null}},{key:"getValue",value:function(t){return this.fields.has(t)?this.fields.get(t):""}},{key:"getTransformedValue",value:function(t){var e=this.fieldDescriptor.get(t),r=e&&"function"==typeof e.getValue?e.getValue:null,o=this.getValue(t);return r?r(o):o}},{key:"getData",value:function(){return this.fields.toJSON()}},{key:"getTransformedData",value:function(){var t=this,e=this.getData();return Object.keys(e).map((function(e){return[e,t.getTransformedValue(e)]})).reduce((function(t,e){var r=p()(e,2),o=r[0],i=r[1];return t[o]=i,t}),{})}},{key:"getError",value:function(t){return this.errors.has(t)&&this.errors.get(t)}},{key:"isValidRequiredField",value:function(t){var e=this.getDescriptor(t,"required"),r=this.getValue(t);return!e||""!==r&&Object(j.d)(r)}},{key:"isValidField",value:function(t){return 0===(this.getError(t)||[]).length}},{key:"doApiRequest",value:function(t){var e=this,r=t.apiEndpoint,o=t.apiMethod,i=t.data,n=r||this.options.apiEndpoint||"",a=o||this.options.apiMethod;return new Promise((function(t,r){return e.api.request(n,{method:a,data:i,success:function(e){return t(e)},error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return r(t)}))})}))}},{key:"setValue",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.quiet,i=this.fieldDescriptor.get(t),n=e;i&&"function"==typeof i.transformInput&&(n=i.transformInput(e)),this.fields.set(t,n),o||(this.options.onFieldChange&&this.options.onFieldChange(t,n),this.validateField(t),this.updateShowSaveState(t,n),this.updateShowReturnButtonState(t,n))}},{key:"validateField",value:function(t){var e=this,r=this.getDescriptor(t,"validate"),o=[];"function"==typeof r&&(o=r({model:this,id:t,form:this.getData()})||[]);var i=Object(k.b)("Field is required");this.isValidRequiredField(t)||o.push([t,i]),(o=0===o.length?[[t,null]]:o).forEach((function(t){var r=p()(t,2),o=r[0],i=r[1];return e.setError(o,i)}))}},{key:"updateShowSaveState",value:function(t,e){var r=e!==this.initialData[t],o=this.getDescriptor(t,"saveOnBlur");void 0===o||o||this.getFieldState(t,"showSave")!==r&&this.setFieldState(t,"showSave",r)}},{key:"updateShowReturnButtonState",value:function(t,e){var r=e!==this.initialData[t];this.getDescriptor(t,"showReturnButton")&&this.getFieldState(t,"showReturnButton")!==r&&this.setFieldState(t,"showReturnButton",r)}},{key:"undo",value:function(){return this.snapshots.length<2?null:(this.snapshots.shift(),this.fields.replace(this.snapshots[0]),!0)}},{key:"saveForm",value:function(){var t=this;if(!this.validateForm())return null;var e=this.createSnapshot(),r=this.doApiRequest({data:this.getTransformedData()});return this.setFormSaving(),r.then((function(r){e&&(e(),e=null),t.options.onSubmitSuccess&&t.options.onSubmitSuccess(r,t)})).catch((function(r){e=null,t.options.resetOnError&&t.setInitialData({}),t.submitError(r),t.options.onSubmitError&&t.options.onSubmitError(r,t)})),r}},{key:"saveField",value:function(t,e){var r=this,o=this.initialData[t],i=this.saveFieldRequest(t,e);return i?i.then((function(e){var i=r.getValue(t),n={old:o,new:i};return(void 0===r.options.allowUndo||r.options.allowUndo)&&Object(E.g)(n,r,t),r.options.onSubmitSuccess&&r.options.onSubmitSuccess(e,r,t,n),e})).catch((function(e){return r.options.onSubmitError&&r.options.onSubmitError(e,r,t),{}})):null}},{key:"saveFieldRequest",value:function(t,e){var r=this,o=this.initialData[t];if(e===o||""===e&&!Object(j.d)(o))return null;if(this.validateField(t),!this.isValidField(t))return null;var i=this.createSnapshot();this.setSaving(t,!0);var n=this.fieldDescriptor.get(t),a="function"==typeof n.getData?n.getData:function(t){return t},s=this.doApiRequest({data:a(l()({},t,this.getTransformedValue(t)),{model:this,id:t,form:this.getData()})});return s.then((function(e){return r.setSaving(t,!1),i&&(i(),i=null),r.initialData[t]=r.getValue(t),e})).catch((function(e){if(i=null,r.getDescriptor(t,"resetOnError")&&r.setValue(t,o),e&&e.responseJSON){var n=e.responseJSON.non_field_errors||e.responseJSON.nonFieldErrors;Array.isArray(e.responseJSON[t])&&e.responseJSON[t].length?r.setError(t,e.responseJSON[t][0]):Array.isArray(n)&&n.length?(Object(E.a)(n[0],{duration:1e4}),r.setError(t,"")):r.setError(t,"Failed to save")}else r.setError(t,"Failed to save");console.error("Error saving form field",e&&e.responseJSON)})),s}},{key:"handleBlurField",value:function(t,e){if(!this.options.saveOnBlur)return null;var r=this.getDescriptor(t,"saveOnBlur");return void 0===r||r?this.saveField(t,e):null}},{key:"setFormSaving",value:function(){this.formState=P.a.SAVING}},{key:"handleSaveField",value:function(t,e){var r=this,o=this.saveField(t,e);return o?o.then((function(){r.setFieldState(t,"showSave",!1)})):null}},{key:"handleCancelSaveField",value:function(t){this.setValue(t,this.initialData[t]),this.setFieldState(t,"showSave",!1)}},{key:"setFieldState",value:function(t,e,r){var o=V(V({},this.fieldState.get(t)||{}),{},l()({},e,r));this.fieldState.set(t,o)}},{key:"setSaving",value:function(t,e){this.setError(t,!1),this.setFieldState(t,P.a.SAVING,e),this.setFieldState(t,P.a.READY,!e)}},{key:"setError",value:function(t,e){e?(this.formState=P.a.ERROR,this.errors.set(t,e)):(this.formState=P.a.READY,this.errors.delete(t)),this.setFieldState(t,P.a.SAVING,!1)}},{key:"validateForm",value:function(){var t=this;return Array.from(this.fieldDescriptor.keys()).forEach((function(e){return!t.validateField(e)})),!this.isError}},{key:"handleErrorResponse",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.responseJSON;r&&Object.keys(r).forEach((function(e){var o=r.non_field_errors||r.nonFieldErrors;("non_field_errors"===e||"nonFieldErrors"===e)&&Array.isArray(o)&&o.length?Object(E.a)(o[0],{duration:1e4}):Array.isArray(r[e])&&r[e].length&&t.setError(e,r[e][0])}))}},{key:"submitSuccess",value:function(t){this.formState=P.a.READY,this.initialData=t}},{key:"submitError",value:function(t){this.formState=P.a.ERROR,this.formErrors=this.mapFormErrors(t.responseJSON),this.handleErrorResponse({responseJSON:this.formErrors})}},{key:"mapFormErrors",value:function(t){return t}},{key:"formChanged",get:function(){return!F()(this.initialData,this.fields.toJSON())}},{key:"formData",get:function(){return this.fields}},{key:"isSaving",get:function(){return this.formState===P.a.SAVING}},{key:"isError",get:function(){return!!this.errors.size}}]),t}(),i=S()(o.prototype,"errors",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),n=S()(o.prototype,"fieldState",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),a=S()(o.prototype,"formState",[O.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S()(o.prototype,"formChanged",[O.e],Object.getOwnPropertyDescriptor(o.prototype,"formChanged"),o.prototype),S()(o.prototype,"formData",[O.e],Object.getOwnPropertyDescriptor(o.prototype,"formData"),o.prototype),S()(o.prototype,"isSaving",[O.e],Object.getOwnPropertyDescriptor(o.prototype,"isSaving"),o.prototype),S()(o.prototype,"isError",[O.e],Object.getOwnPropertyDescriptor(o.prototype,"isError"),o.prototype),S()(o.prototype,"setValue",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"setValue"),o.prototype),S()(o.prototype,"validateField",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"validateField"),o.prototype),S()(o.prototype,"updateShowSaveState",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"updateShowSaveState"),o.prototype),S()(o.prototype,"updateShowReturnButtonState",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"updateShowReturnButtonState"),o.prototype),S()(o.prototype,"undo",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"undo"),o.prototype),S()(o.prototype,"saveForm",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"saveForm"),o.prototype),S()(o.prototype,"saveField",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"saveField"),o.prototype),S()(o.prototype,"saveFieldRequest",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"saveFieldRequest"),o.prototype),S()(o.prototype,"handleBlurField",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"handleBlurField"),o.prototype),S()(o.prototype,"setFormSaving",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"setFormSaving"),o.prototype),S()(o.prototype,"handleSaveField",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"handleSaveField"),o.prototype),S()(o.prototype,"handleCancelSaveField",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"handleCancelSaveField"),o.prototype),S()(o.prototype,"setFieldState",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"setFieldState"),o.prototype),S()(o.prototype,"setSaving",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"setSaving"),o.prototype),S()(o.prototype,"setError",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"setError"),o.prototype),S()(o.prototype,"validateForm",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"validateForm"),o.prototype),S()(o.prototype,"handleErrorResponse",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"handleErrorResponse"),o.prototype),S()(o.prototype,"submitSuccess",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"submitSuccess"),o.prototype),S()(o.prototype,"submitError",[O.d],Object.getOwnPropertyDescriptor(o.prototype,"submitError"),o.prototype),o);e.a=B},2521:function(t,e){t.exports=function(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}},2522:function(t,e){t.exports=function(t,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}}}]);
//# sourceMappingURL=AcceptProjectTransfer~AccountDetails~AccountEmails~AccountNotifications~AccountNotificationsFineTuni~b4d43136.js.map