(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[115],{2008:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(9),i=n.n(r),a=n(10),o=n.n(a),c=n(12),u=n.n(c),s=n(13),l=n.n(s),f=n(5),d=n.n(f),p=n(249),b=n.n(p),v=(n(1),n(703)),y=n(0);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var g=function(e){u()(n,e);var t=h(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(y.f)(b.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(v.a);g.displayName="AsyncView"},2009:function(e,t,n){"use strict";var r=n(16),i=n.n(r),a=n(9),o=n.n(a),c=n(10),u=n.n(c),s=n(12),l=n.n(s),f=n(13),d=n.n(f),p=n(5),b=n.n(p),v=n(3),y=n(1),h=n.n(y),g=n(8),O=n(205),j=n(0);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var S=function(e){l()(n,e);var t=m(n);function n(){return o()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.action,a=e.tabs,o=e.noTitleStyles,c=i()(e,["icon","title","action","tabs","noTitleStyles"]);return Object(j.f)("div",c,Object(j.f)(w,null,t&&Object(j.f)(P,null,t),n&&Object(j.f)(k,{tabs:a,styled:o},Object(j.f)(O.a,null,n)),r&&Object(j.f)(R,{tabs:a},r)),a&&Object(j.f)("div",null,a))}}]),n}(h.a.Component);S.displayName="SettingsPageHeading",S.defaultProps={noTitleStyles:!1};var w=Object(v.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),k=Object(v.a)("div",{target:"e1uay4fd1",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(g.a)(4)," ").concat(Object(g.a)(2)," ").concat(Object(g.a)(2)," 0"):"".concat(Object(g.a)(4)," ").concat(Object(g.a)(2)," ").concat(Object(g.a)(4)," 0")}),";flex:1;"),P=Object(v.a)("div",{target:"e1uay4fd2",label:"Icon"})("margin-right:",Object(g.a)(1),";"),R=Object(v.a)("div",{target:"e1uay4fd3",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(g.a)(2)):null}),";"),x=Object(v.a)(S,{target:"e1uay4fd4",label:"StyledSettingsPageHeading"})("font-size:14px;margin-top:-",Object(g.a)(4),";");t.a=x},2010:function(e,t,n){"use strict";t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="".concat(e," - ").concat(t);return n?"".concat(r," - Sentry"):r}},2147:function(e,t,n){"use strict";var r=n(7),i=n.n(r),a=n(16),o=n.n(a),c=(n(1),n(4)),u=n(428),s=n(73),l=n(15),f=n(0),d=function(e){var t=e.access,n=void 0===t?["org:write"]:t,r=o()(e,["access"]);return Object(f.f)(u.a,{access:n},(function(e){return!e.hasAccess&&Object(f.f)(s.b,i()({type:"warning",icon:Object(f.f)(l.Kb,{size:"sm"})},r),Object(c.b)("These settings can only be edited by users with the organization owner or manager role."))}))};d.displayName="PermissionAlert",t.a=d},2991:function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),a=n(10),o=n.n(a),c=n(12),u=n.n(c),s=n(13),l=n.n(s),f=n(5),d=n.n(f),p=n(1),b=n.n(p),v=n(34),y=n(4),h=n(2008),g=n(158),O=n(2010),j=n(32),m=n(165),S=n(21),w=n(427),k=n(58),P=n(2147),R=n(2009),x=n(1107),z=n(7),D=n.n(z),A=n(6),N=n.n(A),C=n(16),T=n.n(C),I=n(3),F=n(8),q=n(428),L=n(31),B=n(101),E=n(442),H=n(211),_=n(15),W=n(437),J=n(0);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var V=function(e){u()(n,e);var t=K(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleConfigure=function(t){e.props.onConfigure(e.props.provider.key,t)},e.renderDisabledLock=function(e){return Object(J.f)(te,{provider:e.provider,features:e.features})},e.renderInstallButton=function(t){var n=t.provider,r=t.hasFeature;return Object(J.f)(q.a,{access:["org:write"]},(function(t){var i=t.hasAccess;return Object(J.f)(L.a,{type:"submit",name:"provider",size:"small",value:n.key,disabled:!r||!i,onClick:e.handleConfigure},Object(y.b)("Configure"))}))},e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.provider,r=t.active,i=n.requiredFeature,a=i?{hookName:"feature-disabled:".concat(Object(S.e)(i))}:{};return Object(J.f)(B.a,D()({},a,{features:[i].filter((function(e){return e})),renderDisabled:function(t){return(0,t.children)(G(G({},T()(t,["children"])),{},{renderDisabled:e.renderDisabledLock}))}}),(function(t){var i=t.hasFeature,a=t.features,o=t.renderDisabled,c=t.renderInstallButton;return Object(J.f)(m.f,{alignItems:"center"},Object(J.f)(M,null,Object(J.f)(Q,{className:"provider-logo ".concat(n.name.replace(/\s/g,"-").toLowerCase())}),Object(J.f)("div",null,Object(J.f)(X,null,n.name),Object(J.f)(Y,null,Object(y.b)("Enable your organization to sign in with %s.",n.name)))),Object(J.f)(Z,null,!i&&o({provider:n,features:a})),Object(J.f)("div",null,r?Object(J.f)($,null):(c||e.renderInstallButton)({provider:n,hasFeature:i})))}))}}]),n}(b.a.PureComponent);V.displayName="ProviderItem",V.defaultProps={onConfigure:function(){}};var M=Object(I.a)("div",{target:"ef88lyh0",label:"ProviderInfo"})("flex:1;display:grid;grid-template-columns:max-content 1fr;grid-gap:",Object(F.a)(2),";"),Q=Object(I.a)("div",{target:"ef88lyh1",label:"ProviderLogo"})({name:"ipufnr",styles:"height:36px;width:36px;border-radius:3px;margin-right:0;top:auto;"}),X=Object(I.a)("div",{target:"ef88lyh2",label:"ProviderName"})({name:"in3yi3",styles:"font-weight:bold;"}),Y=Object(I.a)("div",{target:"ef88lyh3",label:"ProviderDescription"})({name:"9974hp",styles:"margin-top:6px;font-size:0.8em;"}),Z=Object(I.a)("div",{target:"ef88lyh4",label:"FeatureBadge"})({name:"1rr4qq7",styles:"flex:1;"}),$=Object(I.a)((function(e){return Object(J.f)("div",{className:e.className},Object(y.b)("Active"))}),{target:"ef88lyh5",label:"ActiveIndicator"})("background:",(function(e){return e.theme.green300}),";color:#fff;padding:8px 12px;border-radius:2px;font-size:0.8em;"),ee=Object(I.a)(H.b,{target:"ef88lyh6",label:"DisabledHovercard"})({name:"1ivgbss",styles:"width:350px;"}),te=function(e){var t=e.provider,n=e.features,r=e.className;return Object(J.f)(ee,{containerClassName:r,body:Object(J.f)(E.a,{features:n,hideHelpToggle:!0,message:Object(y.b)("%s SSO is disabled.",t.name),featureName:Object(y.b)("SSO Auth")})},Object(J.f)(W.a,{icon:Object(J.f)(_.S,{size:"xs"})},"disabled"))};function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}te.displayName="LockedFeature";var re={google:0,github:1,okta:2,"active-directory":3,saml2:4,onelogin:5,rippling:6,auth0:7},ie=function(e){u()(n,e);var t=ne(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props.activeProvider,t=this.context.organization,n=t.features,r=(this.props.providerList||[]).sort((function(e,t){return e.key in re?t.key in re?re[e.key]===re[t.key]?0:re[e.key]>re[t.key]?1:-1:1:-1})).sort((function(e,t){var r=n.includes(Object(S.e)(e.requiredFeature));return r===n.includes(Object(S.e)(t.requiredFeature))?0:r?-1:1})),i=t.require2FA&&r.some((function(e){var t=e.requiredFeature;return n.includes(Object(S.e)(t))}));return Object(J.f)("div",{className:"sso"},Object(J.f)(R.a,{title:"Authentication"}),Object(J.f)(P.a,null),Object(J.f)(m.a,null,Object(J.f)(m.e,null,Object(y.b)("Choose a provider")),Object(J.f)(m.c,null,!e&&Object(J.f)(m.b,{type:"info"},Object(y.c)("Get started with Single Sign-on for your organization by selecting a provider. Read more in our [link:SSO documentation].",{link:Object(J.f)(k.a,{href:"https://docs.sentry.io/learn/sso/"})})),i&&Object(J.f)(m.b,{m:0,mb:0,type:"warning"},Object(y.b)("Require 2FA will be disabled if you enable SSO.")),Object(J.f)("form",{action:"/organizations/".concat(t.slug,"/auth/configure/"),method:"POST"},Object(J.f)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:Object(x.a)(j.e)||""}),Object(J.f)("input",{type:"hidden",name:"init",value:"1"}),r.map((function(t){return Object(J.f)(V,{key:t.key,provider:t,active:e&&t.key===e.key})})),0===r.length&&Object(J.f)(w.a,null,Object(y.b)("No authentication providers are available."))))))}}]),n}(b.a.Component);ie.displayName="OrganizationAuthList",ie.contextTypes={organization:g.a.Organization};var ae=ie;function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var ce=function(e){u()(n,e);var t=oe(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleSendReminders=function(t){e.setState({sendRemindersBusy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/send-reminders/"),{method:"POST",data:{},success:function(){return Object(v.d)(Object(y.b)("Sent reminders to members"))},error:function(){return Object(v.a)(Object(y.b)("Failed to send reminders"))},complete:function(){return e.setState({sendRemindersBusy:!1})}})},e.handleConfigure=function(t){e.setState({busy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"POST",data:{provider:t,init:!0},success:function(e){e&&e.auth_url&&(window.location.href=e.auth_url)},error:function(){e.setState({busy:!1})}})},e.handleDisableProvider=function(t){e.setState({disableBusy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"DELETE",data:{provider:t},success:function(){e.setState({provider:null,disableBusy:!1})},error:function(){e.setState({disableBusy:!1})}})},e}return o()(n,[{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this.context.organization.access;t.provider&&n.includes("org:write")&&window.location.assign("/organizations/".concat(this.props.params.orgId,"/auth/configure/"))}},{key:"getEndpoints",value:function(){return[["providerList","/organizations/".concat(this.props.params.orgId,"/auth-providers/")],["provider","/organizations/".concat(this.props.params.orgId,"/auth-provider/")]]}},{key:"getTitle",value:function(){return Object(O.a)(Object(y.b)("Auth Settings"),this.context.organization.slug,!1)}},{key:"renderBody",value:function(){var e=this.state,t=e.providerList,n=e.provider;if(this.context.organization.access.includes("org:write")&&n)return this.renderLoading();var r=t.find((function(e){return n&&e.key===n.provider_name}));return Object(J.f)(ae,{activeProvider:r,providerList:t,onConfigure:this.handleConfigure})}}]),n}(h.a);ce.contextTypes={organization:g.a.Organization};t.default=ce}}]);
//# sourceMappingURL=OrganizationAuth.js.map