(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[137],{2223:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(12),l=n.n(c),s=n(13),u=n.n(s),f=n(5),b=n.n(f),p=n(3),d=n(1),g=n.n(d),O=n(11),j=n(103),h=n(4),y=n(8),m=n(48),v=n(21),w=n(29),P=n(432),k=n(0);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var D=function(e){l()(n,e);var t=x(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"renderTitle",value:function(){var e=this.props,t=e.segments,n=e.totalValues,r=e.title,a=e.isLoading,o=e.hasError,i=e.showReleasePackage;if(!Array.isArray(t)||t.length<=0)return Object(k.f)(z,null,Object(k.f)(T,null,r));var c=t[0],l=Object(v.s)(c.count,n),s=Math.floor(l);return Object(k.f)(z,null,Object(k.f)(T,null,r),Object(k.f)(V,null,function(){switch(r){case"release":return Object(k.f)(N,null,Object(k.f)(P.a,{version:c.name,anchor:!1,tooltipRawVersion:!0,withPackage:i,truncate:!0}));default:return Object(k.f)(N,null,c.name||Object(h.b)("n/a"))}}(),a||o?null:Object(k.f)(R,null,s,"%")))}},{key:"renderSegments",value:function(){var e=this.props,t=e.segments,n=e.onTagClick,r=e.title,a=e.isLoading,o=e.hasError,i=e.totalValues,c=e.renderLoading,l=e.renderError,s=e.renderEmpty,u=e.showReleasePackage;return a?c():o?Object(k.f)(q,null,l()):0===i?Object(k.f)(q,null,s()):Object(k.f)(q,null,t.map((function(e,t){var a=Object(v.s)(e.count,i),o=Math.floor(a),c=Object(k.f)(g.a.Fragment,null,Object(k.f)("div",{className:"truncate"},function(){switch(r){case"release":return Object(k.f)(P.a,{version:e.name,anchor:!1,withPackage:u});default:return e.name||Object(h.b)("n/a")}}()),o,"%"),l={index:t,to:e.url,onClick:function(){n&&n(r,e)}};return Object(k.f)("div",{key:e.value,style:{width:a+"%"}},Object(k.f)(w.a,{title:c,containerDisplayMode:"block"},e.isOther?Object(k.f)(L,null):Object(k.f)(E,l)))})))}},{key:"render",value:function(){var e=this.props,t=e.segments,n=e.totalValues,r=t.reduce((function(e,t){return e+t.count}),0);return r<n&&t.push({isOther:!0,name:Object(h.b)("Other"),value:"other",count:n-r,url:""}),Object(k.f)(C,null,this.renderTitle(),this.renderSegments())}}]),n}(g.a.Component);D.displayName="TagDistributionMeter",D.defaultProps={isLoading:!1,hasError:!1,renderLoading:function(){return null},renderEmpty:function(){return Object(k.f)("p",null,Object(h.b)("No recent data."))},renderError:function(){return null},showReleasePackage:!1};var S=["#3A3387","#5F40A3","#8C4FBD","#B961D3","#DE76E4","#EF91E8","#F7B2EC","#FCD8F4","#FEEBF9"],C=Object(p.a)("div",{target:"e13bmhrf0",label:"TagSummary"})("margin-bottom:",Object(y.a)(1),";"),q=Object(p.a)("div",{target:"e13bmhrf1",label:"SegmentBar"})({name:"1unjkrn",styles:"display:flex;overflow:hidden;border-radius:2px;"}),z=Object(p.a)("div",{target:"e13bmhrf2",label:"Title"})("display:flex;font-size:",(function(e){return e.theme.fontSizeSmall}),";justify-content:space-between;"),T=Object(p.a)("div",{target:"e13bmhrf3",label:"TitleType"})("color:",(function(e){return e.theme.textColor}),";font-weight:bold;",m.a,";"),V=Object(p.a)("div",{target:"e13bmhrf4",label:"TitleDescription"})("display:flex;color:",(function(e){return e.theme.gray300}),";text-align:right;"),N=Object(p.a)("div",{target:"e13bmhrf5",label:"Label"})(m.a,";max-width:150px;"),R=Object(p.a)("div",{target:"e13bmhrf6",label:"Percent"})("font-weight:bold;padding-left:",Object(y.a)(.5),";color:",(function(e){return e.theme.textColor}),";"),L=Object(p.a)("span",{target:"e13bmhrf7",label:"OtherSegment"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",S[S.length-1],";"),E=Object(p.a)(O.Link,{shouldForwardProp:j.default,target:"e13bmhrf8",label:"Segment"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",(function(e){return S[e.index]}),";")},2343:function(e,t,n){"use strict";var r=n(22),a=n.n(r),o=n(30),i=n.n(o),c=n(9),l=n.n(c),s=n(10),u=n.n(s),f=n(12),b=n.n(f),p=n(13),d=n.n(p),g=n(5),O=n.n(g),j=n(3),h=n(1),y=n.n(h),m=n(46),v=n(4),w=n(8),P=n(2087),k=n(2018),x=n(314),D=n(15),S=n(710),C=n(2223),q=n(51),z=n(37),T=n(429),V=n(0);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var R=function(e){b()(n,e);var t=N(n);function n(){var e;l()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={loading:!0,tags:[],totalValues:null,error:""},e.shouldRefetchData=function(t){var n=e.props.eventView.getFacetsAPIPayload(e.props.location),r=t.eventView.getFacetsAPIPayload(t.location);return!Object(T.b)(n,r)},e.fetchData=i()(a.a.mark((function t(){var n,r,o,i,c,l,s,u,f=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>0&&void 0!==f[0]&&f[0],r=e.props,o=r.api,i=r.organization,c=r.eventView,l=r.location,s=r.confirmedQuery,e.setState({loading:!0,error:"",tags:[]}),n||!1!==s){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,Object(P.b)(o,i.slug,c.getFacetsAPIPayload(l));case 8:u=t.sent,e.setState({loading:!1,tags:u}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),m.c(t.t0),e.setState({loading:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[5,12]])}))),e.handleTagClick=function(t){var n=e.props.organization;Object(z.d)({eventKey:"discover_v2.facet_map.clicked",eventName:"Discoverv2: Clicked on a tag on the facet map",tag:t,organization_id:parseInt(n.id,10)})},e.renderBody=function(){var t=e.state,n=t.loading,r=t.error,a=t.tags;return n?e.renderPlaceholders():r?Object(V.f)(x.a,{small:!0}):a.length>0?a.map((function(t){return e.renderTag(t)})):Object(V.f)(L,null,Object(V.f)(E,{color:"gray300",size:"lg"}),Object(v.b)("No tags found"))},e}return u()(n,[{key:"componentDidMount",value:function(){this.fetchData(!0)}},{key:"componentDidUpdate",value:function(e){(this.shouldRefetchData(e)||e.confirmedQuery!==this.props.confirmedQuery)&&this.fetchData()}},{key:"renderTag",value:function(e){var t=this.props,n=t.generateUrl,r=t.totalValues,a=e.topValues.map((function(t){return t.url=n(e.key,t.value),t})),o=a.length>0?Math.max(Number(r),a[0].count):r;return Object(V.f)(C.a,{key:e.key,title:e.key,segments:a,totalValues:Number(o),renderLoading:function(){return Object(V.f)(I,{height:"16px"})},onTagClick:this.handleTagClick,showReleasePackage:!0})}},{key:"renderPlaceholders",value:function(){return Object(V.f)(y.a.Fragment,null,Object(V.f)(F,{key:"title-1"}),Object(V.f)(I,{key:"bar-1"}),Object(V.f)(F,{key:"title-2"}),Object(V.f)(I,{key:"bar-2"}),Object(V.f)(F,{key:"title-3"}),Object(V.f)(I,{key:"bar-3"}))}},{key:"render",value:function(){return Object(V.f)(y.a.Fragment,null,Object(V.f)(k.c,null,Object(v.b)("Tag Summary")),this.renderBody())}}]),n}(y.a.Component);R.displayName="Tags";var L=Object(j.a)("div",{target:"e17dj0vo0",label:"StyledError"})("color:",(function(e){return e.theme.gray300}),";display:flex;align-items:center;"),E=Object(j.a)(D.Kb,{target:"e17dj0vo1",label:"StyledIconWarning"})("margin-right:",Object(w.a)(1),";"),I=Object(j.a)(S.a,{target:"e17dj0vo2",label:"StyledPlaceholder"})("border-radius:",(function(e){return e.theme.borderRadius}),";height:16px;margin-bottom:",Object(w.a)(1.5),";"),F=Object(j.a)(S.a,{target:"e17dj0vo3",label:"StyledPlaceholderTitle"})("width:100px;height:12px;margin-bottom:",Object(w.a)(.5),";");t.a=Object(q.a)(R)},2393:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(61),i=n.n(o),c=n(2),l=n.n(c),s=n(1),u=n.n(s),f=n(24),b=n.n(f),p=n(35),d=n.n(p),g=n(11),O=n(81),j=n(165),h=n(377),y=n(4),m=n(314),v=n(66),w=n(122),P=n(44),k=n(807),x=n(799),D=n(51),S=n(706),C=n(166),q=n(0),z=function(e){var t=e.withChart,n=void 0===t||t;return Object(q.f)(j.e,{disablePadding:!0},Object(q.f)(C.Box,{width:[8/12,8/12,.5],mx:2,flex:"1",className:"toolbar-header"},Object(y.b)("Issue")),n&&Object(q.f)(C.Box,{width:160,mx:2,className:"toolbar-header hidden-xs hidden-sm"},Object(y.b)("Last 24 hours")),Object(q.f)(C.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"toolbar-header"},Object(y.b)("events")),Object(q.f)(C.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"toolbar-header"},Object(y.b)("users")),Object(q.f)(C.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"hidden-xs hidden-sm toolbar-header"},Object(y.b)("Assignee")))};z.displayName="GroupListHeader";var T=z;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=d()({displayName:"GroupList",contextTypes:{location:l.a.object},mixins:[b.a.listenTo(v.a,"onGroupChange")],getInitialState:function(){return{loading:!0,error:!1,groups:[]}},componentWillMount:function(){this._streamManager=new x.a(v.a),this.fetchData()},shouldComponentUpdate:function(e,t){return!i()(this.state,t)||e.endpointPath!==this.props.endpointPath||e.query!==this.props.query||!i()(e.queryParams,this.props.queryParams)},componentDidUpdate:function(e){e.orgId===this.props.orgId&&e.endpointPath===this.props.endpointPath&&e.query===this.props.query&&i()(e.queryParams,this.props.queryParams)||this.fetchData()},componentWillUnmount:function(){v.a.loadInitialData([])},fetchData:function(){var e=this;v.a.loadInitialData([]);var t=this.props,n=t.api,r=t.orgId;this.setState({loading:!0,error:!1}),Object(h.a)(n,r).then((function(t){e.setState({memberList:Object(h.c)(t)})})),n.request(this.getGroupListEndpoint(),{success:function(t,n,r){e._streamManager.push(t),e.setState({error:!1,loading:!1,pageLinks:r.getResponseHeader("Link")})},error:function(){e.setState({error:!0,loading:!1})}})},getGroupListEndpoint:function(){var e=this.props,t=e.orgId,n=e.endpointPath,r=e.queryParams,a=null!=n?n:"/organizations/".concat(t,"/issues/"),o=null!=r?r:this.getQueryParams();return"".concat(a,"?").concat(O.stringify(o))},getQueryParams:function(){var e=this.props.query,t=this.context.location.query;return t.limit=50,t.sort="new",t.query=e,t},onCursorChange:function(e,t,n,r){var a=parseInt(n.page,10),o=isNaN(a)?r:a+r;o<=0&&(e=void 0,o=void 0),g.browserHistory.push({pathname:t,query:N(N({},n),{},{cursor:e})})},onGroupChange:function(){var e=this._streamManager.getAllItems();i()(e,this.state.groups)||this.setState({groups:e})},render:function(){var e=this.props,t=e.canSelectGroups,n=e.withChart,r=e.renderEmptyMessage,a=e.withPagination,o=this.state,i=o.loading,c=o.error,l=o.groups,s=o.memberList,f=o.pageLinks;return i?Object(q.f)(P.default,null):c?Object(q.f)(w.a,{onRetry:this.fetchData}):0===l.length?"function"==typeof r?r():Object(q.f)(j.a,null,Object(q.f)(j.c,null,Object(q.f)(m.a,null,Object(q.f)("p",null,Object(y.b)("There don't seem to be any events fitting the query."))))):Object(q.f)(u.a.Fragment,null,Object(q.f)(j.a,null,Object(q.f)(T,{withChart:n}),Object(q.f)(j.c,null,l.map((function(e){var r=e.id,a=e.project,o=s&&s.hasOwnProperty(a.slug)?s[a.slug]:null;return Object(q.f)(k.a,{key:r,id:r,canSelect:t,withChart:n,memberList:o})})))),a&&Object(q.f)(S.a,{pageLinks:f,onCursor:this.onCursorChange}))}});R.defaultProps={canSelectGroups:!0,withChart:!0,withPagination:!0};t.a=Object(D.a)(R)},2967:function(e,t,n){"use strict";n.r(t);var r=n(33),a=n.n(r),o=n(6),i=n.n(o),c=n(28),l=n.n(c),s=n(9),u=n.n(s),f=n(10),b=n.n(f),p=n(12),d=n.n(p),g=n(13),O=n.n(g),j=n(5),h=n.n(j),y=n(3),m=n(1),v=n.n(m),w=n(11),P=n(61),k=n.n(P),x=n(4),D=n(564),S=n(2011),C=n(713),q=n(205),z=n(429),T=n(63),V=n(74),N=n(559),R=n(714),L=n(44),E=n(2084),I=n(51),F=n(315),A=n(56),_=n(195),B=n(131),M=n.n(B),U=n(167),G=n(8),H=n(21),Q=n(319),W=n(2343),K=n(2096),J=n(2022),X=n(2514),Y=n(2161),Z=n(374),$=n(574),ee=n(70),te=n(706),ne=n(48),re=n(2229),ae=n(2226),oe=n(2225),ie=n(743),ce=n(566),le=n(37),se=n(108),ue=n(2099),fe=n(2081);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}var ge=function(e){d()(n,e);var t=de(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!0,fetchID:void 0,error:null,results:null},e.shouldRefetchData=function(t){var n=e.generatePayload(e.props.eventView),r=e.generatePayload(t.eventView);return!k()(n,r)},e.fetchData=function(){var t=e.props,n=t.eventView,r=t.orgSlug;if(n.isValid()){var a="/organizations/".concat(r,"/event-baseline/"),o=Symbol("fetchID");e.setState({isLoading:!0,fetchID:o}),e.props.api.requestPromise(a,{method:"GET",query:pe(pe({},n.getGlobalSelectionQuery()),{},{query:n.query})}).then((function(t){e.state.fetchID===o&&e.setState({isLoading:!1,fetchID:void 0,error:null,results:t})})).catch((function(t){var n,r;e.setState({isLoading:!1,fetchID:void 0,error:null!==(n=null==t?void 0:null===(r=t.responseJSON)||void 0===r?void 0:r.detail)&&void 0!==n?n:null,results:null})}))}},e}return b()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){!this.state.isLoading&&this.shouldRefetchData(e)&&this.fetchData()}},{key:"generatePayload",value:function(e){return pe(pe({},e.getGlobalSelectionQuery()),{},{query:e.query})}},{key:"render",value:function(){var e=this.state,t={isLoading:e.isLoading,error:e.error,results:e.results};return this.props.children(t)}}]),n}(v.a.PureComponent);ge.displayName="BaselineQuery";var Oe=Object(I.a)(ge),je=n(0);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}function ve(e,t){var n=function(e){var t=e.p95;return[{query:null,sort:{kind:"asc",field:"transaction.duration"},value:"fastest",label:Object(x.b)("Fastest Transactions")},{query:[["transaction.duration","<=".concat(t.toFixed(0))]],sort:{kind:"desc",field:"transaction.duration"},value:"slow",label:Object(x.b)("Slow Transactions (p95)")},{query:null,sort:{kind:"desc",field:"transaction.duration"},value:"outlier",label:Object(x.b)("Outlier Transactions (p100)")},{query:null,sort:{kind:"desc",field:"timestamp"},value:"recent",label:Object(x.b)("Recent Transactions")}]}({p95:t}),r=Object(V.d)(e.query.showTransactions)||"slow";return{selected:n.find((function(e){return e.value===r}))||n[0],options:n}}var we=function(e){d()(n,e);var t=me(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleCursor=function(e,t,n){w.browserHistory.push({pathname:t,query:ye(ye({},n),{},{transactionCursor:e})})},e.handleTransactionFilterChange=function(t){var n=e.props,r=n.location,a=n.organization;Object(le.d)({eventKey:"performance_views.summary.filter_transactions",eventName:"Performance Views: Filter transactions table",organization_id:parseInt(a.id,10),value:t});var o={pathname:r.pathname,query:ye(ye({},r.query),{},{showTransactions:t,transactionCursor:void 0})};w.browserHistory.push(o)},e.handleDiscoverViewClick=function(){var t=e.props.organization;Object(le.d)({eventKey:"performance_views.summary.view_in_discover",eventName:"Performance Views: View in Discover from Transaction Summary",organization_id:parseInt(t.id,10)})},e}return b()(n,[{key:"renderTable",value:function(e){var t,n=this,r=this.props,a=r.location,o=r.organization,i=r.transactionName,c=Object(V.d)(null===(t=a.query)||void 0===t?void 0:t.transactionCursor);return o.features.includes("transaction-comparison")?Object(je.f)(E.a,{location:a,eventView:e,orgSlug:o.slug,limit:5,cursor:c},(function(t){var r=t.isLoading,c=t.tableData,l=t.pageLinks;return Object(je.f)(Oe,{eventView:e,orgSlug:o.slug},(function(t){return Object(je.f)(v.a.Fragment,null,Object(je.f)(Pe,{organization:o,location:a,transactionName:i,eventView:e,tableData:c,isLoading:r||t.isLoading,baselineTransaction:t.results}),Object(je.f)(qe,{pageLinks:l,onCursor:n.handleCursor,size:"small"}))}))})):Object(je.f)(E.a,{location:a,eventView:e,orgSlug:o.slug,limit:5,cursor:c},(function(t){var r=t.isLoading,c=t.tableData,l=t.pageLinks;return Object(je.f)(v.a.Fragment,null,Object(je.f)(Pe,{organization:o,location:a,transactionName:i,eventView:e,tableData:c,isLoading:r,baselineTransaction:null}),Object(je.f)(qe,{pageLinks:l,onCursor:n.handleCursor,size:"small"}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.eventView,r=t.location,a=t.organization,o=ve(r,t.slowDuration||0),i=o.selected,c=o.options,l=n.withSorts([i.sort]);if(i.query){var s=Object(N.c)(l.query);i.query.forEach((function(e){return s.setTagValues(e[0],[e[1]])})),l.query=Object(N.b)(s)}return Object(je.f)(v.a.Fragment,null,Object(je.f)(xe,null,Object(je.f)(Z.b,{"data-test-id":"filter-transactions",label:i.label,buttonProps:{prefix:Object(x.b)("Filter"),size:"small"}},c.map((function(t){var n=t.value,r=t.label;return Object(je.f)(Z.a,{key:n,onSelect:e.handleTransactionFilterChange,eventKey:n,isActive:n===i.value},r)}))),Object(je.f)(De,null,Object(je.f)(Y.a,{onClick:this.handleDiscoverViewClick,to:l.getResultsViewUrlTarget(a.slug),size:"small","data-test-id":"discover-open"},Object(x.b)("Open in Discover")))),this.renderTable(l))}}]),n}(v.a.Component);we.displayName="TransactionList";var Pe=function(e){d()(n,e);var t=me(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleViewDetailsClick=function(){var t=e.props.organization;Object(le.d)({eventKey:"performance_views.summary.view_details",eventName:"Performance Views: View Details from Transaction Summary",organization_id:parseInt(t.id,10)})},e.handleCellAction=function(t){return function(n,r){var a=e.props,o=a.eventView,i=a.location,c=Object(N.c)(o.query);c.removeTag("event.type"),c.removeTag("transaction"),Object(re.c)(c,n,t.name,r),w.browserHistory.push({pathname:i.pathname,query:ye(ye({},i.query),{},{cursor:void 0,query:Object(N.b)(c)})})}},e}return b()(n,[{key:"renderHeader",value:function(){var e=this.props,t=e.eventView,n=e.tableData,r=e.organization,a=null==n?void 0:n.meta,o=t.getColumns(),i=function(){},c=[Object(x.b)("id"),Object(x.b)("user"),Object(x.b)("duration"),Object(x.b)("timestamp")].map((function(e,t){return Object(je.f)(ae.a,{column:o[t],tableMeta:a,key:t},(function(t){var n=t.align;return Object(je.f)(Se,null,Object(je.f)(oe.a,{align:n,title:e,direction:void 0,canSort:!1,generateSortLink:i}))}))}));return r.features.includes("transaction-comparison")&&c.push(Object(je.f)(Se,{key:"baseline"},Object(je.f)(oe.a,{align:"right",title:Object(x.b)("Compared to Baseline"),direction:void 0,canSort:!1,generateSortLink:i}))),c}},{key:"renderResults",value:function(){var e=this,t=this.props,n=t.isLoading,r=t.tableData,a=[];if(n)return a;if(!r||!r.meta||!r.data)return a;var o=this.props.eventView.getColumns();return r.data.forEach((function(t,n){r.meta&&(a=a.concat(e.renderRow(t,n,o,r.meta)))})),a}},{key:"renderRow",value:function(e,t,n,r){var a=this,o=this.props,i=o.organization,c=o.location,l=o.transactionName,s=o.baselineTransaction,u=n.map((function(n,o){var s=String(n.key),u=Object(T.l)(s),f=r[u],b=Object(ie.a)(s,r)(e,{organization:i,location:c});if(0===o){var p=Object(ce.c)(e),d=Object(fe.d)(i,p,l,c.query);b=Object(je.f)(ee.a,{"data-test-id":"view-details",to:d,onClick:a.handleViewDetailsClick},b)}var g=["integer","number","duration"].includes(f),O="".concat(t,":").concat(n.key,":").concat(o);return Object(je.f)(Ce,{key:O},Object(je.f)(re.b,{column:n,dataRow:e,handleCellAction:a.handleCellAction(n)},g?Object(je.f)(ue.d,null,b):Object(je.f)(ue.c,null,b)))}));if(i.features.includes("transaction-comparison"))if(s){var f=Number(e["transaction.duration"])||0,b=Math.abs(f-s["transaction.duration"]),p=f<s["transaction.duration"]?Object(x.b)("faster"):f>s["transaction.duration"]?Object(x.b)("slower"):"",d=Object(fe.c)({organization:i,baselineEventSlug:Object(ce.c)(s),regressionEventSlug:Object(ce.c)(e),transaction:l,query:c.query});u.push(Object(je.f)(Ce,{key:"".concat(t,"-baseline"),style:{textAlign:"right"}},Object(je.f)(ue.c,null,Object(je.f)(ee.a,{to:d,onClick:this.handleViewDetailsClick},"".concat(Object(se.j)(b/1e3,b<1e3?0:2)," ").concat(p)))))}else u.push(Object(je.f)(Ce,{key:"".concat(t,"-baseline")},"-"));return u}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.tableData,r=n&&n.data&&n.meta&&n.data.length>0,a=Object(je.f)(L.default,{style:{margin:"70px auto"}});return Object(je.f)(ke,{isEmpty:!r,emptyMessage:Object(x.b)("No transactions found"),headers:this.renderHeader(),isLoading:t,disablePadding:!0,loader:a},this.renderResults())}}]),n}(v.a.PureComponent);Pe.displayName="TransactionTable";var ke=Object(y.a)($.a,{target:"em78zga0",label:"StyledPanelTable"})("margin-bottom:",Object(G.a)(1),";"),xe=Object(y.a)("div",{target:"em78zga1",label:"Header"})("display:flex;justify-content:space-between;align-items:center;margin:0 0 ",Object(G.a)(1)," 0;"),De=Object(y.a)("div",{target:"em78zga2",label:"HeaderButtonContainer"})({name:"1xhj18k",styles:"display:flex;flex-direction:row;"}),Se=Object(y.a)("div",{target:"em78zga3",label:"HeadCellContainer"})("padding:",Object(G.a)(2),";"),Ce=Object(y.a)("div",{target:"em78zga4",label:"BodyCellContainer"})("padding:",Object(G.a)(1)," ",Object(G.a)(2),";",ne.a,";"),qe=Object(y.a)(te.a,{target:"em78zga5",label:"StyledPagination"})("margin:0 0 ",Object(G.a)(3)," 0;"),ze=we,Te=n(316),Ve=n(2018),Ne=n(1100),Re=n(2098),Le=n(2141);function Ee(e){var t=e.totals,n=e.location,r=e.organization,o=e.transactionName,c=Object(je.f)(Ae,null,"—"),l=r.apdexThreshold,s=Object(je.f)(Ae,null,"—"),u=null;if(t){var f=Number(t["user_misery_".concat(l)]),b=Number(t.count_unique_user);isNaN(f)||isNaN(b)||(c=Object(je.f)(Ne.a,{bars:40,barHeight:30,miseryLimit:l,totalUsers:b,miserableUsers:f}));var p="apdex_".concat(l);s=Object(ie.a)(p,i()({},p,"number"))(t,{organization:r,location:n});var d=J.e.map((function(e){return e.vitals})).reduce((function(e,n){var r=a()(e,2),o=r[0],i=r[1];return n.forEach((function(e){var n=Object(T.l)("percentile(".concat(e,", ").concat(J.d,")"));Number.isFinite(t[n])&&(i+=1,t[n]<J.g[e].failureThreshold&&(o+=1))})),[o,i]}),[0,0]),g=a()(d,2),O=g[0],j=g[1];j>0&&(u=Object(je.f)(Ae,null,"".concat(O," / ").concat(j)))}var h=Object(Le.e)({orgSlug:r.slug,transaction:o,projectID:Object(V.d)(n.query.project),query:n.query});return Object(je.f)(Ie,null,Object(je.f)("div",null,Object(je.f)(Ve.c,null,Object(x.b)("Apdex Score")),Object(je.f)(Ae,null,s)),null!==u&&Object(je.f)("div",null,Object(je.f)(Ve.c,null,Object(x.b)("Web Vitals")),Object(je.f)(Ae,null,u),Object(je.f)(ee.a,{to:h},Object(je.f)(_e,null,Object(x.b)("Passed")))),Object(je.f)(Fe,null,Object(je.f)(Ve.c,null,Object(x.b)("User Misery"),Object(je.f)(Te.a,{position:"top",title:Object(Re.e)(r,"userMisery"),size:"sm"})),c))}Ee.displayName="UserStats";var Ie=Object(y.a)("div",{target:"e1xl6l1q0",label:"Container"})("display:grid;grid-template-columns:1fr 1fr;grid-row-gap:",Object(G.a)(4),";margin-bottom:40px;"),Fe=Object(y.a)("div",{target:"e1xl6l1q1",label:"UserMiseryContainer"})({name:"14250g4",styles:"grid-column:1/3;"}),Ae=Object(y.a)("div",{target:"e1xl6l1q2",label:"StatNumber"})("font-size:32px;color:",(function(e){return e.theme.textColor}),";> div{text-align:left;}"),_e=Object(y.a)("span",{target:"e1xl6l1q3",label:"SectionValue"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";"),Be=Ee,Me=n(2378),Ue=n(287),Ge=n.n(Ue),He=n(32),Qe=n(88),We=n(31),Ke=n(314),Je=n(165),Xe=n(2393);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}var et=function(e){d()(n,e);var t=$e(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleOpenClick=function(){var t=e.props.organization;Object(le.d)({eventKey:"performance_views.summary.open_issues",eventName:"Performance Views: Open issues from transaction summary",organization_id:parseInt(t.id,10)})},e.renderEmptyMessage=function(){var t=e.props.statsPeriod,n=t&&He.m[t],r=n?n.toLowerCase():Object(x.b)("given timeframe");return Object(je.f)(Je.a,null,Object(je.f)(Je.c,null,Object(je.f)(Ke.a,{small:!0,withIcon:!1},Object(x.c)("No new issues for this transaction for the [timePeriod].",{timePeriod:r}))))},e}return b()(n,[{key:"getIssuesEndpoint",value:function(){var e=this.props,t=e.transaction,n=e.organization,r=e.start,a=e.end,o=e.statsPeriod,i=e.location,c=Ze({start:r,end:a,statsPeriod:o,limit:5,sort:"new"},Ge()(i.query,[].concat(l()(Object.values(Qe.e)),["cursor"])));return{path:"/organizations/".concat(n.slug,"/issues/"),queryParams:Ze(Ze({},c),{},{query:Object(N.b)(new N.a(["is:unresolved","transaction:".concat(t)]))})}}},{key:"render",value:function(){var e=this.props.organization,t=this.getIssuesEndpoint(),n=t.path,r=t.queryParams,a={pathname:"/organizations/".concat(e.slug,"/issues/"),query:r};return Object(je.f)(v.a.Fragment,null,Object(je.f)(tt,null,Object(je.f)(Ve.c,null,Object(x.b)("Related Issues")),Object(je.f)(We.a,{"data-test-id":"issues-open",size:"small",to:a,onClick:this.handleOpenClick},Object(x.b)("Open in Issues"))),Object(je.f)(nt,null,Object(je.f)(Xe.a,{orgId:e.slug,endpointPath:n,queryParams:r,query:"",canSelectGroups:!1,renderEmptyMessage:this.renderEmptyMessage,withChart:!1,withPagination:!1})))}}]),n}(v.a.Component);et.displayName="RelatedIssues";var tt=Object(y.a)("div",{target:"ee4j21a0",label:"ControlsWrapper"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",Object(G.a)(1),";"),nt=Object(y.a)("div",{target:"ee4j21a1",label:"TableWrapper"})("margin-bottom:",Object(G.a)(4),";",Je.a,"{margin-bottom:-",Object(G.a)(1),";}"),rt=et,at=n(7),ot=n.n(at),it=n(2092),ct=n(2076),lt=n(2106),st=n(2088),ut=n(2097),ft=n(2119),bt=n(209),pt=n(15),dt=n(45),gt=n(2077),Ot=n(25);function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e){var t=e.api,n=e.eventView,r=e.organization,a=e.router,o=n.statsPeriod,i=n.start?Object(dt.k)(n.start):void 0,c=n.end?Object(dt.k)(n.end):void 0,s=Object(V.d)(a.location.query.utc),u=Ot.b.charts.getColorPalette(3),f={scale:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},b={height:580,grid:[{top:"40px",left:"10px",right:"10px",height:"120px"},{top:"230px",left:"10px",right:"10px",height:"150px"},{top:"450px",left:"10px",right:"10px",height:"120px"}],axisPointer:{link:[{xAxisIndex:[0,1,2]}]},xAxes:Array.from(new Array(3)).map((function(e,t){return{gridIndex:t,type:"time",show:!1}})),yAxes:[ht({gridIndex:0,axisLabel:{formatter:function(e){return Object(se.g)(e,1)},color:Ot.b.chartLabel}},f),ht({gridIndex:1,axisLabel:{formatter:se.f,color:Ot.b.chartLabel}},f),ht({gridIndex:2,axisLabel:{formatter:function(e){return Object(se.h)(e,0)},color:Ot.b.chartLabel}},f)],utc:s,isGroupedByDate:!0,showTimeInTooltip:!0,colors:[u[0],u[1],u[2]],tooltip:{trigger:"axis",truncate:80,valueFormatter:gt.c,nameFormatter:function(e){return"epm()"===e?"tpm()":e}}},p={start:i||null,end:c||null,period:o},d=n.project,g=n.environment;return Object(je.f)(mt,null,Object(je.f)(vt,{top:"0px",key:"apdex"},Object(x.b)("Apdex"),Object(je.f)(Te.a,{position:"top",title:Object(Re.e)(r,"apdex"),size:"sm"})),Object(je.f)(vt,{top:"190px",key:"throughput"},Object(x.b)("TPM"),Object(je.f)(Te.a,{position:"top",title:Object(Re.e)(r,"tpm"),size:"sm"})),Object(je.f)(vt,{top:"410px",key:"failure-rate"},Object(x.b)("Failure Rate"),Object(je.f)(Te.a,{position:"top",title:Object(Re.e)(r,"failureRate"),size:"sm"})),Object(je.f)(it.a,{router:a,period:o,projects:d,environments:g,xAxisIndex:[0,1,2]},(function(e){return Object(je.f)(st.a,{api:t,organization:r,period:o,project:l()(d),environment:l()(g),start:i,end:c,interval:Object(bt.c)(p,!0),showLoading:!1,query:n.query,includePrevious:!1,yAxis:["apdex(".concat(r.apdexThreshold,")"),"epm()","failure_rate()"]},(function(t){var n=t.results,r=t.errored,a=t.loading,o=t.reloading;if(r)return Object(je.f)(lt.a,null,Object(je.f)(pt.Kb,{color:"gray300",size:"lg"}));var i=n?n.map((function(e,t){return ht(ht({},e),{},{yAxisIndex:t,xAxisIndex:t})})):[];return Object(je.f)(ft.a,{loading:a,reloading:o,height:"550px"},Object(je.f)(ut.a,{visible:o}),Object(je.f)(ct.a,ot()({},e,b,{series:i})))}))})))}yt.displayName="SidebarCharts";var mt=Object(y.a)("div",{target:"e18efss90",label:"RelativeBox"})("position:relative;margin-bottom:",Object(G.a)(1),";"),vt=Object(y.a)(Ve.c,{target:"e18efss91",label:"ChartTitle"})("background:",(function(e){return e.theme.background}),";position:absolute;top:",(function(e){return e.top}),";margin:0;z-index:1;"),wt=Object(I.a)(w.withRouter(yt));function Pt(e){var t=e.data,n=t.reduce((function(e,t){return t.value+e}),0);return Object(je.f)(xt,null,t.map((function(e,t){return Object(je.f)(v.a.Fragment,{key:"".concat(t,":").concat(e.label)},Object(je.f)(Dt,null,Object(se.h)(e.value/n,0)),Object(je.f)(St,null,Object(je.f)(qt,{style:{width:"".concat((e.value/n*100).toFixed(2),"%")}}),Object(je.f)(Ct,null,e.label)))})))}Pt.displayName="BreakdownBars";var kt=Pt,xt=Object(y.a)("div",{target:"e14p2jrr0",label:"BreakdownGrid"})("display:grid;grid-template-columns:min-content auto;column-gap:",Object(G.a)(1),";row-gap:",Object(G.a)(1),";"),Dt=Object(y.a)("div",{target:"e14p2jrr1",label:"Percentage"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";text-align:right;"),St=Object(y.a)("div",{target:"e14p2jrr2",label:"BarContainer"})("padding-left:",Object(G.a)(1),";padding-right:",Object(G.a)(1),";position:relative;"),Ct=Object(y.a)("span",{target:"e14p2jrr3",label:"Label"})("position:relative;color:",(function(e){return e.theme.textColor}),";z-index:2;font-size:",(function(e){return e.theme.fontSizeSmall}),";"),qt=Object(y.a)("div",{target:"e14p2jrr4",label:"Bar"})("border-radius:2px;background-color:",(function(e){return e.theme.gray100}),";position:absolute;top:0;left:0;z-index:1;height:100%;width:0%;"),zt=n(710);function Tt(e){var t=e.eventView,n=e.location,r=e.organization,a=t.withColumns([{kind:"function",function:["count","",""]},{kind:"field",field:"transaction.status"}]).withSorts([{kind:"desc",field:"count"}]);return Object(je.f)(Nt,null,Object(je.f)(Ve.c,null,Object(x.b)("Status Breakdown"),Object(je.f)(Te.a,{position:"top",title:Object(Re.e)(r,"statusBreakdown"),size:"sm"})),Object(je.f)(E.a,{eventView:a,location:n,orgSlug:r.slug},(function(e){var t=e.isLoading,n=e.error,r=e.tableData;if(t)return Object(je.f)(zt.a,{height:"125px"});if(n)return Object(je.f)(lt.a,{height:"125px"},Object(je.f)(pt.Kb,{color:"gray300",size:"lg"}));if(!r||0===r.data.length)return Object(je.f)(Ke.a,{small:!0},Object(x.b)("No data available"));var a=r.data.map((function(e){return{label:String(e["transaction.status"]),value:parseInt(String(e.count),10)}}));return Object(je.f)(kt,{data:a})})))}Tt.displayName="StatusBreakdown";var Vt=Tt,Nt=Object(y.a)("div",{target:"epizhtq0",label:"Container"})("margin-bottom:",Object(G.a)(4),";");function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}var It=function(e){d()(n,e);var t=Et(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={incompatibleAlertNotice:null},e.handleSearch=function(t){var n=e.props.location,r=Object(U.a)(Lt(Lt({},n.query||{}),{},{query:t})),a=M()(r,"cursor");w.browserHistory.push({pathname:n.pathname,query:a})},e.generateTagUrl=function(t,n){var r=e.props.location,a=Object(H.k)(r.query,{key:t,value:n});return Lt(Lt({},r),{},{query:a})},e.handleIncompatibleQuery=function(t,n){var r=t((function(){return e.setState({incompatibleAlertNotice:null})}));e.setState({incompatibleAlertNotice:r})},e}return b()(n,[{key:"render",value:function(){var e=this.props,t=e.transactionName,n=e.location,r=e.eventView,a=e.organization,o=e.projects,i=e.totalValues,c=this.state.incompatibleAlertNotice,l=Object(V.d)(n.query.query)||"",s=i.count,u=null==i?void 0:i.p95,f=J.e.some((function(e){return e.vitals.some((function(e){var t=Object(T.l)("percentile(".concat(e,", ").concat(J.d,")"));return Number.isFinite(i[t])}))}));return Object(je.f)(v.a.Fragment,null,Object(je.f)(X.b,{eventView:r,location:n,organization:a,projects:o,transactionName:t,currentTab:X.a.TransactionSummary,hasWebVitals:f,handleIncompatibleQuery:this.handleIncompatibleQuery}),Object(je.f)(Q.a,null,c&&Object(je.f)(Q.f,{fullWidth:!0},c),Object(je.f)(Q.f,null,Object(je.f)(Ft,{organization:a,projectIds:r.project,query:l,fields:r.fields,onSearch:this.handleSearch}),Object(je.f)(Me.b,{organization:a,location:n,eventView:r,totalValues:s}),Object(je.f)(ze,{organization:a,transactionName:t,location:n,eventView:r,slowDuration:u}),Object(je.f)(rt,{organization:a,location:n,transaction:t,start:r.start,end:r.end,statsPeriod:r.statsPeriod})),Object(je.f)(Q.g,null,Object(je.f)(Be,{organization:a,location:n,totals:i,transactionName:t}),Object(je.f)(wt,{organization:a,eventView:r}),Object(je.f)(Vt,{eventView:r,organization:a,location:n}),Object(je.f)(W.a,{generateUrl:this.generateTagUrl,totalValues:s,eventView:r,organization:a,location:n}))))}}]),n}(v.a.Component);It.displayName="SummaryContent";var Ft=Object(y.a)(K.a,{target:"e1mvz26f0",label:"StyledSearchBar"})("margin-bottom:",Object(G.a)(1),";"),At=Object(_.a)(It);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}var Ut=function(e){d()(n,e);var t=Mt(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={eventView:Ht(e.props.location,Object(fe.e)(e.props.location))},e}return b()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.api,n=e.organization,r=e.selection;Object(D.c)(t,n.slug,r),Object(fe.a)(r)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.api,r=t.organization,a=t.selection;k()(e.selection.projects,a.projects)&&k()(e.selection.datetime,a.datetime)||(Object(D.c)(n,r.slug,a),Object(fe.a)(a))}},{key:"getDocumentTitle",value:function(){var e=Object(fe.e)(this.props.location);return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),Object(x.b)("Performance")].join(" - "):[Object(x.b)("Summary"),Object(x.b)("Performance")].join(" - ")}},{key:"getTotalsEventView",value:function(e,t){var n=e.apdexThreshold.toString(),r=J.e.map((function(e){return e.vitals})).reduce((function(e,t){return t.forEach((function(t){return e.push(t)})),e}),[]),a=t.withColumns([{kind:"function",function:["apdex",n,void 0]},{kind:"function",function:["user_misery",n,void 0]},{kind:"function",function:["p95","",void 0]},{kind:"function",function:["count","",void 0]},{kind:"function",function:["count_unique","user",void 0]}].concat(l()(r.map((function(e){return{kind:"function",function:["percentile",e,J.d.toString()]}}))))),o=a.fields.reduce((function(e,t){return e[Object(T.l)(t.field)]=0,e}),{});return[a,o]}},{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=this.state.eventView,o=Object(fe.e)(n);if(!r||void 0===o)return w.browserHistory.replace({pathname:"/organizations/".concat(t.slug,"/performance/"),query:Bt({},n.query)}),null;var i=this.getTotalsEventView(t,r),c=a()(i,2),l=c[0],s=c[1];return Object(je.f)(S.a,{title:this.getDocumentTitle(),objSlug:t.slug},Object(je.f)(C.a,null,Object(je.f)(Gt,null,Object(je.f)(R.a,{organization:t},Object(je.f)(E.a,{eventView:l,orgSlug:t.slug,location:n},(function(e){var a=e.tableData;if(e.isLoading)return Object(je.f)(L.default,null);var i=a&&a.data.length?a.data[0]:s;return Object(je.f)(At,{location:n,organization:t,eventView:r,transactionName:o,totalValues:i})}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Bt(Bt({},t),{},{eventView:Ht(e.location,Object(fe.e)(e.location))})}}]),n}(v.a.Component);Ut.displayName="TransactionSummary";var Gt=Object(y.a)(q.b,{target:"e36hnqg0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"});function Ht(e,t){if(void 0!==t){var n=Object(V.d)(e.query.query)||"",r=Object(N.c)(n);return r.setTagValues("event.type",["transaction"]).setTagValues("transaction",[t]),Object.keys(r.tagValues).forEach((function(e){Object(T.o)(e)&&r.removeTag(e)})),(e.query.startDuration||e.query.endDuration)&&r.setTagValues("transaction.duration",[Object(V.d)(e.query.startDuration),Object(V.d)(e.query.endDuration)].filter((function(e){return e})).map((function(e,t){return 0===t?">".concat(e):"<".concat(e)}))),z.a.fromNewQueryWithLocation({id:void 0,version:2,name:t,fields:["id","user.display","transaction.duration","timestamp"],query:Object(N.b)(r),projects:[]},e)}}t.default=Object(I.a)(Object(F.a)(Object(_.a)(Object(A.a)(Ut))))}}]);
//# sourceMappingURL=PerformanceTransactionSummary.js.map