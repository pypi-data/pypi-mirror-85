(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[141],{2998:function(e,t,r){"use strict";r.r(t);var n=r(7),c=r.n(n),a=r(9),i=r.n(a),o=r(10),l=r.n(o),s=r(12),u=r.n(s),f=r(13),b=r.n(f),p=r(5),j=r.n(p),d=r(3),O=r(1),g=r.n(O),m=r(205),h=r(4),y=r(37),v=r(168),w=r(8),S=r(2444),C=r(429),I=r(6),k=r.n(I),x=r(16),A=r.n(x),R=r(2123),F=r(2506),N=r(0);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j()(e);if(t){var c=j()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return b()(this,r)}}var D=function(e){u()(r,e);var t=z(r);function r(){var e;i()(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).handleSubmitSuccess=function(){var t=e.props.router,r=e.props.params.orgId;t.push("/organizations/".concat(r,"/alerts/rules/"))},e}return l()(r,[{key:"render",value:function(){var e=this.props,t=e.project,r=e.eventView,n=e.sessionId,a=A()(e,["project","eventView","sessionId"]),i=r?Object(R.f)(r):Object(R.d)();return Object(N.f)(F.a,c()({onSubmitSuccess:this.handleSubmitSuccess,rule:T(T({},i),{},{projects:[t.slug]}),sessionId:n,project:t},a))}}]),r}(g.a.Component);D.displayName="IncidentRulesCreate";var _=D,E=r(2508),V=r(2011),q=r(433),M=r(682),H=r(2079),J=r(731),K=r(457),L=r(238),W=r(29),B=r(101),G=function(e){var t=e.children;return Object(N.f)(W.a,{title:Object(h.b)("A metric is the value of an aggregate function like count() or avg()\n       applied to your events over time")},Object(N.f)("abbr",null,t))};G.displayName="MetricsTooltip";var Q=function(e){var t=e.children;return Object(N.f)(W.a,{title:Object(h.b)("Sentry groups similar events into an Issue based on their stack trace\n       and other factors.")},Object(N.f)("abbr",null,t))};Q.displayName="IssuesTooltip";var U=function(e){var t=e.onChange,r=e.organization,n=e.selected,c=function(e){Object(y.d)({eventKey:"alert_chooser_cards.select",eventName:"Alert Chooser Cards: Select",organization_id:r.id,type:e}),t(e)};return Object(N.f)(Z,null,Object(N.f)($,{interactive:!0,onClick:function(){return c("metric")}},Object(N.f)(X,null,Object(N.f)(H.a,{"aria-label":"metric",checked:"metric"===n,onChange:function(){return c("metric")}}),Object(h.b)("Metric Alert")),Object(N.f)(B.a,{requireAll:!0,features:["organizations:performance-view"]},(function(e){return e.hasFeature?Object(N.f)(g.a.Fragment,null,Object(N.f)("p",null,Object(h.c)("Notifies you when a [tooltip:metric] exceeds a threshold.",{tooltip:Object(N.f)(G,null)})),!n&&Object(N.f)(g.a.Fragment,null,Object(N.f)(Y,null,Object(h.b)("For Example:")),Object(N.f)(K.a,{symbol:"bullet"},Object(N.f)(L.a,null,Object(h.b)("Performance metrics like latency and apdex")),Object(N.f)(L.a,null,Object(h.b)("Frequency of error events or users affected in the project"))))):Object(N.f)(g.a.Fragment,null,Object(N.f)("p",null,Object(h.c)("Notifies you when a [tooltip:metric] like frequency of events or users affected in\n                   the project exceeds a threshold.",{tooltip:Object(N.f)(G,null)})),!n&&Object(N.f)(g.a.Fragment,null,Object(N.f)(Y,null,Object(h.b)("For Example:")),Object(N.f)(K.a,{symbol:"bullet"},Object(N.f)(L.a,null,Object(h.b)("Total events in the project exceed 1000/minute")),Object(N.f)(L.a,null,Object(h.c)('Events with tag [code:database] and "API" in the title exceed 100/minute',{code:Object(N.f)("code",null)})))))}))),Object(N.f)($,{interactive:!0,onClick:function(){return c("issue")}},Object(N.f)(X,null,Object(N.f)(H.a,{"aria-label":"issue",checked:"issue"===n,onChange:function(){return c("issue")}}),Object(h.b)("Issue Alert")),Object(N.f)("p",null,Object(h.c)("Notifies you when individual [tooltip:Sentry Issues] trigger your\n           alerting criteria.",{tooltip:Object(N.f)(Q,null)})),!n&&Object(N.f)(g.a.Fragment,null,Object(N.f)(Y,null,Object(h.b)("For Example:")),Object(N.f)(K.a,{symbol:"bullet"},Object(N.f)(L.a,null,Object(h.b)("New Issues or regressions")),Object(N.f)(L.a,null,Object(h.b)("Frequency of individual Issues exceeds 100/minute"))))))};U.displayName="TypeChooser";var X=Object(d.a)("label",{target:"ekdiyig0",label:"RadioLabel"})("cursor:pointer;margin-bottom:",Object(w.a)(3),";display:grid;grid-auto-flow:column;grid-auto-columns:max-content;align-items:center;grid-gap:",Object(w.a)(2),";"),Y=Object(d.a)("div",{target:"ekdiyig1",label:"ExampleHeading"})("text-transform:uppercase;font-size:",(function(e){return e.theme.fontSizeSmall}),";font-weight:bold;color:",(function(e){return e.theme.subText}),";margin-bottom:",Object(w.a)(2),";"),Z=Object(d.a)("div",{target:"ekdiyig2",label:"Container"})("display:grid;grid-template-columns:1fr 1fr;grid-gap:",Object(w.a)(3),";"),$=Object(d.a)(M.a,{target:"ekdiyig3",label:"TypeCard"})("cursor:pointer;padding:",Object(w.a)(4),";margin-bottom:",Object(w.a)(3),";",J.a,";"),ee=U;function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j()(e);if(t){var c=j()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return b()(this,r)}}var re=function(e){u()(r,e);var t=te(r);function r(){var e;i()(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={eventView:void 0,alertType:e.props.location.pathname.includes("/alerts/rules/")?"issue":e.props.location.pathname.includes("/alerts/metric-rules/")?"metric":null},e.sessionId=Object(v.a)(),e.handleChangeAlertType=function(t){e.setState({alertType:t})},e}return l()(r,[{key:"componentDidMount",value:function(){var e,t=this.props,r=t.organization,n=t.location,c=t.project;if(Object(y.d)({eventKey:"new_alert_rule.viewed",eventName:"New Alert Rule: Viewed",organization_id:r.id,project_id:c.id,session_id:this.sessionId}),null==n?void 0:null===(e=n.query)||void 0===e?void 0:e.createFromDiscover){var a=C.a.fromLocation(n);this.setState({alertType:"metric",eventView:a})}}},{key:"render",value:function(){var e=this.props,t=e.hasMetricAlerts,r=e.organization,n=e.project,a=e.params.projectId,i=this.state,o=i.alertType,l=i.eventView,s=t,u=Object(h.b)("New Alert Rule");return Object(N.f)(g.a.Fragment,null,Object(N.f)(V.a,{title:u,objSlug:a}),Object(N.f)(m.b,null,Object(N.f)(S.a,{hasMetricAlerts:t,orgSlug:r.slug,title:u}),Object(N.f)(ne,null,Object(N.f)(q.a,null,u)),s&&Object(N.f)(ee,{organization:r,selected:o,onChange:this.handleChangeAlertType}),(!t||"issue"===o)&&Object(N.f)(E.a,c()({},this.props,{project:n})),t&&"metric"===o&&Object(N.f)(_,c()({},this.props,{eventView:l,sessionId:this.sessionId,project:n}))))}}]),r}(g.a.Component);re.displayName="Create";var ne=Object(d.a)(m.c,{target:"e1j21w300",label:"StyledPageHeader"})("margin-bottom:",Object(w.a)(4),";");t.default=re}}]);
//# sourceMappingURL=ProjectAlertsCreate.js.map