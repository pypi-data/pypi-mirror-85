(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[199],{2008:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),a=n.n(r),o=n(10),c=n.n(o),i=n(12),s=n.n(i),u=n(13),l=n.n(u),d=n(5),f=n.n(d),m=n(249),p=n.n(m),h=(n(1),n(703)),g=n(0);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var b=function(e){s()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(g.f)(p.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(h.a);b.displayName="AsyncView"},2012:function(e,t,n){"use strict";var r=n(7),a=n.n(r),o=n(6),c=n.n(o),i=n(16),s=n.n(i),u=n(9),l=n.n(u),d=n(10),f=n.n(d),m=n(12),p=n.n(m),h=n(13),g=n.n(h),v=n(5),b=n.n(v),y=n(166),O=n(2),j=n.n(O),I=n(1),P=n.n(I),R=n(709),S=n.n(R),T=n(46),w=n(21),D=n(704),F=n(165),z=n(2019),k=n(0);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var x=function(e){p()(n,e);var t=E(n);function n(){return l()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.fields,o=t.access,c=t.disabled,i=t.additionalFieldProps,u=t.renderFooter,l=t.renderHeader,d=s()(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return Object(k.f)(F.a,{id:"string"==typeof n?Object(D.a)(n):void 0},n&&Object(k.f)(F.e,null,n),Object(k.f)(F.c,null,"function"==typeof l&&l({title:n,fields:r}),r.map((function(t){if("function"==typeof t)return t();t.defaultValue;var n=s()(t,["defaultValue"]);return!0===c&&(n.disabled=!0,n.disabledReason=void 0),Object(k.f)(z.a,a()({access:o,disabled:c,key:t.name},d,i,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))})),"function"==typeof u&&u({title:n,fields:r})))}}]),n}(P.a.Component);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}x.displayName="FormPanel";var U=function(e){p()(n,e);var t=A(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={highlighted:C(e.props,e.context).hash},e}return f()(n,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(C(this.props,this.context).hash!==C(e,this.context).hash){var t=C(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t=e||C(this.props,this.context).hash;if(t)try{S()(Object(D.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){T.c(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&Object(w.d)(null==e?void 0:e.visible)}));if(e.length===t.length){var n=this.props,r=n.additionalFieldProps,a=s()(n,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(H(H({},a),r)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,n=e.formPanelProps,r=e.title;return this.shouldDisplayForm(t)||(null==n?void 0:n.renderFooter)||(null==n?void 0:n.renderHeader)?Object(k.f)(x,a()({title:r,fields:t},n)):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.access,r=t.fields,a=t.title,o=t.forms,c=t.disabled,i=t.features,u=t.additionalFieldProps,l=t.renderFooter,d=t.renderHeader,f=(t.location,s()(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),m={access:n,disabled:c,features:i,additionalFieldProps:u,renderFooter:l,renderHeader:d,highlighted:this.state.highlighted};return Object(k.f)(y.Box,f,void 0!==o&&o.map((function(t,n){return Object(k.f)(P.a.Fragment,{key:n},e.renderForm(H({formPanelProps:m},t)))})),void 0===o&&void 0!==r&&this.renderForm({fields:r,formPanelProps:m,title:a}))}}]),n}(P.a.Component);U.displayName="JsonForm",U.contextTypes={location:j.a.object},U.defaultProps={additionalFieldProps:{}};t.a=U;function C(e,t){return e.location||t.location||{}}},2082:function(e,t,n){"use strict";function r(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,"a",(function(){return r}))},2103:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return h}));var r=n(151),a=n(4),o=n(34),c=n(168),i=n(52),s=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];i.a.apply(void 0,[e[t]].concat(r))};function u(e,t,n){return r.a.fetchDetails(t.teamId),e.request("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{success:function(e){r.a.fetchDetailsSuccess(t.teamId,e),s(n,"success",e)},error:function(e){r.a.fetchDetailsError(t.teamId,e),s(n,"error",e)}})}function l(e,t){r.a.updateSuccess(e,t)}function d(e,t,n){var a="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return r.a.update(t.teamId,t.data),e.request(a,{method:"PUT",data:t.data,success:function(e){l(t.teamId,e),s(n,"success",e)},error:function(e){r.a.updateError(t.teamId,e),s(n,"error",e)}})}function f(e,t,n){var a,o="/organizations/".concat(t.orgId,"/members/").concat(null!==(a=t.memberId)&&void 0!==a?a:"me","/teams/").concat(t.teamId,"/"),i=Object(c.a)();return r.a.update(i,t.teamId),e.request(o,{method:"POST",success:function(e){r.a.updateSuccess(t.teamId,e),s(n,"success",e)},error:function(e){r.a.updateError(i,t.teamId,e),s(n,"error",e)}})}function m(e,t,n){var a="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),o=Object(c.a)();return r.a.update(o,t.teamId),e.request(a,{method:"DELETE",success:function(e){r.a.updateSuccess(t.teamId,e),s(n,"success",e)},error:function(e){r.a.updateError(o,t.teamId,e),s(n,"error",e)}})}function p(e,t,n){return r.a.createTeam(t),e.requestPromise("/organizations/".concat(n.orgId,"/teams/"),{method:"POST",data:t}).then((function(e){return r.a.createTeamSuccess(e),Object(o.d)(Object(a.c)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:n.orgId})),e}),(function(e){throw r.a.createTeamError(t.slug,e),Object(o.a)(Object(a.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug),organization:n.orgId})),e}))}function h(e,t){return r.a.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((function(e){return r.a.removeTeamSuccess(t.teamId,e),Object(o.d)(Object(a.c)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}),(function(e){throw r.a.removeTeamError(t.teamId,e),Object(o.a)(Object(a.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},2299:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return o}));var r=n(4),a=n(2082),o="/settings/:orgId/teams/:teamId/settings/",c=[{title:"Team Settings",fields:[{name:"slug",type:"string",required:!0,label:Object(r.b)("Name"),placeholder:"e.g. api-team",help:Object(r.b)("A unique ID used to identify the team"),disabled:function(e){return!e.access.has("team:write")},transformInput:a.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(r.b)("You will be redirected to the new team slug after saving")}]}];t.default=c},3017:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n(22),a=n.n(r),o=n(30),c=n.n(o),i=n(9),s=n.n(i),u=n(10),l=n.n(u),d=n(12),f=n.n(d),m=n(13),p=n.n(m),h=n(5),g=n.n(h),v=n(2),b=n.n(v),y=n(1),O=n.n(y),j=n(165),I=n(34),P=n(2103),R=n(4),S=n(2008),T=n(31),w=n(15),D=n(206),F=n(708),z=n(2013),k=n(2012),E=n(158),x=n(2299);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var H=function(e){f()(n,e);var t=q(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"doApiRequest",value:function(e){var t=this,n=e.data;return new Promise((function(e,r){return Object(P.f)(t.api,{orgId:t.orgId,teamId:t.teamId,data:n},{success:e,error:r})}))}}]),n}(n(2132).a),A=n(0);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var C=function(e){f()(n,e);var t=U(n);function n(e,r){var o;return s()(this,n),(o=t.call(this,e,r)).handleSubmitSuccess=function(e,t,n){Object(P.g)(e.slug,e),"slug"===n&&(Object(I.d)(Object(R.b)("Team name changed")),o.props.router.replace("/settings/".concat(o.props.params.orgId,"/teams/").concat(t.getValue(n),"/settings/")),o.setState({loading:!0}))},o.handleRemoveTeam=c()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.e)(o.api,o.props.params);case 2:o.props.router.replace("/settings/".concat(o.props.params.orgId,"/teams/"));case 3:case"end":return e.stop()}}),e)}))),o.model=new H,o.model.teamId=e.params.teamId,o.model.orgId=e.params.orgId,o}return l()(n,[{key:"getTitle",value:function(){return"Team Settings"}},{key:"getEndpoints",value:function(){return[]}},{key:"renderBody",value:function(){var e=this.context,t=e.location,n=e.organization,r=this.props.team,a=new Set(n.access);return Object(A.f)(O.a.Fragment,null,Object(A.f)(z.a,{model:this.model,apiMethod:"PUT",saveOnBlur:!0,allowUndo:!0,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:function(){return Object(I.a)(Object(R.b)("Unable to save change"))},initialData:{name:r.name,slug:r.slug}},Object(A.f)(k.a,{access:a,location:t,forms:x.default})),Object(A.f)(j.a,null,Object(A.f)(j.e,null,Object(R.b)("Remove Team")),Object(A.f)(F.a,{help:Object(R.b)("This may affect team members' access to projects and associated alert delivery.")},Object(A.f)("div",null,Object(A.f)(D.a,{disabled:!a.has("team:admin"),onConfirm:this.handleRemoveTeam,priority:"danger",message:Object(R.c)("Are you sure you want to remove the team [team]?",{team:"#".concat(r.slug)})},Object(A.f)(T.a,{icon:Object(A.f)(w.r,null),priority:"danger",disabled:!a.has("team:admin")},Object(R.b)("Remove Team")))))))}}]),n}(S.a);C.contextTypes={location:b.a.object,organization:E.a.Organization}}}]);
//# sourceMappingURL=TeamSettings.js.map