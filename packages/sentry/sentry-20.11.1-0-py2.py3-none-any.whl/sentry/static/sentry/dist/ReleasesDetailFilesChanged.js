(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[182],{2228:function(e,t,r){"use strict";r(1);var n=r(314),o=r(165),i=r(0),a=function(e){var t=e.withIcon,r=e.children;return Object(i.f)(o.a,null,Object(i.f)(o.c,null,Object(i.f)(n.a,{small:!0,withIcon:t},r)))};a.displayName="EmptyState",t.a=a},2342:function(e,t,r){"use strict";var n=r(6),o=r.n(n),i=r(9),a=r.n(i),c=r(10),s=r.n(c),u=r(12),l=r.n(u),p=r(13),f=r.n(p),d=r(5),h=r.n(d),b=r(3),v=r(1),y=r.n(v),j=r(4),O=r(374),m=r(48),g=r(8),R=r(0);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var S=function(e){l()(r,e);var t=k(r);function r(){var e;a()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e.dropdownButton=y.a.createRef(),e.handleRepoFilterChange=function(t){var r=e.props,n=r.router,o=r.location;n.push(x(x({},o),{},{query:x(x({},o.query),{},{cursor:void 0,activeRepo:t})}))},e}return s()(r,[{key:"componentDidMount",value:function(){this.setButtonDropDownWidth()}},{key:"setButtonDropDownWidth",value:function(){var e,t,r=null===(e=this.dropdownButton)||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:t.offsetWidth;r&&this.setState({dropdownButtonWidth:r})}},{key:"render",value:function(){var e=this,t=this.props,r=t.activeRepository,n=t.repositories,o=this.state.dropdownButtonWidth,i=null==r?void 0:r.name;return Object(R.f)(D,{minMenuWidth:o,label:Object(R.f)(y.a.Fragment,null,Object(R.f)(P,null,"".concat(Object(j.b)("Filter"),":")),i),buttonProps:{forwardRef:this.dropdownButton}},n.map((function(e){return e.name})).map((function(t){return Object(R.f)(O.a,{key:t,onSelect:e.handleRepoFilterChange,eventKey:t,isActive:t===i},Object(R.f)(C,null,t))})))}}]),r}(y.a.PureComponent);S.displayName="RepositorySwitcher",t.a=S;var D=Object(b.a)(O.b,{target:"ev1ou9t0",label:"StyledDropdownControl"})("margin-bottom:",Object(g.a)(1),";> *:nth-child(2){right:auto;width:auto;",(function(e){return e.minMenuWidth&&"min-width: calc(".concat(e.minMenuWidth,"px + 10px);")})," border-radius:",(function(e){return e.theme.borderRadius}),";border-top-left-radius:0px;border:1px solid ",(function(e){return e.theme.button.default.border}),";top:calc(100% - 1px);}"),P=Object(b.a)("em",{target:"ev1ou9t1",label:"FilterText"})("font-style:normal;color:",(function(e){return e.theme.gray300}),";margin-right:",Object(g.a)(.5),";"),C=Object(b.a)("div",{target:"ev1ou9t2",label:"RepoLabel"})(m.a)},2392:function(e,t,r){"use strict";var n=r(7),o=r.n(n),i=r(22),a=r.n(i),c=r(30),s=r.n(c),u=r(9),l=r.n(u),p=r(10),f=r.n(p),d=r(12),h=r.n(d),b=r(13),v=r.n(b),y=r(5),j=r.n(y),O=r(1),m=r.n(O),g=r(46),R=r(4),w=r(92),x=r(44),k=r(34),S=r(2271),D=r(31),P=r(15),C=r(427),F=r(165),N=r(0),I=function(e){var t=e.orgId;return Object(N.f)(F.a,{dashedBorder:!0},Object(N.f)(C.a,{icon:Object(N.f)(P.p,{size:"xl"}),title:Object(R.b)("Releases are better with commit data!"),description:Object(R.b)("Connect a repository to see commit info, files changed, and authors involved in future releases."),action:Object(N.f)(D.a,{priority:"primary",to:"/settings/".concat(t,"/repos/")},Object(R.b)("Connect a repository"))}))};I.displayName="NoRepoConnected";var L=I;function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j()(e);if(t){var o=j()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}t.a=function(e){var t,r;return r=t=function(t){h()(i,t);var r,n=W(i);function i(){var e;l()(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={repositories:[],isLoading:!0},e}return f()(i,[{key:"componentDidMount",value:function(){this.fetchRepositories()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setActiveRepo(e)}},{key:"componentDidUpdate",value:function(e,t){t.repositories.length!==this.state.repositories.length&&this.setActiveRepo(this.props)}},{key:"setActiveRepo",value:function(e){var t,r=this.state,n=r.repositories,o=r.activeRepository;if(n.length){var i,a=null===(t=e.location.query)||void 0===t?void 0:t.activeRepo;if(a){if(a!==(null==o?void 0:o.name)){var c=n.find((function(e){return e.name===a}));c?this.setState({activeRepository:c}):Object(k.a)(Object(R.b)("The repository you were looking for was not found."))}}else this.setState({activeRepository:null!==(i=n[0])&&void 0!==i?i:null})}}},{key:"getEndpoint",value:function(){var e=this.props.params,t=e.release,r=e.orgId,n=this.context.project;return"/projects/".concat(r,"/").concat(n.slug,"/releases/").concat(encodeURIComponent(t),"/repositories/")}},{key:"fetchRepositories",value:(r=s()(a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.params,r=t.release,this.setState({isLoading:!0}),e.prev=3,e.next=6,this.props.api.requestPromise(this.getEndpoint());case 6:n=e.sent,this.setState({repositories:n,isLoading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),g.c(e.t0),Object(k.a)(Object(R.b)("An error occured while trying to fetch the repositories of the release: %s",r));case 14:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var t=this.state,r=t.isLoading,n=t.activeRepository,i=t.repositories;return r?Object(N.f)(x.default,null):i.length?void 0===n?Object(N.f)(x.default,null):Object(N.f)(e,o()({},this.props,{projectSlug:this.context.project.slug,repositories:i,activeRepository:n})):Object(N.f)(L,{orgId:this.props.params.orgId})}}]),i}(m.a.Component),t.displayName="withRepositories(".concat(Object(w.a)(e),")"),t.contextType=S.ReleaseContext,r}},2984:function(e,t,r){"use strict";r.r(t);var n=r(6),o=r.n(n),i=r(9),a=r.n(i),c=r(10),s=r.n(c),u=r(156),l=r.n(u),p=r(12),f=r.n(p),d=r(13),h=r.n(d),b=r(5),v=r.n(b),y=r(3),j=r(1),O=r.n(j),m=r(4),g=r(2010),R=r(108),w=r(51),x=r(319),k=r(706),S=r(2008),D=r(165),P=r(8),C=Object(y.a)("li",{target:"efieh460",label:"ListGroupItem"})("position:relative;display:block;min-height:36px;border:1px solid ",(function(e){return e.theme.border}),";padding:",Object(P.a)(.5)," ",Object(P.a)(1.5),";margin-bottom:-1px;",(function(e){return e.centered?"text-align: center;":""})," &:first-child{border-top-left-radius:",(function(e){return e.theme.borderRadius}),";border-top-right-radius:",(function(e){return e.theme.borderRadius}),";}&:last-child{border-bottom-left-radius:",(function(e){return e.theme.borderRadius}),";border-bottom-right-radius:",(function(e){return e.theme.borderRadius}),";}"),F=r(751),N=r(15),I=r(25),L=r(0),W={jsx:"react",tsx:"react",js:"javascript",ts:"javascript",php:"php",py:"python",vue:"vue",go:"go",java:"java",perl:"perl",rb:"ruby",rs:"rust",rlib:"rust",swift:"swift",h:"apple",m:"apple",mm:"apple",M:"apple",cs:"csharp",ex:"elixir",exs:"elixir"},z=function(e){var t,n=e.fileName,o=e.size,i=void 0===o?"sm":o,a=e.className,c=n.split(".").pop(),s=c?W[c]:null,u=null!==(t=I.b.iconSizes[i])&&void 0!==t?t:i;return s?Object(L.f)("img",{src:r(1165)("./".concat(s,".svg")),width:u,height:u,className:a}):Object(L.f)(N.x,{size:u,className:a})};z.displayName="FileIcon";var A=z,B=r(286),E=function(e){var t=e.filename,r=e.authors,n=e.className;return Object(L.f)(q,{className:n},Object(L.f)(M,null,Object(L.f)(T,{fileName:t}),Object(L.f)(B.a,null,t)),Object(L.f)("div",null,Object(L.f)(F.b,{users:r,avatarSize:25,typeMembers:"authors"})))};E.displayName="FileChange";var q=Object(y.a)(C,{target:"e18i6q0j0",label:"FileItem"})({name:"1lekzkb",styles:"display:flex;align-items:center;justify-content:space-between;"}),M=Object(y.a)("div",{target:"e18i6q0j1",label:"Filename"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";display:grid;grid-gap:",Object(P.a)(1),";margin-right:",Object(P.a)(3),";align-items:center;grid-template-columns:max-content 1fr;"),T=Object(y.a)(A,{target:"e18i6q0j2",label:"StyledFileIcon"})("color:",(function(e){return e.theme.gray200}),";border-radius:3px;"),U=E,J=r(2341),G=r(2392),K=r(2342),_=r(2228);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h()(this,r)}}var X=function(e){f()(r,e);var t=V(r);function r(){var e;a()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getEndpoints=function(){var t=e.props,r=t.params,n=t.activeRepository,o=t.location,i=r.orgId,a=r.release,c=Object(J.c)({location:o,activeRepository:n});return[["fileList","/organizations/".concat(i,"/releases/").concat(encodeURIComponent(a),"/commitfiles/"),{query:c}]]},e}return s()(r,[{key:"getTitle",value:function(){var e=this.props.params,t=e.orgId;return Object(g.a)(Object(m.b)("Files Changed - Release %s",Object(R.i)(e.release)),t,!1)}},{key:"getDefaultState",value:function(){return Q(Q({},l()(v()(r.prototype),"getDefaultState",this).call(this)),{},{fileList:[]})}},{key:"renderContent",value:function(){var e=this.state,t=e.fileList,r=e.fileListPageLinks,n=this.props.activeRepository;if(!t.length)return Object(L.f)(_.a,null,n?Object(m.b)("There are no changed files associated with this release in the %s repository.",n.name):Object(m.b)("There are no changed files associated with this release."));var o=Object(J.b)(t),i=Object(J.e)(Object.keys(o));return Object(L.f)(O.a.Fragment,null,i.map((function(e){var t=o[e],r=Object.keys(t),n=r.length;return Object(L.f)(D.a,{key:e},Object(L.f)(D.e,null,Object(L.f)("span",null,e),Object(L.f)("span",null,Object(m.d)("%s file changed","%s files changed",n))),Object(L.f)(D.c,null,r.map((function(e){var r=t[e].authors;return Object(L.f)(Y,{key:e,filename:e,authors:Object.values(r)})}))))})),Object(L.f)(k.a,{pageLinks:r}))}},{key:"renderBody",value:function(){var e=this.props,t=e.activeRepository,r=e.router,n=e.repositories,o=e.location;return Object(L.f)(O.a.Fragment,null,n.length>1&&Object(L.f)(K.a,{repositories:n,activeRepository:t,location:o,router:r}),this.renderContent())}},{key:"renderComponent",value:function(){return Object(L.f)(x.f,{fullWidth:!0},l()(v()(r.prototype),"renderComponent",this).call(this))}}]),r}(S.a),Y=(t.default=Object(w.a)(Object(G.a)(X)),Object(y.a)(U,{target:"edmhvtz0",label:"StyledFileChange"})({name:"d1zd91",styles:"border-radius:0;border-left:none;border-right:none;border-top:none;:last-child{border:none;border-radius:0;}"}))}}]);
//# sourceMappingURL=ReleasesDetailFilesChanged.js.map