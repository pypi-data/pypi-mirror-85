(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[78],{2344:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(9),i=n.n(o),c=n(10),u=n.n(c),s=n(12),l=n.n(s),f=n(13),b=n.n(f),p=n(5),d=n.n(p),v=n(1),g=n.n(v),j=n(4),y=n(2094),O=n(566),h=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var D=function(e){l()(n,e);var t=w(n);function n(){return i()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.eventView,r=t.event,a=t.organization,o=t.location,i=a.features.includes("discover-query")?{pathname:Object(O.d)(a),query:S(S(S({},o.query),n.generateBlankQueryStringObject()),n.getGlobalSelectionQuery())}:null;return e.push({to:i,label:Object(j.b)("Discover")}),n&&n.isValid()&&e.push({to:n.getResultsViewUrlTarget(a.slug),label:n.name||""}),r&&e.push({label:Object(j.b)("Event Detail")}),e}},{key:"render",value:function(){return Object(h.f)(y.a,{crumbs:this.getCrumbs()})}}]),n}(g.a.Component);D.displayName="DiscoverBreadcrumb",D.defaultProps={event:void 0},t.a=D},3001:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(12),u=n.n(c),s=n(13),l=n.n(s),f=n(5),b=n.n(f),p=n(3),d=n(1),v=n.n(d),g=n(205),j=n(4),y=n(714),O=n(2011),h=n(56),m=n(429),S=n(6),w=n.n(S),D=n(156),k=n.n(D),I=n(2238),P=n(2311),z=n(8),R=n(37),E=n(199),x=n(31),V=n(101),C=n(2448),T=n(2449),q=n(2513),B=n(2450),A=n(122),L=n(742),N=n(2451),U=n(703),H=n(251),K=n(2023),_=n(566),F=n(319),G=n(121),Q=n(63),W=n(44),J=n(726),M=n(73),Y=n(2018),X=n(15),Z=n(772),$=n(70),ee=n(710),te=n(253),ne=n(805),re=n(354),ae=n(1049),oe=n(0);function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var ce=function(e){u()(n,e);var t=ie(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getEndpoints",value:function(){var e=this.props.groupId;return[["group","/issues/".concat(e,"/")]]}},{key:"renderLoading",value:function(){return Object(oe.f)(ee.a,{height:"120px",bottomGutter:2})}},{key:"renderError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.state.errors,o=Object.values(a).find((function(e){return e&&404===e.status}));return o?Object(oe.f)(M.b,{type:"warning",icon:Object(oe.f)(X.Kb,{size:"md"})},Object(j.b)("The linked issue cannot be found. It may have been deleted, or merged.")):k()(b()(n.prototype),"renderError",this).call(this,e,t,r)}},{key:"renderBody",value:function(){var e=this.props.eventId,t=this.state.group,n="".concat(t.permalink,"events/").concat(e,"/");return Object(oe.f)(ue,null,Object(oe.f)(Y.c,null,Object(j.b)("Event Issue")),Object(oe.f)(se,null,Object(oe.f)(le,null,Object(oe.f)(fe,{to:n,"data-test-id":"linked-issue"},Object(oe.f)(de,{shortId:t.shortId,avatar:Object(oe.f)(te.a,{project:t.project,avatarSize:16,hideName:!0})})),Object(oe.f)(pe,{seenBy:t.seenBy,maxVisibleAvatars:5})),Object(oe.f)(be,null,Object(oe.f)(Z.a,{statsPeriod:"30d",data:t,height:56})),Object(oe.f)(ve,null,Object(oe.f)(ae.a,{lastSeen:t.lastSeen,firstSeen:t.firstSeen}))))}}]),n}(U.a),ue=Object(p.a)("div",{target:"e1aotpux0",label:"Section"})("margin-bottom:",Object(z.a)(4),";"),se=Object(p.a)("div",{target:"e1aotpux1",label:"StyledIssueCard"})("border:1px solid ",(function(e){return e.theme.border}),";border-radius:",(function(e){return e.theme.borderRadius}),";"),le=Object(p.a)("div",{target:"e1aotpux2",label:"IssueCardHeader"})("display:flex;align-items:center;justify-content:space-between;padding:",Object(z.a)(1),";"),fe=Object(p.a)($.a,{target:"e1aotpux3",label:"StyledLink"})({name:"1fn0841",styles:"justify-content:flex-start;"}),be=Object(p.a)("div",{target:"e1aotpux4",label:"IssueCardBody"})("background:",(function(e){return e.theme.backgroundSecondary}),";padding-top:",Object(z.a)(1),";"),pe=Object(p.a)(ne.a,{target:"e1aotpux5",label:"StyledSeenByList"})({name:"1uk1gs8",styles:"margin:0;"}),de=Object(p.a)(re.a,{target:"e1aotpux6",label:"StyledShortId"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.textColor}),";"),ve=Object(p.a)("div",{target:"e1aotpux7",label:"IssueCardFooter"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";padding:",Object(z.a)(.5)," ",Object(z.a)(1),";"),ge=ce,je=n(2344);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var me=function(e){u()(n,e);var t=he(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={loading:!0,reloading:!1,error:!1,errors:[],event:void 0,isSidebarVisible:!0},e.toggleSidebar=function(){e.setState({isSidebarVisible:!e.state.isSidebarVisible})},e.generateTagKey=function(e){return e.key in Q.c?"tags[".concat(e.key,"]"):e.key},e.generateTagUrl=function(t){var n=e.props,r=n.eventView,a=n.organization,o=e.state.event;if(!o)return"";var i=Oe({},o);i.id&&delete i.id;var c=e.generateTagKey(t);return Object(J.e)(r,w()({},c,t.value),i).getResultsViewUrlTarget(a.slug)},e}return i()(n,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params,r=e.location,a=e.eventView,o=n.eventSlug,i=a.getEventsAPIPayload(r);return i.field=[],[["event","/organizations/".concat(t.slug,"/events/").concat(o,"/"),{query:i}]]}},{key:"renderBody",value:function(){var e=this.state.event;return e?this.renderContent(e):Object(oe.f)(L.a,null)}},{key:"renderContent",value:function(e){var t,n=this.props,r=n.organization,a=n.location,o=n.eventView,i=this.state.isSidebarVisible;Object(R.d)({eventKey:"discover_v2.event_details",eventName:"Discoverv2: Opened Event Details",event_type:e.type,organization_id:parseInt(r.id,10)});var c=null===(t=e.tags.find((function(e){return"transaction"===e.key})))||void 0===t?void 0:t.value,u="transaction"===e.type&&c?Object(K.a)({orgSlug:r.slug,transaction:c,projectID:e.projectID,query:a.query}):null;return Object(oe.f)(v.a.Fragment,null,Object(oe.f)(F.b,null,Object(oe.f)(F.d,null,Object(oe.f)(je.a,{eventView:o,event:e,organization:r,location:a}),Object(oe.f)(Se,{event:e,organization:r})),Object(oe.f)(we,null,Object(oe.f)(G.a,{gap:1},Object(oe.f)(x.a,{onClick:this.toggleSidebar},i?"Hide Details":"Show Details"),u&&Object(oe.f)(V.a,{organization:r,features:["performance-view"]},(function(e){var t=e.hasFeature;return Object(oe.f)(x.a,{disabled:!t,priority:"primary",to:u},Object(j.b)("Go to Summary"))}))))),Object(oe.f)(F.a,null,Object(oe.f)(F.f,{fullWidth:!i},Object(oe.f)(H.a,{orgId:r.slug,slugs:[this.projectId]},(function(t){var n=t.projects;return t.initiallyLoaded?Object(oe.f)(P.b,{value:{getViewChildTransactionTarget:function(e){return{pathname:Object(_.a)({eventSlug:e.eventSlug,orgSlug:r.slug}),query:o.generateQueryStringObject()}}}},Object(oe.f)(I.a,{organization:r,event:e,project:n[0],location:a,showExampleCommit:!1,showTagSummary:!1})):Object(oe.f)(W.default,null)}))),i&&Object(oe.f)(F.g,null,Object(oe.f)(B.a,{event:e,organization:r,projectId:this.projectId}),Object(oe.f)(C.a,{event:e}),Object(oe.f)(T.a,{event:e}),Object(oe.f)(q.a,{event:e}),e.groupID&&Object(oe.f)(ge,{groupId:e.groupID,eventId:e.eventID}),Object(oe.f)(N.a,{generateUrl:this.generateTagUrl,event:e,query:o.query}))))}},{key:"renderError",value:function(e){var t=Object.values(this.state.errors).find((function(e){return e&&404===e.status})),r=Object.values(this.state.errors).find((function(e){return e&&403===e.status}));return t?Object(oe.f)(L.a,null):r?Object(oe.f)(A.a,{message:Object(j.b)("You do not have permission to view that event.")}):k()(b()(n.prototype),"renderError",this).call(this,e,!0,!0)}},{key:"renderComponent",value:function(){var e=this.props,t=e.eventView,r=e.organization,a=this.state.event,o=Object(J.d)({eventView:t,event:a,organization:r});return Object(oe.f)(O.a,{title:o,objSlug:r.slug},k()(b()(n.prototype),"renderComponent",this).call(this))}},{key:"projectId",get:function(){return this.props.eventSlug.split(":")[0]}}]),n}(U.a),Se=function(e){var t=e.event,n=e.organization,r=Object(E.d)(t,n).title,a=Object(E.b)(t);return Object(oe.f)(F.h,{"data-test-id":"event-header"},Object(oe.f)("span",null,r,a&&a.length>0?":":null),Object(oe.f)(De,null,Object(E.b)(t)))};Se.displayName="EventHeader";var we=Object(p.a)(F.c,{target:"e60qfln0",label:"StyledHeaderActions"})("@media (max-width:",(function(e){return e.theme.breakpoints[1]}),"){display:none;}"),De=Object(p.a)("span",{target:"e60qfln1",label:"EventSubheading"})("color:",(function(e){return e.theme.gray300}),";margin-left:",Object(z.a)(1),";"),ke=me;function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var Pe=function(e){u()(n,e);var t=Ie(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getEventSlug=function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""},e.getEventView=function(){var t=e.props.location;return m.a.fromLocation(t)},e.getDocumentTitle=function(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),Object(j.b)("Discover")]:[Object(j.b)("Discover")]},e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.params,a=this.getEventView(),o=this.getDocumentTitle(a.name).join(" - ");return Object(oe.f)(O.a,{title:o,objSlug:t.slug},Object(oe.f)(ze,null,Object(oe.f)(y.a,{organization:t},Object(oe.f)(ke,{organization:t,location:n,params:r,eventView:a,eventSlug:this.getEventSlug()}))))}}]),n}(v.a.Component);Pe.displayName="EventDetails";t.default=Object(h.a)(Pe);var ze=Object(p.a)(g.b,{target:"e1i20vgd0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})}}]);
//# sourceMappingURL=DiscoverV2Details.js.map