(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[145],{2008:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(9),i=n.n(r),o=n(10),c=n.n(o),a=n(12),s=n.n(a),u=n(13),l=n.n(u),f=n(5),p=n.n(f),d=n(249),y=n.n(d),h=(n(1),n(703)),b=n(0);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var j=function(t){s()(n,t);var e=v(n);function n(){return i()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(b.f)(y.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),n}(h.a);j.displayName="AsyncView"},2009:function(t,e,n){"use strict";var r=n(16),i=n.n(r),o=n(9),c=n.n(o),a=n(10),s=n.n(a),u=n(12),l=n.n(u),f=n(13),p=n.n(f),d=n(5),y=n.n(d),h=n(3),b=n(1),v=n.n(b),j=n(8),O=n(205),m=n(0);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var P=function(t){l()(n,t);var e=g(n);function n(){return c()(this,n),e.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var t=this.props,e=t.icon,n=t.title,r=t.action,o=t.tabs,c=t.noTitleStyles,a=i()(t,["icon","title","action","tabs","noTitleStyles"]);return Object(m.f)("div",a,Object(m.f)(k,null,e&&Object(m.f)(R,null,e),n&&Object(m.f)(S,{tabs:o,styled:c},Object(m.f)(O.a,null,n)),r&&Object(m.f)(w,{tabs:o},r)),o&&Object(m.f)("div",null,o))}}]),n}(v.a.Component);P.displayName="SettingsPageHeading",P.defaultProps={noTitleStyles:!1};var k=Object(h.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),S=Object(h.a)("div",{target:"e1uay4fd1",label:"Title"})((function(t){return!t.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(t){return t.tabs?"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(2)," 0"):"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(4)," 0")}),";flex:1;"),R=Object(h.a)("div",{target:"e1uay4fd2",label:"Icon"})("margin-right:",Object(j.a)(1),";"),w=Object(h.a)("div",{target:"e1uay4fd3",label:"Action"})((function(t){return t.tabs?"margin-top: ".concat(Object(j.a)(2)):null}),";"),x=Object(h.a)(P,{target:"e1uay4fd4",label:"StyledSettingsPageHeading"})("font-size:14px;margin-top:-",Object(j.a)(4),";");e.a=x},2010:function(t,e,n){"use strict";e.a=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="".concat(t," - ").concat(e);return n?"".concat(r," - Sentry"):r}},2012:function(t,e,n){"use strict";var r=n(7),i=n.n(r),o=n(6),c=n.n(o),a=n(16),s=n.n(a),u=n(9),l=n.n(u),f=n(10),p=n.n(f),d=n(12),y=n.n(d),h=n(13),b=n.n(h),v=n(5),j=n.n(v),O=n(166),m=n(2),g=n.n(m),P=n(1),k=n.n(P),S=n(709),R=n.n(S),w=n(46),x=n(21),F=n(704),D=n(165),C=n(2019),I=n(0);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j()(t);if(e){var i=j()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var H=function(t){y()(n,t);var e=T(n);function n(){return l()(this,n),e.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.title,r=e.fields,o=e.access,c=e.disabled,a=e.additionalFieldProps,u=e.renderFooter,l=e.renderHeader,f=s()(e,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return Object(I.f)(D.a,{id:"string"==typeof n?Object(F.a)(n):void 0},n&&Object(I.f)(D.e,null,n),Object(I.f)(D.c,null,"function"==typeof l&&l({title:n,fields:r}),r.map((function(e){if("function"==typeof e)return e();e.defaultValue;var n=s()(e,["defaultValue"]);return!0===c&&(n.disabled=!0,n.disabledReason=void 0),Object(I.f)(C.a,i()({access:o,disabled:c,key:e.name},f,a,{field:n,highlighted:t.props.highlighted==="#".concat(e.name)}))})),"function"==typeof u&&u({title:n,fields:r})))}}]),n}(k.a.Component);function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j()(t);if(e){var i=j()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}H.displayName="FormPanel";var q=function(t){y()(n,t);var e=_(n);function n(){var t;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={highlighted:L(t.props,t.context).hash},t}return p()(n,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){if(L(this.props,this.context).hash!==L(t,this.context).hash){var e=L(t,this.context).hash;this.scrollToHash(e),this.setState({highlighted:e})}}},{key:"scrollToHash",value:function(t){var e=t||L(this.props,this.context).hash;if(e)try{R()(Object(F.a)(decodeURIComponent(e)),{align:"middle",offset:-100})}catch(t){w.c(t)}}},{key:"shouldDisplayForm",value:function(t){var e=t.filter((function(t){return"function"!=typeof t&&Object(x.d)(null==t?void 0:t.visible)}));if(t.length===e.length){var n=this.props,r=n.additionalFieldProps,i=s()(n,["additionalFieldProps"]);return!e.every((function(t){return"function"==typeof t.visible?!t.visible(N(N({},i),r)):!t.visible}))}return!0}},{key:"renderForm",value:function(t){var e=t.fields,n=t.formPanelProps,r=t.title;return this.shouldDisplayForm(e)||(null==n?void 0:n.renderFooter)||(null==n?void 0:n.renderHeader)?Object(I.f)(H,i()({title:r,fields:e},n)):null}},{key:"render",value:function(){var t=this,e=this.props,n=e.access,r=e.fields,i=e.title,o=e.forms,c=e.disabled,a=e.features,u=e.additionalFieldProps,l=e.renderFooter,f=e.renderHeader,p=(e.location,s()(e,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),d={access:n,disabled:c,features:a,additionalFieldProps:u,renderFooter:l,renderHeader:f,highlighted:this.state.highlighted};return Object(I.f)(O.Box,p,void 0!==o&&o.map((function(e,n){return Object(I.f)(k.a.Fragment,{key:n},t.renderForm(N({formPanelProps:d},e)))})),void 0===o&&void 0!==r&&this.renderForm({fields:r,formPanelProps:d,title:i}))}}]),n}(k.a.Component);q.displayName="JsonForm",q.contextTypes={location:g.a.object},q.defaultProps={additionalFieldProps:{}};e.a=q;function L(t,e){return t.location||e.location||{}}},2146:function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"a",(function(){return S}));var r=n(9),i=n.n(r),o=n(10),c=n.n(o),a=n(12),s=n.n(a),u=n(13),l=n.n(u),f=n(5),p=n.n(f),d=n(1),y=n.n(d),h=n(11),b=n(4),v=n(708),j=n(194),O=n(165),m=n(712),g=n(0);function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var k=function(t){var e=t.length?t[0].dsn.security:"https://sentry.example.com/api/security-report/";return Object(j.a)({value:e,fixed:"https://sentry.example.com/api/security-report/"})},S=function(t){s()(n,t);var e=P(n);function n(){return i()(this,n),e.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var t=this.props.params,e=t.orgId,n=t.projectId;return Object(g.f)(O.a,null,Object(g.f)(O.e,null,"Report URI"),Object(g.f)(O.c,null,Object(g.f)(O.b,{type:"info"},Object(b.c)("We've automatically pulled these credentials from your available [link:Client Keys]",{link:Object(g.f)(h.Link,{to:"/settings/".concat(e,"/projects/").concat(n,"/keys/")})})),Object(g.f)(v.a,{inline:!1,flexibleControlStateSize:!0},Object(g.f)(m.a,null,k(this.props.keyList)))))}}]),n}(y.a.Component);S.displayName="ReportUri"},2200:function(t,e,n){"use strict";n(1);var r=n(4),i=n(15),o=n(73),c=n(0),a=function(t){var e=t.type,n=void 0===e?"info":e;return Object(c.f)(o.b,{type:n,icon:Object(c.f)(i.N,{size:"sm"})},Object(r.b)("This feature is a preview and may change in the future. Thanks for being an early adopter!"))};a.displayName="PreviewFeature",e.a=a},2292:function(t,e,n){"use strict";n.r(e),n.d(e,"route",(function(){return i}));var r=n(4),i="/settings/:orgId/projects/:projectId/csp/",o=[{title:"CSP Settings",fields:[{name:"sentry:csp_ignored_sources_defaults",type:"boolean",label:Object(r.b)("Use default ignored sources"),help:Object(r.b)("Our default list will attempt to ignore common issues and reduce noise."),getData:function(t){return{options:t}}},{name:"sentry:csp_ignored_sources",type:"string",multiline:!0,autosize:!0,placeholder:"e.g.\nfile://*\n*.example.com\nexample.com",label:Object(r.b)("Additional ignored sources"),help:Object(r.b)("Discard reports about requests from the given sources. Separate multiple entries with a newline."),extraHelp:Object(r.b)("Separate multiple entries with a newline."),getData:function(t){return{options:t}}}]}];e.default=o},2891:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return x}));var r=n(9),i=n.n(r),o=n(10),c=n.n(o),a=n(12),s=n.n(a),u=n(13),l=n.n(u),f=n(5),p=n.n(f),d=(n(1),n(165)),y=n(4),h=n(428),b=n(2008),v=n(58),j=n(2013),O=n(2012),m=n(2200),g=n(2146),P=n(2009),k=n(2292),S=n(2010),R=n(0);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var x=function(t){s()(n,t);var e=w(n);function n(){return i()(this,n),e.apply(this,arguments)}return c()(n,[{key:"getEndpoints",value:function(){var t=this.props.params,e=t.orgId,n=t.projectId;return[["keyList","/projects/".concat(e,"/").concat(n,"/keys/")],["project","/projects/".concat(e,"/").concat(n,"/")]]}},{key:"getTitle",value:function(){var t=this.props.params.projectId;return Object(S.a)(Object(y.b)("Content Security Policy (CSP)"),t,!1)}},{key:"getInstructions",value:function(){return"def middleware(request, response):\n    response['Content-Security-Policy'] = \\\n        \"default-src *; \" \\\n        \"script-src 'self' 'unsafe-eval' 'unsafe-inline' cdn.example.com cdn.ravenjs.com; \" \\\n        \"style-src 'self' 'unsafe-inline' cdn.example.com; \" \\\n        \"img-src * data:; \" \\\n        \"report-uri "+Object(g.b)(this.state.keyList)+'"\n    return response\n'}},{key:"getReportOnlyInstructions",value:function(){return"def middleware(request, response):\n    response['Content-Security-Policy-Report-Only'] = \\\n        \"default-src 'self'; \" \\\n        \"report-uri "+Object(g.b)(this.state.keyList)+'"\n    return response\n'}},{key:"renderBody",value:function(){var t=this.props.params,e=t.orgId,n=t.projectId;return Object(R.f)("div",null,Object(R.f)(P.a,{title:Object(y.b)("Content Security Policy")}),Object(R.f)(m.a,null),Object(R.f)(g.a,{keyList:this.state.keyList,params:this.props.params}),Object(R.f)(j.a,{saveOnBlur:!0,apiMethod:"PUT",initialData:this.state.project.options,apiEndpoint:"/projects/".concat(e,"/").concat(n,"/")},Object(R.f)(h.a,{access:["project:write"]},(function(t){var e=t.hasAccess;return Object(R.f)(O.a,{disabled:!e,forms:k.default})}))),Object(R.f)(d.a,null,Object(R.f)(d.e,null,Object(y.b)("About")),Object(R.f)(d.c,{withPadding:!0},Object(R.f)("p",null,Object(y.c)("[link:Content Security Policy]\n            (CSP) is a security standard which helps prevent cross-site scripting (XSS),\n            clickjacking and other code injection attacks resulting from execution of\n            malicious content in the trusted web page context. It's enforced by browser\n            vendors, and Sentry supports capturing CSP violations using the standard\n            reporting hooks.",{link:Object(R.f)(v.a,{href:"https://en.wikipedia.org/wiki/Content_Security_Policy"})})),Object(R.f)("p",null,Object(y.c)("To configure [csp:CSP] reports\n              in Sentry, you'll need to send a header from your server describing your\n              policy, as well specifying the authenticated Sentry endpoint.",{csp:Object(R.f)("acronym",{title:"Content Security Policy"})})),Object(R.f)("p",null,Object(y.b)("For example, in Python you might achieve this via a simple web middleware")),Object(R.f)("pre",null,this.getInstructions()),Object(R.f)("p",null,Object(y.b)("Alternatively you can setup CSP reports to simply send reports rather than\n              actually enforcing the policy")),Object(R.f)("pre",null,this.getReportOnlyInstructions()),Object(R.f)("p",null,Object(y.c)("We recommend setting this up to only run on a percentage of requests, as\n              otherwise you may find that you've quickly exhausted your quota. For more\n              information, take a look at [link:the article on html5rocks.com].",{link:Object(R.f)("a",{href:"http://www.html5rocks.com/en/tutorials/security/content-security-policy/"})})))))}}]),n}(b.a)}}]);
//# sourceMappingURL=ProjectCspReports.js.map