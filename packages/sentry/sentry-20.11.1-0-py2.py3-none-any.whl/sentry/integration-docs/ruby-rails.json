{
  "id": "ruby-rails",
  "name": "Rails",
  "html": "<p>In Rails, all uncaught exceptions will be automatically reported.</p>\n<p>We support Rails 4 and newer.</p>\n<h3 id=\"installation\" style=\"position:relative;\">Installation</h3>\n<p>Install the SDK via Rubygems by adding it to your <code>Gemfile</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\">gem <span class=\"token string\">\"sentry-raven\"</span></code></pre></div>\n<h3 id=\"configuration\" style=\"position:relative;\">Configuration</h3>\n<p>Open up <code>config/application.rb</code> and configure the DSN, and any other <a href=\"https://docs.sentry.io/platforms/ruby/guides/rails/configuration/options/\"><em>settings</em></a> you need:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\"><span class=\"token constant\">Raven</span><span class=\"token punctuation\">.</span>configure <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n  config<span class=\"token punctuation\">.</span>dsn <span class=\"token operator\">=</span> <span class=\"token string\">'___PUBLIC_DSN___'</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>If you have added items to <a href=\"https://guides.rubyonrails.org/action_controller_overview.html#parameters-filtering\">Rails\u2019 log filtering</a>, you can also make sure that those items are not sent to Sentry:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\"><span class=\"token comment\"># in your application.rb:</span>\nconfig<span class=\"token punctuation\">.</span>filter_parameters <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token symbol\">:password</span>\n\n<span class=\"token comment\"># in an initializer, like sentry.rb</span>\n<span class=\"token constant\">Raven</span><span class=\"token punctuation\">.</span>configure <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n  config<span class=\"token punctuation\">.</span>sanitize_fields <span class=\"token operator\">=</span> <span class=\"token constant\">Rails</span><span class=\"token punctuation\">.</span>application<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>filter_parameters<span class=\"token punctuation\">.</span>map<span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token symbol\">:to_s</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"params-and-sessions\" style=\"position:relative;\">Params and sessions</h3>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby highlight\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ApplicationController</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">ActionController</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Base</span>\n  before_action <span class=\"token symbol\">:set_raven_context</span>\n\n  <span class=\"token keyword\">private</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">set_raven_context</span></span>\n    <span class=\"token constant\">Raven</span><span class=\"token punctuation\">.</span>user_context<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">:</span> session<span class=\"token punctuation\">[</span><span class=\"token symbol\">:current_user_id</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># or anything else in session</span>\n    <span class=\"token constant\">Raven</span><span class=\"token punctuation\">.</span>extra_context<span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">:</span> params<span class=\"token punctuation\">.</span>to_unsafe_h<span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">:</span> request<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"caveats\" style=\"position:relative;\">Caveats</h3>\n<p>Currently, custom exception applications (<em>config.exceptions</em>app_) are not supported. If you are using a custom exception app, you must manually integrate Raven yourself.</p>",
  "link": "https://docs.sentry.io/platforms/ruby/guides/rails/"
}
