(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[37],{1966:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(10),r=n.n(a),c=n(11),o=n.n(c),i=n(12),l=n.n(i),u=n(13),s=n.n(u),f=n(7),b=n.n(f),d=n(300),p=n.n(d),j=(n(1),n(1967)),O=n(0);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}var v=function(e){l()(n,e);var t=m(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(O.f)(p.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(j.a);v.displayName="AsyncView"},1968:function(e,t,n){"use strict";var a=n(15),r=n.n(a),c=n(10),o=n.n(c),i=n(11),l=n.n(i),u=n(12),s=n.n(u),f=n(13),b=n.n(f),d=n(7),p=n.n(d),j=n(4),O=n(1),m=n.n(O),v=n(8),y=n(239),h=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var R=function(e){s()(n,e);var t=g(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.action,c=e.tabs,o=e.noTitleStyles,i=r()(e,["icon","title","action","tabs","noTitleStyles"]);return Object(h.f)("div",i,Object(h.f)(w,null,t&&Object(h.f)(C,null,t),n&&Object(h.f)(x,{tabs:c,styled:o},Object(h.f)(y.a,null,n)),a&&Object(h.f)(D,{tabs:c},a)),c&&Object(h.f)("div",null,c))}}]),n}(m.a.Component);R.displayName="SettingsPageHeading",R.defaultProps={noTitleStyles:!1};var w=Object(j.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),x=Object(j.a)("div",{target:"e1uay4fd1",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(v.a)(4)," ").concat(Object(v.a)(2)," ").concat(Object(v.a)(2)," 0"):"".concat(Object(v.a)(4)," ").concat(Object(v.a)(2)," ").concat(Object(v.a)(4)," 0")}),";flex:1;"),C=Object(j.a)("div",{target:"e1uay4fd2",label:"Icon"})("margin-right:",Object(v.a)(1),";"),D=Object(j.a)("div",{target:"e1uay4fd3",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(v.a)(2)):null}),";"),k=Object(j.a)(R,{target:"e1uay4fd4",label:"StyledSettingsPageHeading"})("font-size:14px;margin-top:-",Object(v.a)(4),";");t.a=k},2231:function(e,t,n){"use strict";var a=n(5),r=n.n(a),c=n(1),o=n.n(c),i=n(3),l=n(2232),u=n(197),s=n(683),f=n(0),b=Object(f.f)(o.a.Fragment,null,Object(f.f)(l.a,null,Object(i.b)("Do you want to remove this method?")),Object(f.f)(s.a,null,Object(i.b)("Removing the last authentication method will disable two-factor authentication completely."))),d=function(e){return Object(f.f)(u.a,r()({},e,{message:b}))};d.displayName="RemoveConfirm",t.a=d},2232:function(e,t,n){"use strict";var a=n(4),r=Object(a.a)("div",{target:"e1pnf9a40",label:"ConfirmHeader"})({name:"1pihav0",styles:"font-size:1.2em;margin-bottom:10px;"});t.a=r},2976:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n.n(a),c=n(11),o=n.n(c),i=n(12),l=n.n(i),u=n(13),s=n.n(u),f=n(7),b=n.n(f),d=n(4),p=n(2),j=n.n(p),O=n(1),m=n.n(O),v=n(32),y=n(3),h=n(1966),g=n(31),R=n(704),w=n(413),x=n(185),C=n(302),D=n(197),k=n(680),A=n(16),q=n(8),S=n(0);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}var z={name:"1lpqzh6-RecoveryCodes",styles:"display:none;;label:RecoveryCodes;"},P=function(e){l()(n,e);var t=E(n);function n(){var e;r()(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).printCodes=function(){var t=window.frames.printable;t.document.write(e.props.codes.join("<br>")),t.print(),t.document.close()},e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isEnrolled,a=e.codes;if(!n||!a)return null;var r=a.join(" \n");return Object(S.f)(x.a,{className:t},Object(S.f)(x.e,{hasButtons:!0},Object(y.b)("Unused Codes"),Object(S.f)(N,null,Object(S.f)(C.a,{hideUnsupported:!0,value:r},Object(S.f)(g.a,{size:"small",label:Object(y.b)("copy")},Object(S.f)(A.q,null))),Object(S.f)(g.a,{size:"small",onClick:this.printCodes,label:Object(y.b)("print")},Object(S.f)(A.gb,null)),Object(S.f)(g.a,{size:"small",download:"sentry-recovery-codes.txt",href:"data:text/plain;charset=utf-8,".concat(r),label:Object(y.b)("download")},Object(S.f)(A.t,null)),Object(S.f)(D.a,{onConfirm:this.props.onRegenerateBackupCodes,message:Object(y.b)("Are you sure you want to regenerate recovery codes? Your old codes will no longer work.")},Object(S.f)(g.a,{priority:"danger",size:"small"},Object(y.b)("Regenerate Codes"))))),Object(S.f)(x.c,null,Object(S.f)(x.b,{type:"warning"},Object(y.b)("Make sure to save a copy of your recovery codes and store them in a safe place.")),Object(S.f)("div",null,!!a.length&&a.map((function(e){return Object(S.f)(U,{key:e},e)}))),!a.length&&Object(S.f)(k.a,null,Object(y.b)("You have no more recovery codes to use"))),Object(S.f)("iframe",{name:"printable",css:z}))}}]),n}(m.a.Component);P.displayName="RecoveryCodes";var T=Object(d.a)(P,{target:"e1knlcse0"})("margin-top:",Object(q.a)(4),";"),N=Object(d.a)("div",{target:"e1knlcse1",label:"Actions"})("display:grid;grid-auto-flow:column;grid-gap:",Object(q.a)(1),";"),U=Object(d.a)(x.f,{target:"e1knlcse2",label:"Code"})("font-family:",(function(e){return e.theme.text.familyMono}),";padding:",Object(q.a)(2),";"),F=n(2231),B=n(1968),I=n(683),H=n(33),L=n(2232);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}var Y=function(e){l()(n,e);var t=W(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isEnrolled,a=e.devices,r=e.id,c=e.onRemoveU2fDevice;if("u2f"!==r||!n)return null;var o=a&&a.length,i=1===o;return Object(S.f)(x.a,{className:t},Object(S.f)(x.e,null,Object(y.b)("Device name")),Object(S.f)(x.c,null,!o&&Object(S.f)(k.a,null,Object(y.b)("You have not added any U2F devices")),o&&a.map((function(e){return Object(S.f)(J,{key:e.name},Object(S.f)(M,null,Object(S.f)(V,null,e.name),Object(S.f)(_,{date:e.timestamp})),Object(S.f)(G,null,Object(S.f)(D.a,{onConfirm:function(){return c(e)},disabled:i,message:Object(S.f)(m.a.Fragment,null,Object(S.f)(L.a,null,Object(y.b)("Do you want to remove U2F device?")),Object(S.f)(I.a,null,Object(y.b)('Are you sure you want to remove the U2F device "'.concat(e.name,'"?'))))},Object(S.f)(g.a,{size:"small",priority:"danger"},Object(S.f)(H.a,{disabled:!i,title:Object(y.b)("Can not remove last U2F device")},Object(S.f)(A.r,{size:"xs"}))))))})),Object(S.f)(K,null,Object(S.f)(g.a,{type:"button",to:"/settings/account/security/mfa/u2f/enroll/",size:"small"},Object(y.b)("Add Another Device")))))}}]),n}(m.a.Component);Y.displayName="U2fEnrolledDetails";var J=Object(d.a)(x.f,{target:"e12uormx0",label:"DevicePanelItem"})({name:"y8aj3r",styles:"padding:0;"}),M=Object(d.a)("div",{target:"e12uormx1",label:"DeviceInformation"})("display:flex;align-items:center;flex:1;padding:",Object(q.a)(2),";padding-right:0;"),_=Object(d.a)(w.a,{target:"e12uormx2",label:"FadedDateTime"})("font-size:",(function(e){return e.theme.fontSizeRelativeSmall}),";opacity:0.6;"),V=Object(d.a)("div",{target:"e12uormx3",label:"Name"})({name:"1rr4qq7",styles:"flex:1;"}),G=Object(d.a)("div",{target:"e12uormx4",label:"Actions"})("margin:",Object(q.a)(2),";"),K=Object(d.a)(x.f,{target:"e12uormx5",label:"AddAnotherPanelItem"})("justify-content:flex-end;padding:",Object(q.a)(2),";"),Q=Object(d.a)(Y,{target:"e12uormx6"})("margin-top:",Object(q.a)(4),";");function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}var Z="/users/me/authenticators/",$=function(e){l()(n,e);var t=X(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.date;return Object(S.f)(m.a.Fragment,null,Object(S.f)(ae,null,t),Object(S.f)("div",null,n?Object(S.f)(w.a,{date:n}):Object(y.b)("never")))}}]),n}(m.a.Component);$.displayName="AuthenticatorDate";var ee=function(e){l()(n,e);var t=X(n);function n(){var e;r()(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c)))._form={},e.handleRemove=function(t){var n=e.state.authenticator;if(n&&n.authId){var a=!!t,r=a?"".concat(t.key_handle,"/"):"";e.setState({loading:!0},(function(){return e.api.requestPromise("".concat(Z).concat(n.authId,"/").concat(r),{method:"DELETE"}).then((function(){e.props.router.push("/settings/account/security");var n=a?t.name:"Authenticator";Object(v.d)(Object(y.b)("%s has been removed",n))}),(function(){var n=a?t.name:"authenticator";e.addError(Object(y.b)("Error removing %s",n))}))}))}},e}return o()(n,[{key:"getTitle",value:function(){return Object(y.b)("Security")}},{key:"getEndpoints",value:function(){return[["authenticator","".concat(Z).concat(this.props.params.authId,"/")]]}},{key:"addError",value:function(e){this.setState({loading:!1}),Object(v.a)(e)}},{key:"renderBody",value:function(){var e=this.state.authenticator,t=this.props,n=t.deleteDisabled,a=t.onRegenerateBackupCodes;return Object(S.f)("div",null,Object(S.f)(B.a,{title:Object(S.f)(m.a.Fragment,null,Object(S.f)("span",null,e.name),Object(S.f)(te,{enabled:e.isEnrolled})),action:e.isEnrolled&&e.removeButton&&Object(S.f)(H.a,{title:Object(y.b)("Two-factor authentication is required for at least one organization you're a member of."),disabled:!n},Object(S.f)(F.a,{onConfirm:this.handleRemove,disabled:n},Object(S.f)(g.a,{priority:"danger"},e.removeButton)))}),Object(S.f)(I.a,null,e.description),Object(S.f)(ne,null,Object(S.f)($,{label:Object(y.b)("Created at"),date:e.createdAt}),Object(S.f)($,{label:Object(y.b)("Last used"),date:e.lastUsedAt})),Object(S.f)(Q,{isEnrolled:e.isEnrolled,id:e.id,devices:e.devices,onRemoveU2fDevice:this.handleRemove}),e.isEnrolled&&e.phone&&Object(S.f)(re,null,Object(y.b)("Confirmation codes are sent to the following phone number"),":",Object(S.f)(ce,null,e.phone)),Object(S.f)(T,{onRegenerateBackupCodes:a,isEnrolled:e.isEnrolled,codes:e.codes}))}}]),n}(h.a);ee.PropTypes={deleteDisabled:j.a.bool.isRequired,onRegenerateBackupCodes:j.a.func.isRequired};t.default=ee;var te=Object(d.a)(R.a,{target:"e1qcww6q0",label:"AuthenticatorStatus"})("margin-left:",Object(q.a)(1),";"),ne=Object(d.a)("div",{target:"e1qcww6q1",label:"AuthenticatorDates"})("display:grid;grid-gap:",Object(q.a)(2),";grid-template-columns:max-content auto;"),ae=Object(d.a)("span",{target:"e1qcww6q2",label:"DateLabel"})({name:"in3yi3",styles:"font-weight:bold;"}),re=Object(d.a)("div",{target:"e1qcww6q3",label:"PhoneWrapper"})("margin-top:",Object(q.a)(4),";"),ce=Object(d.a)("span",{target:"e1qcww6q4",label:"Phone"})("font-weight:bold;margin-left:",Object(q.a)(1),";")}}]);
//# sourceMappingURL=AccountSecurityDetails.js.map