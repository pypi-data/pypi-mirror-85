(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[77],{1956:function(t,e,n){"use strict";n.r(e),n.d(e,"modalCss",(function(){return q}));var r=n(5),o=n.n(r),a=n(15),c=n.n(a),i=n(1),u=n.n(i),f=n(0),l=n(37),s=n.n(l),d=n(22),b=n.n(d),p=n(29),m=n.n(p),v=n(10),h=n.n(v),g=n(11),j=n.n(g),y=n(12),O=n.n(y),N=n(13),D=n.n(N),S=n(7),w=n.n(S),I=n(4),x=n(102),k=n(32),M=n(3),E=n(54),A=n(49),C=n(2323),_=n(175),z=n(31),G=n(8);function P(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){i=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B(t){var e=[Object(M.b)("Type: %s",t.type)];t.hash&&e.push(Object(M.b)("Hash: %s",t.hash)),t.description&&e.push(Object(M.b)("Description: %s",t.description));var n=[e.join("\n")];return t.component&&n.push(function t(e){if(!e.contributes)return[];var n=e.name,r=e.id,o=e.hint,a=n||r,c=a&&o?"".concat(a," (").concat(o,")"):a,i=c?[c]:[];if(e.values){var u,f=P(e.values);try{for(f.s();!(u=f.n()).done;){var l=u.value;if("string"!=typeof l){var s,d=P(t(l));try{for(d.s();!(s=d.n()).done;){var b=s.value;i.push("  ".concat(b))}}catch(t){d.e(t)}finally{d.f()}}else i.push("  ".concat(l))}}catch(t){f.e(t)}finally{f.f()}}return i}(t.component).join("\n")),n}var L=function(t){return Object.values(t).map(B).flat()};function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D()(this,n)}}var K=function(t){O()(r,t);var e=T(r);function r(){var t;h()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={loading:!0,groupingDiff:!1,baseEvent:[],targetEvent:[],SplitDiffAsync:void 0},t.toggleDiffMode=function(){t.setState((function(t){return{groupingDiff:!t.groupingDiff,loading:!0}}),t.fetchData)},t.fetchEventData=function(){var e=m()(b.a.mark((function e(n,r){var o,a,c,i,u,f,l,s,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.props,a=o.orgId,c=o.project,i=o.api,u=t.state.groupingDiff,f=r,"latest"!==r){e.next=8;break}return e.next=6,i.requestPromise("/issues/".concat(n,"/events/latest/"));case 6:l=e.sent,f=l.eventID;case 8:if(!u){e.next=13;break}return e.next=11,i.requestPromise("/projects/".concat(a,"/").concat(c.slug,"/events/").concat(f,"/grouping-info/"));case 11:return s=e.sent,e.abrupt("return",L(s));case 13:return e.next=15,i.requestPromise("/projects/".concat(a,"/").concat(c.slug,"/events/").concat(f,"/"));case 15:return d=e.sent,e.abrupt("return",Object(C.a)(d));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t}return j()(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this,e=this.props,r=e.baseIssueId,o=e.targetIssueId,a=e.baseEventId,c=e.targetEventId;Promise.all([n.e(222).then(n.bind(null,2944)),this.fetchEventData(r,null!=a?a:"latest"),this.fetchEventData(o,null!=c?c:"latest")]).then((function(e){var n=s()(e,3),r=n[0].default,o=n[1],a=n[2];t.setState({SplitDiffAsync:r,baseEvent:o,targetEvent:a,loading:!1})})).catch((function(){Object(k.a)(Object(M.b)("Error loading events"))}))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.project,r=this.state,o=r.SplitDiffAsync,a=r.loading,c=r.groupingDiff,i=r.baseEvent,u=r.targetEvent,l=n.features.includes("similarity-view-v2");return Object(f.f)(W,{className:e,loading:a},a&&Object(f.f)(A.default,null),!a&&l&&Object(f.f)(F,null,Object(f.f)(_.a,{merged:!0,active:c?"grouping":"event"},Object(f.f)(z.a,{barId:"event",size:"small",onClick:this.toggleDiffMode},Object(M.b)("Diff stacktrace and message")),Object(f.f)(z.a,{barId:"grouping",size:"small",onClick:this.toggleDiffMode},Object(M.b)("Diff grouping information")))),!a&&o&&i.map((function(t,e){var n;return Object(f.f)(o,{key:e,base:t,target:null!==(n=u[e])&&void 0!==n?n:"",type:"words"})})))}}]),r}(u.a.Component);K.displayName="IssueDiff",K.defaultProps={baseEventId:"latest",targetEventId:"latest"};var U=Object(E.a)(K),W=Object(I.a)("div",{shouldForwardProp:function(t){return Object(x.default)(t)&&"loading"!==t},target:"e13n3zub0",label:"StyledIssueDiff"})("background-color:",(function(t){return t.theme.backgroundSecondary}),";overflow:auto;padding:",Object(G.a)(1),";flex:1;display:flex;flex-direction:column;",(function(t){return t.loading&&"\n        background-color: ".concat(t.theme.background,";\n        justify-content: center;\n      ")}),";"),F=Object(I.a)("div",{target:"e13n3zub1",label:"HeaderWrapper"})("display:flex;align-items:center;margin-bottom:",Object(G.a)(2),";"),Y=function(t){var e=t.className,n=t.Body,r=c()(t,["className","Body"]);return Object(f.f)(n,null,Object(f.f)(U,o()({className:e},r)))};Y.displayName="DiffModal";var q={name:"1vh8okv-modalCss",styles:".modal-dialog{display:flex;margin:0;left:10px;right:10px;top:10px;bottom:10px;width:auto;}.modal-content{display:flex;flex:1;}.modal-body{display:flex;overflow:hidden;flex:1;};label:modalCss;"};e.default=Y},2062:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return f}));n(1);var r=n(3),o=n(16),a=n(2148),c=n(0);function i(t){var e=t.split(/^([a-z]:\\|\\\\)/i.test(t)?"\\":"/");return(e[e.length-1]||e[e.length-2]||t).replace(/\.(dylib|so|a|dll|exe)$/,"")}function u(t,e){return t||e}function f(t){var e=t.symbolicatorStatus,n=t.function||"<unknown>",i=Object(c.f)(o.ib,{size:"xs",color:"#2c45a8"}),u=Object(c.f)(o.Kb,{size:"xs",color:"red300"});if(n.match(/^@objc\s/))return[Object(r.b)("Objective-C -> Swift shim frame"),i];if(n.match(/^__?hidden#\d+/))return[Object(r.b)("Hidden function from bitcode build"),u];if(!e&&"<unknown>"===n)return[Object(r.b)("No function name was supplied by the client SDK."),i];if("<unknown>"===n||"<redacted>"===n&&e===a.a.MISSING_SYMBOL)switch(e){case a.a.MISSING_SYMBOL:return[Object(r.b)("The symbol was not found within the debug file."),i];case a.a.UNKNOWN_IMAGE:return[Object(r.b)("No image is specified for the address of the frame."),i];case a.a.MISSING:return[Object(r.b)("The debug file could not be retrieved from any of the sources."),u];case a.a.MALFORMED:return[Object(r.b)("The retrieved debug file could not be processed."),u]}return"<redacted>"===n?[Object(r.b)("Unknown system frame. Usually from beta SDKs"),i]:[null,null]}},2121:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(28),o=n(2062);function a(t){var e="";return Object(r.d)(t.filename)?e+='  File "'+t.filename+'"':Object(r.d)(t.module)?e+='  Module "'+t.module+'"':e+="  ?",Object(r.d)(t.lineNo)&&t.lineNo>=0&&(e+=", line "+t.lineNo),Object(r.d)(t.colNo)&&t.colNo>=0&&(e+=", col "+t.colNo),Object(r.d)(t.function)&&(e+=", in "+t.function),Object(r.d)(t.context)&&t.context.forEach((function(n){n[0]===t.lineNo&&(e+="\n    "+Object(r.w)(n[1]))})),e}function c(t,e){return t+Array(Math.max(0,e-t.length)+1).join(" ")}function i(t,e,n){switch(t.platform&&(n=t.platform),n){case"javascript":return function(t){var e="";return Object(r.d)(t.function)?e+="  at "+t.function+"(":e+="  at ? (",Object(r.d)(t.filename)?e+=t.filename:Object(r.d)(t.module)&&(e+=t.module),Object(r.d)(t.lineNo)&&t.lineNo>=0&&(e+=":"+t.lineNo),Object(r.d)(t.colNo)&&t.colNo>=0&&(e+=":"+t.colNo),e+=")"}(t);case"ruby":return function(t){var e="  from ";return Object(r.d)(t.filename)?e+=t.filename:Object(r.d)(t.module)?e+="("+t.module+")":e+="?",Object(r.d)(t.lineNo)&&t.lineNo>=0&&(e+=":"+t.lineNo),Object(r.d)(t.colNo)&&t.colNo>=0&&(e+=":"+t.colNo),Object(r.d)(t.function)&&(e+=":in `"+t.function+"'"),e}(t);case"php":return function(t,e){var n="null"===t.function?"{main}":t.function;return"#".concat(e," ").concat(t.filename||t.module,"(").concat(t.lineNo,"): ").concat(n)}(t,e);case"python":return a(t);case"java":return function(t){var e="    at";return Object(r.d)(t.module)&&(e+=" "+t.module+"."),Object(r.d)(t.function)&&(e+=t.function),Object(r.d)(t.filename)&&(e+="("+t.filename,Object(r.d)(t.lineNo)&&t.lineNo>=0&&(e+=":"+t.lineNo),e+=")"),e}(t);case"objc":case"cocoa":case"native":return function(t){var e="  ";return Object(r.d)(t.package)&&(e+=c(Object(o.c)(t.package),20)),Object(r.d)(t.instructionAddr)&&(e+=c(t.instructionAddr,12)),e+=" "+(t.function||t.symbolAddr),Object(r.d)(t.filename)&&(e+=" ("+t.filename,Object(r.d)(t.lineNo)&&t.lineNo>=0&&(e+=":"+t.lineNo),e+=")"),e}(t);default:return a(t)}}function u(t,e,n){var r=[];return t.frames.forEach((function(t,n){r.push(i(t,n,e))})),"python"!==e&&r.reverse(),n&&r.unshift(function(t,e){switch(e){case"java":return function(t){var e="".concat(t.type,": ").concat(t.value);return t.module&&(e="".concat(t.module,".").concat(e)),e}(t);default:return t.type+": "+t.value}}(n,e)),r.join("\n")}},2148:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.SYMBOLICATED="symbolicated",t.MISSING_SYMBOL="missing_symbol",t.UNKNOWN_IMAGE="unknown_image",t.MISSING="missing",t.MALFORMED="malformed"}(r||(r={}))},2323:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2121);function o(t){if(!t||!t.entries)return[];var e=t.entries.find((function(t){return"exception"===t.type}));if(!e){var n,o=t.entries.find((function(t){return"message"===t.type}));return o?(null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.formatted)&&[o.data.formatted]:[]}return e.data?e.data.values.filter((function(t){return!!t.stacktrace})).map((function(e){return Object(r.a)(e.stacktrace,t.platform,e)})).reduce((function(t,e){return t.concat(e)}),[]):[]}}}]);
//# sourceMappingURL=DiffModal.js.map