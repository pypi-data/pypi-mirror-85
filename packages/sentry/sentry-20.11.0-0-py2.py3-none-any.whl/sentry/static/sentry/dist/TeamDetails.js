(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[196],{1971:function(t,e,a){"use strict";a(1);var n=a(300),r=a.n(n),c=a(0),o=function(t){var e="".concat(t.title," - ").concat(t.objSlug," - Sentry");return Object(c.f)(r.a,{title:e},t.children)};o.displayName="SentryDocumentTitle",e.a=o},1981:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a(689),r=a.n(n),c=a(536);function o(t,e){var a,n,o,s,i=e.routes,u=e.params,d=e.location,m=e.stepBack,l=i.map((function(t){return t.path||""}));"string"!=typeof t?(s=i.indexOf(t)+1,o=r()(l.slice(0,s),(function(t){return"/"===t[0]}))):o=r()(l,(function(t){return"/"===t[0]}));var f=l.slice(o,s);void 0!==m&&(f=f.slice(0,m));var b=null!==(a=null==d?void 0:d.search)&&void 0!==a?a:"",g=null!==(n=null==d?void 0:d.hash)&&void 0!==n?n:"",p="".concat(f.join("")).concat("string"!=typeof t?"":t).concat(b).concat(g);return Object(c.a)(p,u)}},2079:function(t,e,a){"use strict";a.d(e,"b",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"f",(function(){return m})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return f})),a.d(e,"a",(function(){return b})),a.d(e,"e",(function(){return g}));var n=a(144),r=a(3),c=a(32),o=a(161),s=a(55),i=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];s.a.apply(void 0,[t[e]].concat(n))};function u(t,e,a){return n.a.fetchDetails(e.teamId),t.request("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{success:function(t){n.a.fetchDetailsSuccess(e.teamId,t),i(a,"success",t)},error:function(t){n.a.fetchDetailsError(e.teamId,t),i(a,"error",t)}})}function d(t,e){n.a.updateSuccess(t,e)}function m(t,e,a){var r="/teams/".concat(e.orgId,"/").concat(e.teamId,"/");return n.a.update(e.teamId,e.data),t.request(r,{method:"PUT",data:e.data,success:function(t){d(e.teamId,t),i(a,"success",t)},error:function(t){n.a.updateError(e.teamId,t),i(a,"error",t)}})}function l(t,e,a){var r,c="/organizations/".concat(e.orgId,"/members/").concat(null!==(r=e.memberId)&&void 0!==r?r:"me","/teams/").concat(e.teamId,"/"),s=Object(o.a)();return n.a.update(s,e.teamId),t.request(c,{method:"POST",success:function(t){n.a.updateSuccess(e.teamId,t),i(a,"success",t)},error:function(t){n.a.updateError(s,e.teamId,t),i(a,"error",t)}})}function f(t,e,a){var r="/organizations/".concat(e.orgId,"/members/").concat(e.memberId||"me","/teams/").concat(e.teamId,"/"),c=Object(o.a)();return n.a.update(c,e.teamId),t.request(r,{method:"DELETE",success:function(t){n.a.updateSuccess(e.teamId,t),i(a,"success",t)},error:function(t){n.a.updateError(c,e.teamId,t),i(a,"error",t)}})}function b(t,e,a){return n.a.createTeam(e),t.requestPromise("/organizations/".concat(a.orgId,"/teams/"),{method:"POST",data:e}).then((function(t){return n.a.createTeamSuccess(t),Object(c.d)(Object(r.c)("[team] has been added to the [organization] organization",{team:"#".concat(t.slug),organization:a.orgId})),t}),(function(t){throw n.a.createTeamError(e.slug,t),Object(c.a)(Object(r.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(e.slug),organization:a.orgId})),t}))}function g(t,e){return n.a.removeTeam(e.teamId),t.requestPromise("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{method:"DELETE"}).then((function(t){return n.a.removeTeamSuccess(e.teamId,t),Object(c.d)(Object(r.c)("[team] has been removed from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}),(function(t){throw n.a.removeTeamError(e.teamId,t),Object(c.a)(Object(r.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}))}},2892:function(t,e,a){"use strict";a.r(e);var n=a(6),r=a.n(n),c=a(4),o=a(9),s=a(1),i=a.n(s),u=a(25),d=a.n(u),m=a(34),l=a.n(m),f=a(32),b=a(2079),g=a(3),p=a(73),h=a(31),O=a(1971),j=a(306),v=a(221),I=a(198),y=a(49),S=a(414),z=a(310),T=a(1981),q=a(54),P=a(0);function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){r()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var E=l()({displayName:"TeamDetails",mixins:[d.a.listenTo(z.a,"onTeamStoreUpdate")],getInitialState:function(){var t=z.a.getBySlug(this.props.params.teamId);return{loading:!z.a.initialized,error:!1,team:t}},componentDidUpdate:function(t){var e=this.props.params;t.params.teamId===e.teamId&&t.params.orgId===e.orgId||this.fetchData()},onTeamStoreUpdate:function(){var t=z.a.getBySlug(this.props.params.teamId),e=!z.a.initialized,a=!e&&!t;this.setState({team:t,error:a,loading:e})},handleRequestAccess:function(){var t=this,e=this.props,a=e.api,n=e.params,r=this.state.team;r&&(this.setState({requesting:!0}),Object(b.c)(a,{orgId:n.orgId,teamId:r.slug},{success:function(){Object(f.d)(Object(g.c)("You have requested access to [team]",{team:"#".concat(r.slug)})),t.setState({requesting:!1})},error:function(){Object(f.a)(Object(g.c)("Unable to request access to [team]",{team:"#".concat(r.slug)})),t.setState({requesting:!1})}}))},fetchData:function(){this.setState({loading:!0,error:!1}),Object(b.b)(this.props.api,this.props.params)},onTeamChange:function(t){var e=this.state.team;if(t.slug!==e.slug){var a=this.props.params.orgId;o.browserHistory.replace("/organizations/".concat(a,"/teams/").concat(t.slug,"/settings/"))}else this.setState({team:D(D({},e),t)})},render:function(){var t=this.props,e=t.params,a=t.routes,n=t.children,r=this.state.team;if(this.state.loading)return Object(P.f)(y.default,null);if(!r||!r.hasAccess)return Object(P.f)(p.b,{type:"warning"},r?Object(P.f)(A,null,Object(g.c)("You do not have access to the [teamSlug] team.",{teamSlug:Object(P.f)("strong",null,"#".concat(r.slug))}),Object(P.f)(h.a,{disabled:this.state.requesting||r.isPending,size:"small",onClick:this.handleRequestAccess},r.isPending?Object(g.b)("Request Pending"):Object(g.b)("Request Access"))):Object(P.f)("div",null,Object(g.b)("You do not have access to this team.")));if(this.state.error)return Object(P.f)(I.a,{onRetry:this.fetchData});var c=Object(T.a)("",{routes:a,params:e,stepBack:-1});return Object(P.f)("div",null,Object(P.f)(O.a,{title:Object(g.b)("Team Details"),objSlug:e.orgId}),Object(P.f)("h3",null,Object(P.f)(j.a,{hideAvatar:!0,team:r,avatarSize:36})),Object(P.f)(S.a,{underlined:!0},Object(P.f)(v.a,{to:"".concat(c,"members/")},Object(g.b)("Members")),Object(P.f)(v.a,{to:"".concat(c,"projects/")},Object(g.b)("Projects")),Object(P.f)(v.a,{to:"".concat(c,"settings/")},Object(g.b)("Settings"))),n&&i.a.cloneElement(n,{team:r,onTeamChange:this.onTeamChange}))}});e.default=Object(q.a)(E);var A=Object(c.a)("div",{target:"e1r4cseu0",label:"RequestAccessWrapper"})({name:"69i1ev",styles:"display:flex;justify-content:space-between;align-items:center;"})}}]);
//# sourceMappingURL=TeamDetails.js.map