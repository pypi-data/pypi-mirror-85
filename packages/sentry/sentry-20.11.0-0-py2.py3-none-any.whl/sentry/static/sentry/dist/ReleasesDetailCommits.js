(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[182],{2109:function(t,e,r){"use strict";r(1);var n=r(3),o=r(28),i=r(31),c=r(16),a=r(71),s=r(0),u=[{icon:Object(s.f)(c.D,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commit/").concat(r)}},{icon:Object(s.f)(c.e,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commits/").concat(r)}},{icon:Object(s.f)(c.Jb,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commit/").concat(r)}},{icon:Object(s.f)(c.E,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:function(t){var e=t.baseUrl,r=t.commitId;return"".concat(e,"/commit/").concat(r)}}];e.a=function(t){var e=t.inline,r=t.commitId,c=t.repository;if(!r||!c)return Object(s.f)("span",null,Object(n.b)("Unknown Commit"));var l=Object(o.l)(r),f=u.find((function(t){return!!c.provider&&t.providerIds.includes(c.provider.id)}));if(void 0===f)return Object(s.f)("span",null,l);var p=c.url&&f.commitUrl({commitId:r,baseUrl:c.url});return e?Object(s.f)(a.a,{className:"inline-commit",href:p},f.icon," "+l):Object(s.f)(i.a,{external:!0,href:p,size:"small",icon:f.icon},l)}},2146:function(t,e,r){"use strict";var n=r(5),o=r.n(n),i=r(15),c=r.n(i),a=r(10),s=r.n(a),u=r(11),l=r.n(u),f=r(12),p=r.n(f),b=r(13),d=r.n(b),m=r(7),h=r.n(m),v=r(4),y=r(1),O=r.n(y),j=r(100),g=r(185),w=r(3),R=r(177),x=r(2109),k=r(360),D=r(16),S=r(68),P=r(273),I=r(199),C=r(8),U=r(0);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d()(this,r)}}var E=function(t){p()(r,t);var e=z(r);function r(){return s()(this,r),e.apply(this,arguments)}return l()(r,[{key:"renderMessage",value:function(t){return t?t.split(/\n/)[0]:Object(w.b)("No message provided")}},{key:"renderHovercardBody",value:function(t){return Object(U.f)(A,null,Object(w.c)("The email [actorEmail] is not a member of your organization. [inviteUser:Invite] them or link additional emails in [accountSettings:account settings].",{actorEmail:Object(U.f)("strong",null,t.email),accountSettings:Object(U.f)(B,{to:"/settings/account/emails/"}),inviteUser:Object(U.f)(B,{to:"",onClick:function(){return Object(j.h)({initialData:[{emails:new Set([t.email])}],source:"suspect_commit"})}})}))}},{key:"render",value:function(){var t=this.props,e=t.commit,r=t.customAvatar,n=c()(t,["commit","customAvatar"]),i=e.id,a=e.dateCreated,s=e.message,u=e.author,l=e.repository,f=u&&void 0===u.id;return Object(U.f)(g.f,o()({key:i},n),r||(f?Object(U.f)(W,null,Object(U.f)(k.b,{body:this.renderHovercardBody(u)},Object(U.f)(R.a,{size:36,user:u}),Object(U.f)(M,null,Object(U.f)(D.Kb,{size:"xs"})))):Object(U.f)(W,null,Object(U.f)(R.a,{size:36,user:u}))),Object(U.f)(N,null,Object(U.f)(F,null,this.renderMessage(s)),Object(U.f)(L,null,Object(w.c)("[author] committed [timeago]",{author:Object(U.f)("strong",null,u&&u.name||Object(w.b)("Unknown author")),timeago:Object(U.f)(I.a,{date:a})}))),Object(U.f)("div",null,Object(U.f)(x.a,{commitId:i,repository:l})))}}]),r}(O.a.Component);E.displayName="CommitRow";var W=Object(v.a)("div",{target:"eyce8w20",label:"AvatarWrapper"})("align-self:flex-start;margin-right:",Object(C.a)(2),";"),A=Object(v.a)("div",{target:"eyce8w21",label:"EmailWarning"})("font-size:",(function(t){return t.theme.fontSizeSmall}),";line-height:1.4;margin:-4px;"),B=Object(v.a)(S.a,{target:"eyce8w22",label:"StyledLink"})("color:",(function(t){return t.theme.textColor}),";border-bottom:1px dotted ",(function(t){return t.theme.textColor}),";&:hover{color:",(function(t){return t.theme.textColor}),";}"),M=Object(v.a)("span",{target:"eyce8w23",label:"EmailWarningIcon"})("position:relative;top:15px;left:-11px;display:inline-block;line-height:12px;border-radius:50%;border:1px solid ",(function(t){return t.theme.white}),";background:",(function(t){return t.theme.yellow200}),";padding:1px 2px 3px 2px;"),N=Object(v.a)("div",{target:"eyce8w24",label:"CommitMessage"})("flex:1;flex-direction:column;min-width:0;margin-right:",Object(C.a)(2),";"),F=Object(v.a)(P.a,{target:"eyce8w25",label:"Message"})({name:"fg198c",styles:"font-size:15px;line-height:1.1;font-weight:bold;"}),L=Object(v.a)(P.a,{target:"eyce8w26",label:"Meta"})("font-size:13px;line-height:1.5;margin:0;color:",(function(t){return t.theme.subText}),";");e.a=Object(v.a)(E,{target:"eyce8w27"})({name:"zcxndt",styles:"align-items:center;"})},2214:function(t,e,r){"use strict";r(1);var n=r(303),o=r(185),i=r(0),c=function(t){var e=t.withIcon,r=t.children;return Object(i.f)(o.a,null,Object(i.f)(o.c,null,Object(i.f)(n.a,{small:!0,withIcon:e},r)))};c.displayName="EmptyState",e.a=c},2331:function(t,e,r){"use strict";var n=r(6),o=r.n(n),i=r(10),c=r.n(i),a=r(11),s=r.n(a),u=r(12),l=r.n(u),f=r(13),p=r.n(f),b=r(7),d=r.n(b),m=r(4),h=r(1),v=r.n(h),y=r(3),O=r(361),j=r(52),g=r(8),w=r(0);function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d()(t);if(e){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var D=function(t){l()(r,t);var e=k(r);function r(){var t;c()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={},t.dropdownButton=v.a.createRef(),t.handleRepoFilterChange=function(e){var r=t.props,n=r.router,o=r.location;n.push(x(x({},o),{},{query:x(x({},o.query),{},{cursor:void 0,activeRepo:e})}))},t}return s()(r,[{key:"componentDidMount",value:function(){this.setButtonDropDownWidth()}},{key:"setButtonDropDownWidth",value:function(){var t,e,r=null===(t=this.dropdownButton)||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.offsetWidth;r&&this.setState({dropdownButtonWidth:r})}},{key:"render",value:function(){var t=this,e=this.props,r=e.activeRepository,n=e.repositories,o=this.state.dropdownButtonWidth,i=null==r?void 0:r.name;return Object(w.f)(S,{minMenuWidth:o,label:Object(w.f)(v.a.Fragment,null,Object(w.f)(P,null,"".concat(Object(y.b)("Filter"),":")),i),buttonProps:{forwardRef:this.dropdownButton}},n.map((function(t){return t.name})).map((function(e){return Object(w.f)(O.a,{key:e,onSelect:t.handleRepoFilterChange,eventKey:e,isActive:e===i},Object(w.f)(I,null,e))})))}}]),r}(v.a.PureComponent);D.displayName="RepositorySwitcher",e.a=D;var S=Object(m.a)(O.b,{target:"ev1ou9t0",label:"StyledDropdownControl"})("margin-bottom:",Object(g.a)(1),";> *:nth-child(2){right:auto;width:auto;",(function(t){return t.minMenuWidth&&"min-width: calc(".concat(t.minMenuWidth,"px + 10px);")})," border-radius:",(function(t){return t.theme.borderRadius}),";border-top-left-radius:0px;border:1px solid ",(function(t){return t.theme.button.default.border}),";top:calc(100% - 1px);}"),P=Object(m.a)("em",{target:"ev1ou9t1",label:"FilterText"})("font-style:normal;color:",(function(t){return t.theme.gray300}),";margin-right:",Object(g.a)(.5),";"),I=Object(m.a)("div",{target:"ev1ou9t2",label:"RepoLabel"})(j.a)},2380:function(t,e,r){"use strict";var n=r(5),o=r.n(n),i=r(22),c=r.n(i),a=r(29),s=r.n(a),u=r(10),l=r.n(u),f=r(11),p=r.n(f),b=r(12),d=r.n(b),m=r(13),h=r.n(m),v=r(7),y=r.n(v),O=r(1),j=r.n(O),g=r(47),w=r(3),R=r(101),x=r(49),k=r(32),D=r(2263),S=r(31),P=r(16),I=r(680),C=r(185),U=r(0),z=function(t){var e=t.orgId;return Object(U.f)(C.a,{dashedBorder:!0},Object(U.f)(I.a,{icon:Object(U.f)(P.p,{size:"xl"}),title:Object(w.b)("Releases are better with commit data!"),description:Object(w.b)("Connect a repository to see commit info, files changed, and authors involved in future releases."),action:Object(U.f)(S.a,{priority:"primary",to:"/settings/".concat(e,"/repos/")},Object(w.b)("Connect a repository"))}))};z.displayName="NoRepoConnected";var E=z;function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var o=y()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h()(this,r)}}e.a=function(t){var e,r;return r=e=function(e){d()(i,e);var r,n=W(i);function i(){var t;l()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))).state={repositories:[],isLoading:!0},t}return p()(i,[{key:"componentDidMount",value:function(){this.fetchRepositories()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setActiveRepo(t)}},{key:"componentDidUpdate",value:function(t,e){e.repositories.length!==this.state.repositories.length&&this.setActiveRepo(this.props)}},{key:"setActiveRepo",value:function(t){var e,r=this.state,n=r.repositories,o=r.activeRepository;if(n.length){var i,c=null===(e=t.location.query)||void 0===e?void 0:e.activeRepo;if(c){if(c!==(null==o?void 0:o.name)){var a=n.find((function(t){return t.name===c}));a?this.setState({activeRepository:a}):Object(k.a)(Object(w.b)("The repository you were looking for was not found."))}}else this.setState({activeRepository:null!==(i=n[0])&&void 0!==i?i:null})}}},{key:"getEndpoint",value:function(){var t=this.props.params,e=t.release,r=t.orgId,n=this.context.project;return"/projects/".concat(r,"/").concat(n.slug,"/releases/").concat(encodeURIComponent(e),"/repositories/")}},{key:"fetchRepositories",value:(r=s()(c.a.mark((function t(){var e,r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.params,r=e.release,this.setState({isLoading:!0}),t.prev=3,t.next=6,this.props.api.requestPromise(this.getEndpoint());case 6:n=t.sent,this.setState({repositories:n,isLoading:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),g.c(t.t0),Object(k.a)(Object(w.b)("An error occured while trying to fetch the repositories of the release: %s",r));case 14:case"end":return t.stop()}}),t,this,[[3,10]])}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,r=e.isLoading,n=e.activeRepository,i=e.repositories;return r?Object(U.f)(x.default,null):i.length?void 0===n?Object(U.f)(x.default,null):Object(U.f)(t,o()({},this.props,{projectSlug:this.context.project.slug,repositories:i,activeRepository:n})):Object(U.f)(E,{orgId:this.props.params.orgId})}}]),i}(j.a.Component),e.displayName="withRepositories(".concat(Object(R.a)(t),")"),e.contextType=D.ReleaseContext,r}},2917:function(t,e,r){"use strict";r.r(e);var n=r(6),o=r.n(n),i=r(10),c=r.n(i),a=r(11),s=r.n(a),u=r(149),l=r.n(u),f=r(12),p=r.n(f),b=r(13),d=r.n(b),m=r(7),h=r.n(m),v=r(1),y=r.n(v),O=r(2146),j=r(3),g=r(1969),w=r(106),R=r(54),x=r(681),k=r(1966),D=r(185),S=r(2330),P=r(2380),I=r(2331),C=r(2214),U=r(0);function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d()(this,r)}}var A=function(t){p()(r,t);var e=W(r);function r(){return c()(this,r),e.apply(this,arguments)}return s()(r,[{key:"getTitle",value:function(){var t=this.props.params,e=t.orgId;return Object(g.a)(Object(j.b)("Commits - Release %s",Object(w.i)(t.release)),e,!1)}},{key:"getDefaultState",value:function(){return E(E({},l()(h()(r.prototype),"getDefaultState",this).call(this)),{},{commits:[]})}},{key:"getEndpoints",value:function(){var t=this.props,e=t.params,r=t.projectSlug,n=t.activeRepository,o=t.location,i=e.orgId,c=e.release,a=Object(S.c)({location:o,activeRepository:n});return[["commits","/projects/".concat(i,"/").concat(r,"/releases/").concat(encodeURIComponent(c),"/commits/"),{query:a}]]}},{key:"renderContent",value:function(){var t=this.state,e=t.commits,r=t.commitsPageLinks,n=this.props.activeRepository;if(!e.length)return Object(U.f)(C.a,null,n?Object(j.b)("There are no commits associated with this release in the %s repository.",n.name):Object(j.b)("There are no commits associated with this release."));var o=Object(S.a)(e),i=Object(S.e)(Object.keys(o));return Object(U.f)(y.a.Fragment,null,i.map((function(t){var e;return Object(U.f)(D.a,{key:t},Object(U.f)(D.e,null,t),Object(U.f)(D.c,null,null===(e=o[t])||void 0===e?void 0:e.map((function(t){return Object(U.f)(O.a,{key:t.id,commit:t})}))))})),Object(U.f)(x.a,{pageLinks:r}))}},{key:"renderBody",value:function(){var t=this.props,e=t.location,r=t.router,n=t.activeRepository,o=t.repositories;return Object(U.f)(y.a.Fragment,null,o.length>1&&Object(U.f)(I.a,{repositories:o,activeRepository:n,location:e,router:r}),this.renderContent())}}]),r}(k.a);e.default=Object(R.a)(Object(P.a)(A))}}]);
//# sourceMappingURL=ReleasesDetailCommits.js.map