(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[0],{1967:function(e,t,r){"use strict";r.d(t,"a",(function(){return fe}));var n=r(5),o=r.n(n),a=r(15),s=r.n(a),i=r(37),u=r.n(i),c=r(6),l=r.n(c),p=r(10),f=r.n(p),d=r(11),h=r.n(d),y=r(19),m=r.n(y),v=r(12),g=r.n(v),b=r(13),O=r.n(b),j=r(7),R=r.n(j),S=r(63),q=r.n(S),E=r(2),k=r.n(E),w=r(1),D=r.n(w),P=r(47),x=r(358),C=r(58),_=r(3),A=r(22),N=r.n(A),L=r(29),M=r.n(L),T=r(4),W=r(9),F=r(158),I=r.n(F),K=r(416),z=r(49),B=r(0);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R()(e);if(t){var o=R()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O()(this,r)}}var V=function(e){g()(r,e);var t=U(r);function r(){var e;f()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={query:"",busy:!1},e.immediateQuery=function(){var t=M()(N.a.mark((function t(r){var n,o,a,s,i,c,l;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,o=n.location,a=n.api,e.setState({busy:!0}),t.prev=2,t.next=5,a.requestPromise("".concat(e.props.url),{includeAllArgs:!0,method:"GET",query:J(J({},o.query),{},{query:r})});case 5:s=t.sent,i=u()(s,3),c=i[0],l=i[2],e.state.query===r&&e.props.onSuccess(c,l),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.props.onError();case 15:e.setState({busy:!1});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),e.query=I()(e.immediateQuery,e.props.debounceWait),e.handleChange=function(t){e.query(t),e.setState({query:t})},e.handleInputChange=function(t){return e.handleChange(t.target.value)},e.handleSearch=function(t){var r=e.props,n=r.updateRoute,o=r.onSearchSubmit;if(t.preventDefault(),n){var a=e.props,s=a.router,i=a.location;s.push({pathname:i.pathname,query:{query:e.state.query}})}"function"==typeof o&&o(e.state.query,t)},e}return h()(r,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.children,n=e.className,o=this.state,a=o.busy,s=o.query,i=Object(B.f)(Y,{onSubmit:this.handleSearch},Object(B.f)(K.a,{value:s,onChange:this.handleInputChange,className:n,placeholder:t}),a&&Object(B.f)(X,{size:18,hideMessage:!0,mini:!0}));return void 0===r?i:r({defaultSearchBar:i,busy:a,value:s,handleChange:this.handleChange})}}]),r}(D.a.Component);V.displayName="AsyncComponentSearchInput",V.defaultProps={placeholder:Object(_.b)("Search..."),debounceWait:200};var X=Object(T.a)(z.default,{target:"e6xwo0",label:"StyledLoadingIndicator"})({name:"1ne8ree",styles:"position:absolute;right:25px;top:50%;transform:translateY(-13px);"}),Y=Object(T.a)("form",{target:"e6xwo1",label:"Form"})({name:"79elbk",styles:"position:relative;"}),G=W.withRouter(V),Q=r(198),Z=r(300),$=r.n(Z),ee=r(71),te=r(239),re=r(93);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R()(e);if(t){var o=R()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O()(this,r)}}var oe=function(e){g()(r,e);var t=ne(r);function r(){return f()(this,r),t.apply(this,arguments)}return h()(r,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,r=t.organization,n=t.project,o=Object(re.a)(e);P.m((function(e){e.setFingerprint(["Permission Denied",o]),e.setExtra("route",o),e.setExtra("orgFeatures",r&&r.features||[]),e.setExtra("orgAccess",r&&r.access||[]),e.setExtra("projectFeatures",n&&n.features||[]),P.c(new Error("".concat("Permission Denied").concat(o?" : ".concat(o):"")))}))}},{key:"render",value:function(){return Object(B.f)($.a,{title:Object(_.b)("Permission Denied")},Object(B.f)(te.b,null,Object(B.f)(Q.a,{message:Object(_.c)("Your role does not have the necessary permissions to access this\n               resource, please read more about [link:organizational roles]",{link:Object(B.f)(ee.a,{href:"https://docs.sentry.io/learn/membership/"})})})))}}]),r}(D.a.Component);oe.displayName="PermissionDenied",oe.contextTypes={organization:k.a.object,project:k.a.object};var ae=Object(W.withRouter)(oe),se=r(772),ie=r(36);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R()(e);if(t){var o=R()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O()(this,r)}}function pe(e,t){return function(){try{return t.apply(void 0,arguments)}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var fe=function(e){g()(r,e);var t=le(r);function r(e,n){var o;return f()(this,r),(o=t.call(this,e,n)).reloadOnVisible=!1,o.shouldReloadOnVisible=!1,o.shouldReload=!1,o.shouldRenderBadRequests=!1,o.api=new C.a,o._measurement=void 0,o.markShouldMeasure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.remainingRequests,r=e.error;o._measurement.hasMeasured||(o._measurement.finished=0===t,o._measurement.error=r||o._measurement.error)},o.remountComponent=function(){o.shouldReload?o.reloadData():o.setState(o.getDefaultState(),o.fetchData)},o.visibilityReloader=function(){return o.shouldReloadOnVisible&&!o.state.loading&&!document.hidden&&o.reloadData()},o.fetchData=function(e){var t=o.getEndpoints();t.length?(o.api.clear(),o.setState(ce({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=u()(e,4),r=t[0],n=t[1],a=t[2],s=t[3];s=s||{};var i=o.props.location&&o.props.location.query||{},c=a&&a.query||{};(s.paginate||i.cursor)&&(c=ce(ce({},i),c)),o.api.request(n,ce(ce({method:"GET"},a),{},{query:c,success:function(e,t,n){o.handleRequestSuccess({stateKey:r,data:e,jqXHR:n},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),o.handleError(e,[r,n,a,s])}}))}))):o.setState({loading:!1,error:!1})},o.fetchData=pe(m()(o),o.fetchData.bind(m()(o))),o.render=pe(m()(o),o.render.bind(m()(o))),o.state=o.getDefaultState(),o._measurement={hasMeasured:!1},e.routes&&e.routes&&ie.b.mark({name:"async-component-".concat(Object(re.a)(e.routes))}),o}return h()(r,[{key:"UNSAFE_componentWillMount",value:function(){this.api=new C.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){}},{key:"componentDidUpdate",value:function(e,t){var r=!!t.router,n=void 0!==e.location,o=n?this.props.location:r?this.context.router.location:null,a=n?e.location:r?t.router.location:null;if(o&&a){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var s=Object(re.a)(this.props.routes);ie.b.measure({name:"app.component.async-component",start:"async-component-".concat(s),data:{route:s,error:this._measurement.error}}),this._measurement.hasMeasured=!0}q()(this.props.params,e.params)&&o.search===a.search&&o.state===a.state||this.remountComponent()}}},{key:"componentWillUnmount",value:function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)}},{key:"getDefaultState",value:function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var r=u()(e,2),n=r[0];r[1];t[n]=null})),t}},{key:"reloadData",value:function(){this.fetchData({reloading:!0})}},{key:"onRequestSuccess",value:function(e){}},{key:"onRequestError",value:function(e,t){}},{key:"onLoadAllEndpointsSuccess",value:function(){}},{key:"handleRequestSuccess",value:function(e,t){var r=this,n=e.stateKey,o=e.data,a=e.jqXHR;this.setState((function(e){var s,i=(s={},l()(s,n,o),l()(s,"".concat(n,"PageLinks"),a&&a.getResponseHeader("Link")),s);return t&&(i.remainingRequests=e.remainingRequests-1,i.loading=e.remainingRequests>1,i.reloading=e.reloading&&i.loading,r.markShouldMeasure({remainingRequests:i.remainingRequests})),i}),(function(){0!==r.state.remainingRequests||r.state.error||r.onLoadAllEndpointsSuccess()})),this.onRequestSuccess({stateKey:n,data:o,jqXHR:a})}},{key:"handleError",value:function(e,t){var r=this,n=u()(t,1)[0];e&&e.responseText&&P.a({message:e.responseText,category:"xhr",level:x.a.Error}),this.setState((function(t){var o,a=t.remainingRequests>1,s=(o={},l()(o,n,null),l()(o,"errors",ce(ce({},t.errors),{},l()({},n,e))),l()(o,"error",t.error||!!e),l()(o,"remainingRequests",t.remainingRequests-1),l()(o,"loading",a),l()(o,"reloading",t.reloading&&a),o);return r.markShouldMeasure({remainingRequests:s.remainingRequests,error:!0}),s})),this.onRequestError(e,t)}},{key:"getEndpointParams",value:function(){return console.warn("getEndpointParams is deprecated"),{}}},{key:"getEndpoint",value:function(){return console.warn("getEndpoint is deprecated"),null}},{key:"getEndpoints",value:function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]}},{key:"renderSearchInput",value:function(e){var t=this,r=e.stateKey,n=e.url,a=s()(e,["stateKey","url"]),i=this.getEndpoints()||[null],c=u()(i,1)[0],l=r||c&&c[0],p=n||c&&c[1];return Object(B.f)(G,o()({url:p},a,{api:this.api,onSuccess:function(e,r){t.handleRequestSuccess({stateKey:l,data:e,jqXHR:r})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))}},{key:"renderLoading",value:function(){return Object(B.f)(z.default,null)}},{key:"renderError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.state.errors,o=Object.values(n).find((function(e){return e&&401===e.status})),a=Object.values(n).find((function(e){return e&&403===e.status})),s=!!Object.values(n).find((function(e){return e&&0!==e.status}))||t;if(o)return Object(B.f)(Q.a,{message:Object(_.b)("You are not authorized to access this resource.")});if(a)return Object(B.f)(ae,null);if(this.shouldRenderBadRequests){var i=Object.values(n).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(i.length)return Object(B.f)(Q.a,{message:i.join("\n")})}return Object(B.f)(se.a,{error:e,disableLogSentry:!s,disableReport:r})}},{key:"renderComponent",value:function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()}},{key:"renderBody",value:function(){throw new Error("Not implemented")}},{key:"render",value:function(){return this.renderComponent()}}]),r}(D.a.Component);fe.displayName="AsyncComponent",fe.contextTypes={router:k.a.object}}}]);
//# sourceMappingURL=AcceptOrganizationInvite~AcceptProjectTransfer~AccountAuthorizations~AccountClose~AccountDetails~Acc~0a44308f.js.map