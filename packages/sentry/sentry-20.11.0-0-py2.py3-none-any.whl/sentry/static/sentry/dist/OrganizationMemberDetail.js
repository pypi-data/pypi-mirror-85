(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[122],{1966:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(10),r=n.n(a),c=n(11),i=n.n(c),o=n(12),l=n.n(o),s=n(13),u=n.n(s),f=n(7),b=n.n(f),d=n(300),m=n.n(d),p=(n(1),n(1967)),O=n(0);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var h=function(e){l()(n,e);var t=j(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(O.f)(m.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(p.a);h.displayName="AsyncView"},1968:function(e,t,n){"use strict";var a=n(15),r=n.n(a),c=n(10),i=n.n(c),o=n(11),l=n.n(o),s=n(12),u=n.n(s),f=n(13),b=n.n(f),d=n(7),m=n.n(d),p=n(4),O=n(1),j=n.n(O),h=n(8),v=n(239),g=n(0);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var w=function(e){u()(n,e);var t=y(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.action,c=e.tabs,i=e.noTitleStyles,o=r()(e,["icon","title","action","tabs","noTitleStyles"]);return Object(g.f)("div",o,Object(g.f)(R,null,t&&Object(g.f)(S,null,t),n&&Object(g.f)(x,{tabs:c,styled:i},Object(g.f)(v.a,null,n)),a&&Object(g.f)(k,{tabs:c},a)),c&&Object(g.f)("div",null,c))}}]),n}(j.a.Component);w.displayName="SettingsPageHeading",w.defaultProps={noTitleStyles:!1};var R=Object(p.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),x=Object(p.a)("div",{target:"e1uay4fd1",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(h.a)(4)," ").concat(Object(h.a)(2)," ").concat(Object(h.a)(2)," 0"):"".concat(Object(h.a)(4)," ").concat(Object(h.a)(2)," ").concat(Object(h.a)(4)," 0")}),";flex:1;"),S=Object(p.a)("div",{target:"e1uay4fd2",label:"Icon"})("margin-right:",Object(h.a)(1),";"),k=Object(p.a)("div",{target:"e1uay4fd3",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(h.a)(2)):null}),";"),T=Object(p.a)(w,{target:"e1uay4fd4",label:"StyledSettingsPageHeading"})("font-size:14px;margin-top:-",Object(h.a)(4),";");t.a=T},1981:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(689),r=n.n(a),c=n(536);function i(e,t){var n,a,i,o,l=t.routes,s=t.params,u=t.location,f=t.stepBack,b=l.map((function(e){return e.path||""}));"string"!=typeof e?(o=l.indexOf(e)+1,i=r()(b.slice(0,o),(function(e){return"/"===e[0]}))):i=r()(b,(function(e){return"/"===e[0]}));var d=b.slice(i,o);void 0!==f&&(d=d.slice(0,f));var m=null!==(n=null==u?void 0:u.search)&&void 0!==n?n:"",p=null!==(a=null==u?void 0:u.hash)&&void 0!==a?a:"",O="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(m).concat(p);return Object(c.a)(O,s)}},2055:function(e,t,n){"use strict";var a=n(4),r=n(0),c=n(113),i=function(e){return Object(r.e)("display:block;width:1rem;height:1rem;border-radius:50%;background-color:",e.theme.green300,";animation:0.2s ",c.d," ease;opacity:",e.disabled?.4:null,";")},o=Object(a.a)("input",{target:"e1d7o7s40",label:"Radio"})("display:flex;padding:0;width:1.5em;height:1.5em;position:relative;border-radius:50%;align-items:center;justify-content:center;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);background:none;appearance:none;margin:0 !important;&:focus,&.focus-visible{outline:none !important;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}&:checked:after{content:'';",i,"}");o.defaultProps={type:"radio"},t.a=o},2188:function(e,t,n){"use strict";var a=n(22),r=n.n(a),c=n(29),i=n.n(c),o=n(10),l=n.n(o),s=n(11),u=n.n(s),f=n(12),b=n.n(f),d=n(13),m=n.n(d),p=n(7),O=n.n(p),j=n(4),h=n(1),v=n.n(h),g=n(158),y=n.n(g),w=n(30),R=n(185),x=n(16),S=n(3),k=n(31),T=n(197),A=n(309),D=n(418),z=n(680),I=n(68),P=n(8),C=n(54),N=n(0);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=O()(e);if(t){var r=O()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var B=function(e){b()(n,e);var t=M(n);function n(){var e;l()(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={loading:!0,teams:null},e.fetchTeams=y()(function(){var t=i()(r.a.mark((function t(n){var a,c,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.api,i=a.organization,t.next=3,c.requestPromise("/organizations/".concat(i.slug,"/teams/"),{query:{query:n,per_page:w.G}});case 3:o=t.sent,e.setState({teams:o,loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w.h),e.handleQueryUpdate=function(t){e.setState({loading:!0}),e.fetchTeams(t.target.value)},e.handleAddTeam=function(t){var n=e.state.teams.find((function(e){return e.slug===t.value}));e.props.onAddTeam(n)},e.handleRemove=function(t){e.props.onRemoveTeam(t)},e}return u()(n,[{key:"componentDidMount",value:function(){this.fetchTeams()}},{key:"renderTeamAddDropDown",value:function(){var e,t=this.props,n=t.disabled,a=t.selectedTeams,r=t.menuHeader,c=this.state.teams,i=null===c||0===c.length,o=n;return e=i?[]:c.filter((function(e){return!a.includes(e.slug)})).map((function(e){return{value:e.slug,searchKey:e.slug,label:Object(N.f)(L,null,"#",e.slug)}})),Object(N.f)(A.a,{items:e,busyItemsStillVisible:this.state.loading,onChange:this.handleQueryUpdate,onSelect:this.handleAddTeam,emptyMessage:Object(S.b)("No teams"),menuHeader:r,disabled:o,alignMenu:"right"},(function(e){var t=e.isOpen;return Object(N.f)(D.a,{"aria-label":Object(S.b)("Add Team"),isOpen:t,size:"xsmall",disabled:o},Object(S.b)("Add Team"))}))}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.organization,a=t.selectedTeams,r=t.disabled,c=t.confirmLastTeamRemoveMessage;if(0===a.length)return Object(N.f)(z.a,null,Object(S.b)("No Teams assigned"));var i=1===a.length&&c?c:null;return a.map((function(t){return Object(N.f)(q,{key:t,orgId:n.slug,team:t,onRemove:e.handleRemove,disabled:r,confirmMessage:i})}))}},{key:"render",value:function(){return Object(N.f)(R.a,null,Object(N.f)(R.e,{hasButtons:!0},Object(S.b)("Team"),this.renderTeamAddDropDown()),Object(N.f)(R.c,null,this.renderBody()))}}]),n}(v.a.Component);B.displayName="TeamSelect";var q=function(e){var t=e.orgId,n=e.team,a=e.onRemove,r=e.disabled,c=e.confirmMessage;return Object(N.f)(E,null,Object(N.f)(H,{to:"/settings/".concat(t,"/teams/").concat(n,"/")},"#".concat(n)),Object(N.f)(T.a,{message:c,bypass:!c,onConfirm:function(){return a(n)},disabled:r},Object(N.f)(k.a,{size:"xsmall",icon:Object(N.f)(x.xb,{isCircled:!0,size:"xs"}),disabled:r},Object(S.b)("Remove"))))};q.displayName="TeamRow";var L=Object(j.a)("div",{target:"e2fk6ws0",label:"TeamDropdownElement"})("padding:",Object(P.a)(.5)," 0px;text-transform:none;"),E=Object(j.a)(R.f,{target:"e2fk6ws1",label:"TeamPanelItem"})("padding:",Object(P.a)(2),";align-items:center;"),H=Object(j.a)(I.a,{target:"e2fk6ws2",label:"StyledLink"})("flex:1;margin-right:",Object(P.a)(1),";");t.a=Object(C.a)(B)},2284:function(e,t,n){"use strict";var a=n(10),r=n.n(a),c=n(11),i=n.n(c),o=n(12),l=n.n(o),s=n(13),u=n.n(s),f=n(7),b=n.n(f),d=n(4),m=n(1),p=n.n(m),O=n(185),j=n(3),h=n(2055),v=n(683),g=n(0);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var w=Object(d.a)("label",{target:"e1noblkb0",label:"Label"})({name:"muoiou",styles:"display:flex;flex:1;align-items:center;margin-bottom:0;"}),R=function(e){l()(n,e);var t=y(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.enforceAllowed,r=t.roleList,c=t.selectedRole;return Object(g.f)(O.a,null,Object(g.f)(O.e,null,Object(j.b)("Role")),Object(g.f)(O.c,null,r.map((function(t){var r=t.desc,i=t.name,o=t.id,l=t.allowed,s=n||a&&!l;return Object(g.f)(O.f,{key:o,onClick:function(){return!s&&e.props.setRole(o)},css:s?{color:"grey",cursor:"default"}:{}},Object(g.f)(w,null,Object(g.f)(h.a,{id:o,value:i,checked:o===c,readOnly:!0}),Object(g.f)("div",{style:{flex:1,padding:"0 16px"}},i,Object(g.f)(v.a,{noMargin:!0},Object(g.f)("div",{className:"help-block"},r)))))}))))}}]),n}(p.a.Component);R.displayName="RoleSelect",t.a=R},2889:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),c=n(22),i=n.n(c),o=n(29),l=n.n(o),s=n(10),u=n.n(s),f=n(11),b=n.n(f),d=n(149),m=n.n(d),p=n(12),O=n.n(p),j=n(13),h=n.n(j),v=n(7),g=n.n(v),y=n(4),w=n(9),R=n(1),x=n.n(R),S=n(47),k=n(185),T=n(32),A=n(685),D=n(436),z=n(364),I=n(3),P=n(1966),C=n(434),N=n(31),M=n(197),B=n(413),q=n(71),L=n(686),E=n(715),H=n(1968),F=n(2188),J=n(33),W=n(1981),G=n(8),Q=n(59),U=n(2284),V=n(0);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}var X=Object(I.b)("Cannot be reset since user is in more than one organization"),Z=Object(I.b)("Not enrolled in two-factor authentication"),$=Object(I.b)("You do not have permission to perform this action"),ee=Object(I.b)("Cannot be reset since two-factor is required for this organization"),te=function(e){O()(n,e);var t=Y(n);function n(){var e;u()(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSave=l()(i.a.mark((function t(){var n,a,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.organization,r=n.params,Object(T.b)(Object(I.b)("Saving...")),e.setState({busy:!0}),t.prev=3,t.next=6,Object(z.e)(e.api,{orgId:a.slug,memberId:r.memberId,data:e.state.member});case 6:Object(T.d)(Object(I.b)("Saved")),e.redirectToMemberPage(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),c=t.t0&&t.t0.responseJSON&&t.t0.responseJSON.detail||Object(I.b)("Could not save..."),Object(T.a)(c);case 14:e.setState({busy:!1});case 15:case"end":return t.stop()}}),t,null,[[3,10]])}))),e.handleInvite=function(){var t=l()(i.a.mark((function t(n){var a,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.organization,c=a.params,Object(T.b)(Object(I.b)("Sending invite...")),e.setState({busy:!0}),t.prev=3,t.next=6,Object(z.d)(e.api,{orgId:r.slug,memberId:c.memberId,regenerate:n});case 6:o=t.sent,Object(T.d)(Object(I.b)("Sent invite!")),n&&e.setState((function(e){return{member:K(K({},e.member),o)}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(T.a)(Object(I.b)("Could not send invite"));case 14:e.setState({busy:!1});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleAddTeam=function(t){var n=e.state.member;n.teams.includes(t.slug)||n.teams.push(t.slug),e.setState({member:n})},e.handleRemoveTeam=function(t){var n=e.state.member;e.setState({member:K(K({},n),{},{teams:n.teams.filter((function(e){return e!==t}))})})},e.handle2faReset=l()(i.a.mark((function t(){var n,a,r,c,o,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.organization,r=n.router,c=e.state.member,o=c.user,l=o.authenticators.map((function(t){return Object(D.c)(e.api,o.id,t.id)})),t.prev=3,t.next=6,Promise.all(l);case 6:r.push("/settings/".concat(a.slug,"/members/")),Object(T.d)(Object(I.b)("All authenticators have been removed")),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),Object(T.a)(Object(I.b)("Error removing authenticators")),S.c(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,10]])}))),e.showResetButton=function(){var t=e.props.organization,n=e.state.member.user;return!(!n||!n.authenticators||t.require2FA)&&(n.authenticators.length>=1&&n.canReset2fa)},e.getTooltip=function(){var t=e.props.organization,n=e.state.member.user;return n?n.authenticators?n.authenticators.length?n.canReset2fa?t.require2FA?ee:"":X:Z:$:""},e}return b()(n,[{key:"getDefaultState",value:function(){return K(K({},m()(g()(n.prototype),"getDefaultState",this).call(this)),{},{roleList:[],selectedRole:"",member:null})}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params;return[["member","/organizations/".concat(t.slug,"/members/").concat(n.memberId,"/")]]}},{key:"redirectToMemberPage",value:function(){var e=this.props,t=e.location,n=e.params,a=e.routes,r=Object(W.a)("members/",{location:t,routes:a,params:n,stepBack:-2});w.browserHistory.push(r)}},{key:"renderBody",value:function(){var e=this,t=this.props.organization,n=this.state.member;if(!n)return Object(V.f)(E.a,null);var a=t.access,r=n.invite_link,c=a.includes("org:write"),i=n.email,o=!n.expired,l=!n.pending;return Object(V.f)(x.a.Fragment,null,Object(V.f)(H.a,{title:Object(V.f)(x.a.Fragment,null,Object(V.f)("div",null,n.name),Object(V.f)(ne,null,Object(I.b)("Member Settings")))}),Object(V.f)(k.a,null,Object(V.f)(k.e,null,Object(I.b)("Basics")),Object(V.f)(k.c,null,Object(V.f)(k.f,null,Object(V.f)(ce,null,Object(V.f)(ae,null,Object(V.f)("div",null,Object(V.f)(re,null,Object(I.b)("Email")),Object(V.f)("div",null,Object(V.f)(q.a,{href:"mailto:".concat(i)},i))),Object(V.f)("div",null,Object(V.f)(re,null,Object(I.b)("Status")),Object(V.f)("div",{"data-test-id":"member-status"},n.expired?Object(V.f)("em",null,Object(I.b)("Invitation Expired")):n.pending?Object(V.f)("em",null,Object(I.b)("Invitation Pending")):Object(I.b)("Active"))),Object(V.f)("div",null,Object(V.f)(re,null,Object(I.b)("Added")),Object(V.f)("div",null,Object(V.f)(B.a,{dateOnly:!0,date:n.dateCreated})))),r&&Object(V.f)(ie,null,Object(V.f)("div",null,Object(V.f)(re,null,Object(I.b)("Invite Link")),Object(V.f)(C.a,null,Object(V.f)(oe,null,r)),Object(V.f)("p",{className:"help-block"},Object(I.b)("This unique invite link may only be used by this member."))),Object(V.f)(le,null,Object(V.f)(N.a,{onClick:function(){return e.handleInvite(!0)}},Object(I.b)("Generate New Invite")),o&&Object(V.f)(N.a,{"data-test-id":"resend-invite",onClick:function(){return e.handleInvite(!1)}},Object(I.b)("Resend Invite")))))))),l&&Object(V.f)(k.a,null,Object(V.f)(k.e,null,Object(I.b)("Authentication")),Object(V.f)(k.c,null,Object(V.f)(L.a,{alignRight:!0,flexibleControlStateSize:!0,label:Object(I.b)("Reset two-factor authentication"),help:Object(I.b)("Resetting two-factor authentication will remove all two-factor authentication methods for this member.")},Object(V.f)(J.a,{"data-test-id":"reset-2fa-tooltip",disabled:this.showResetButton(),title:this.getTooltip()},Object(V.f)(M.a,{disabled:!this.showResetButton(),message:Object(I.c)("Are you sure you want to disable all two-factor authentication methods for [name]?",{name:n.name?n.name:"this member"}),onConfirm:this.handle2faReset,"data-test-id":"reset-2fa-confirm"},Object(V.f)(N.a,{"data-test-id":"reset-2fa",priority:"danger"},Object(I.b)("Reset two-factor authentication"))))))),Object(V.f)(U.a,{enforceAllowed:!1,disabled:!c,roleList:n.roles,selectedRole:n.role,setRole:function(t){return e.setState({member:K(K({},n),{},{role:t})})}}),Object(V.f)(F.a,{organization:t,selectedTeams:n.teams,disabled:!c,onAddTeam:this.handleAddTeam,onRemoveTeam:this.handleRemoveTeam}),Object(V.f)(se,null,Object(V.f)(N.a,{priority:"primary",busy:this.state.busy,onClick:this.handleSave,disabled:!c},Object(I.b)("Save Member"))))}}]),n}(P.a);t.default=Object(Q.a)(te);var ne=Object(y.a)("div",{target:"e4la2im0",label:"ExtraHeaderText"})("color:",(function(e){return e.theme.gray300}),";font-weight:normal;font-size:",(function(e){return e.theme.fontSizeLarge}),";"),ae=Object(y.a)("div",{target:"e4la2im1",label:"Details"})("display:grid;grid-auto-flow:column;grid-template-columns:2fr 1fr 1fr;grid-gap:",Object(G.a)(2),";width:100%;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-auto-flow:row;grid-template-columns:auto;}"),re=Object(y.a)("div",{target:"e4la2im2",label:"DetailLabel"})("font-weight:bold;margin-bottom:",Object(G.a)(.5),";color:",(function(e){return e.theme.textColor}),";"),ce=Object(y.a)("div",{target:"e4la2im3",label:"OverflowWrapper"})({name:"c4alqz",styles:"overflow:hidden;flex:1;"}),ie=Object(y.a)("div",{target:"e4la2im4",label:"InviteSection"})("border-top:1px solid ",(function(e){return e.theme.border}),";margin-top:",Object(G.a)(2),";padding-top:",Object(G.a)(2),";"),oe=Object(y.a)("code",{target:"e4la2im5",label:"CodeInput"})((function(e){return Object(A.a)(e)}),";"),le=Object(y.a)("div",{target:"e4la2im6",label:"InviteActions"})("display:grid;grid-gap:",Object(G.a)(1),";grid-auto-flow:column;justify-content:flex-end;margin-top:",Object(G.a)(2),";"),se=Object(y.a)("div",{target:"e4la2im7",label:"Footer"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"})}}]);
//# sourceMappingURL=OrganizationMemberDetail.js.map