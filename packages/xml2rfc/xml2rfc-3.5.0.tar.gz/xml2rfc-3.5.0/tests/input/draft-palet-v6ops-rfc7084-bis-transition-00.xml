<?xml version="1.0" encoding="US-ASCII"?><?rfc toc="yes"?><?rfc compact="yes"?><?rfc tocdepth="6"?><?rfc symrefs="yes"?><?rfc sortrefs="yes"?><?rfc autobreaks="no"?><?rfc subcompact="no"?><!DOCTYPE rfc SYSTEM "rfc2629.dtd"><rfc category="info" docName="draft-palet-v6ops-rfc7084-bis-transition-00">  <front>    <title abbrev="IPv6 Transition CE Router Requirements">Transition Requirements for IPv6    Customer Edge Routers</title>    <author fullname="Jordi Palet Martinez" initials="J" surname="Palet Martinez">      <organization>Consulintel, S.L.</organization>      <address>        <postal>          <street>Molino de la Navata, 75</street>          <city>La Navata - Galapagar</city>          <region>Madrid</region>          <code>28420</code>          <country>Spain</country>        </postal>        <email>jordi.palet@consulintel.es</email>        <uri>http://www.consulintel.es/</uri>      </address>    </author>    <date year="2017"/>    <workgroup>IPv6 Operations (v6ops)</workgroup>    <keyword>IPv6 transition CE requirements</keyword>    <abstract>      <t>This document specifies the transition requirements for an IPv6 Customer Edge (CE)      router. Specifically, this document extends the "Minimum Requirements for       IPv6-only Customer Edge Routers" (draft-palet-v6ops-rfc7084-bis2)      in order to allow the provisioning of IPv6 transition services for the      hosts attached to it and the support of HNCP (<xref target="RFC7788"/>)       for automated provisioning of downstream routers.       The document covers several transition technologies, either for delivering IPv6 in       IPv4-only access networks and specially for delivering IPv4 "as a service"      as required in a world where IPv4 addresses are no longer available, so hosts       in the customer LANs with IPv4-only or IPv6-only applications or devices, requiring       to communicate with IPv4-only services at the Internet, are able to do so.</t>    </abstract>  </front>  <middle>    <section title="Introduction">      <t>This document defines basic IPv6 transition features for a residential or       small-office router, referred to as an "IPv6 Transition CE router", in order to establish       an industry baseline for dual-stack and transition features to be implemented on       such a router.</t>            <t>These routers are based on draft-palet-v6ops-rfc7084-bis2, so the scope of       this documents is to include also support IPv4, at least in the LAN side.</t>      <t>This document covers the IP transition technologies required when ISPs have       already and IPv4-only access network that they can't turn to dual-stack or       IPv6-only, as well as the situation in a world       where IPv4 addresses are no longer available, so the service providers need to       provision IPv6-only WAN access, while at the same time ensuring that IPv4-only or      IPv6-only devices or applications in the customer LANs can still reach IPv4-only      devices or applications in Internet, which still don't have IPv6 support.</t>      <t>This document specifies the transition mechanisms to be supported by an IPv6       transition CE router, relevant provisioning or configuration information differences       from draft-palet-v6ops-rfc7084-bis2. Automatic provisioning of more complex      topology than a single router with multiple LAN interfaces may be handled by       means of HNCP (<xref target="RFC7788"/>).       In some cases, manual provisioning may be acceptable,       when intended for a small number of customers.</t>      <section title="Requirements Language">        <t>           Take careful note: Unlike other IETF documents, the key words "MUST",           "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",           "RECOMMENDED", "MAY", and "OPTIONAL" in this document are not used as           described in <xref target="RFC2119">RFC 2119</xref>. This document uses            these keywords not           strictly for the purpose of interoperability, but rather for the           purpose of establishing industry-common baseline functionality.  As           such, the document points to several other specifications (preferable           in RFC or stable form) to provide additional guidance to implementers           regarding any protocol implementation required to produce a           successful IPv6 Transition CE router that interoperates successfully with a           particular subset of currently deploying and planned common IPv6           access networks.         </t>                </section>    </section>    <section title="Terminology">      <t>This document uses the same terminology as in draft-palet-v6ops-rfc7084-bis2,       with two minor clarifications.</t>      <t>The term "IPv6 transition Customer Edge Router" is defined       as an "IPv6 Customer Edge Router" that provides transition support to allow       IPv4-IPv6 coexistence either in the WAN, the LAN or both.</t>      <t>The "WAN Interface" term used across this document, means that can also support       link technologies based in Internet-layer (or higher-layers) "tunnels", such as       tunnels over IPv4 or IPv6 itself.</t>	</section>    <section title="Usage Scenarios">      <t>The IPv6 Transition CE router described in this document is expected to be used       typically, in any of the following scenarios:</t>                  <t><list style="numbers">            <t>Residential/household users. Common usage is any kind of Internet access             (web, email, streaming, online gaming, etc.).</t>            <t>Residential with Small Office/Home Office (SOHO). Same usage as for the             first scenario.</t>            <t>Small Office/Home Office (SOHO). Same usage as for the first scenario.</t>            <t>Small and Medium Enterprise (SME). Same usage as for the first scenario.</t>            <t>Residential/household with advanced requirements. Same basic usage             as for the first scenario, however there may be requirements for exporting             services to the WAN (IP cameras, web, DNS, email, VPN, etc.).</t>            <t>Small and Medium Enterprise (SME) with advanced requirements. Same             basic usage as for the first scenario, however there may be requirements for             exporting services to the WAN (IP cameras, web, DNS, email, VPN, etc.).</t>          </list></t>      <t>The above list is not intended to be comprehensive of all the possible usage       scenarios, just the main ones. In fact, combinations of the above usages are also       possible, for example a residential with SOHO and advanced requirements.</t>      <t>The mechanisms for exporting IPv6 services are commonly "naturally" available       in any IPv6 router, as when using GUA, unless they are blocked by firewall rules,       which may require some manual configuration by means of a GUI and/or CLI.</t>            <t>However, in the case of IPv4, because the usage of private addresses and NAT, it       typically requires some degree of manual configuration such as setting up a DMZ,       virtual servers, or port/protocol forwarding. In general, CE routers already       provide GUI and/or CLI to manually configure them, or the possibility to setup the       CE in bridge mode, so another CE behind it, takes care of that. It is out of the       scope of this document the definition of any requirements for that.</t>      <t>The main difference for an IPv6 Transition CE router to support one or several of the above       indicated scenarios, is related to the packet processing capabilities, performance,       even other details such as the number of WAN/LAN interfaces, their maximum speed,       memory for keeping tables or tracking connections, etc. So, it is out of the scope       of this document to classify them.</t>            <t>For example, an SME may have just 10 employees (micro-SME), which commonly will       be considered same as a SOHO, but a small SME can have up to 50 employees, or 250       for a medium one. Depending on the IPv6 Transition CE router capabilities or even how it is       being configured (for instance, using SLAAC or DHCPv6), it may support even a       higher number of employees if the traffic in the LANs is low, or switched by       another device(s), or the WAN bandwidth requirements are low, etc. The actual       bandwidth capabilities of access with technologies such as FTTH, cable and even       3GPP/LTE, allows the support of such usages, and indeed, is a very common situation that       access networks and the IPv6 Transition CE provided by the service provider are the same for SMEs       and residential users.</t>      <t>There is also no difference in terms of who actually provides the IPv6 Transition CE       router. In most of the cases is the service provider, and in fact is responsible,       typically, of provisioning/managing at least the WAN side. However, commonly the       user has access to configure the LAN interfaces, firewall, DMZ, and many other       aspects. In fact, in many cases, the user must supply, or at least can replace the       IPv6 Transition CE router, which makes even more relevant that all the IPv6 Transition CE routers,       support the same requirements defined in this document.</t>            <t>The IPv6 Transition CE router described in this document is not intended for usage in other       scenarios such as bigger Enterprises, Data Centers, Content Providers, etc. So,       even if the documented requirements meet their needs, may have additional       requirements, which are out of the scope of this document.</t>          </section>    <section title="Architecture">      <section title="Current IPv4 End-User Network Architecture">        <t>An end-user network will likely support both IPv4 and IPv6. It is        not expected that an end user will change their existing network        topology with the introduction of IPv6. There are some differences in        how IPv6 works and is provisioned; these differences have implications        for the network architecture. A typical IPv4 end-user network consists        of a "plug and play" router with NAT functionality and a single link        behind it, connected to the service provider network.</t>        <t>A typical IPv4 NAT deployment by default blocks all incoming        connections. Opening of ports is typically allowed using a Universal        Plug and Play Internet Gateway Device (UPnP IGD) <xref        target="UPnP-IGD"></xref> or some other firewall control protocol.</t>        <t>Another consequence of using private address space in the end-user        network is that it provides stable addressing; that is, it never changes        even when you change service providers, and the addresses are always        there even when the WAN interface is down or the customer edge router        has not yet been provisioned.</t>        <t>Many existing routers support dynamic routing (which learns routes            from other routers), and advanced end-users can build arbitrary, complex            networks using manual configuration of address prefixes combined with a            dynamic routing protocol.</t>      </section>      <section title="IPv6 End-User Network Architecture">        <t>The end-user network architecture for IPv6 should provide        equivalent or better capabilities and functionality than the current        IPv4 architecture.</t>        <t>The end-user network is a stub network, in the sense that is not providing         transit to other external networks. However HNCP (<xref target="RFC7788"/>)         allows support for automatic  provisioning of downstream routers.         Figure 1 illustrates the model topology for the end-user network.</t>        <figure align="center" anchor="sp_architecture"                title="An Example of a Typical End-User Network">          <artwork align="left"><![CDATA[                  +---------------+                      \                  |   Service     |                       \                  |   Provider    |                        | Service                  |    Router     |                        | Provider                  +-------+-------+                        | Network                          |                               /                          | Customer                     /                          | Internet Connection         /                          |                                               +------+--------+                    \                   |     IPv6      |                     \                   | Customer Edge |                      \                   |    Router     |                      /                   +---+-------+---+                     /       Network A       |       |   Network B            |  ---+----------------+-+-    --+---+-------------+--    |    |                |             |             |       \+---+------+         |        +----+-----+ +-----+----+   \|IPv6 Host |         |        | IPv4 Host| |IPv4/IPv6 |   /|          |         |        |          | | Host     |  /+----------+         |        +----------+ +----------+ /                     |                                 |              +------+--------+                        | End-User              |     IPv6      |                        | Network(s)              |    Router     |                         \              +------+--------+                          \       Network C     |                                    \ ---+-------------+--+---                                  |    |             |                                        |+---+------+ +----+-----+                                  ||IPv6 Host | |IPv6 Host |                                 /|          | |          |                                /+----------+ +----------+                               /            ]]></artwork>        </figure>        <t>This architecture describes the:<list style="symbols">            <t>Basic capabilities of an IPv6 Transition CE router</t>            <t>Provisioning of the WAN interface connecting to the service            provider</t>            <t>Provisioning of the LAN interfaces</t>          </list></t>        <t>As indicated in draft-palet-v6ops-rfc7084-bis2, for IPv6 multicast traffic,         the IPv6 Transition CE router may act as a        Multicast Listener Discovery (MLD) proxy <xref        target="RFC4605"/> and may support a dynamic multicast routing        protocol.</t>        <t>The IPv6 Transition CE router may be manually configured in an arbitrary        topology with a dynamic routing protocol or using HNCP (<xref target="RFC7788"/>).         Automatic provisioning and        configuration is described for a single IPv6 Transition CE router only.</t>        <section title="Local Communication">          <t>Section 3.2.1 from draft-palet-v6ops-rfc7084-bis2 apply here without changes.</t>          <t>Coexistence with IPv4 requires any IPv6 Transition CE router(s) on the LAN          to conform to these recommendations, especially requirements ULA-5          and L-4 from draft-palet-v6ops-rfc7084-bis2.</t>        </section>      </section>    </section>    <section title="Requirements">      <section title="General Requirements">        <t>The IPv6 Transition CE router must comply with the general requirements stated         in draft-palet-v6ops-rfc7084-bis2.</t>      </section>      <section title="WAN-Side Configuration">        <t>The IPv6 Transition CE router must comply with WAN-Side Configuration as stated         in draft-palet-v6ops-rfc7084-bis2.</t>              </section>      <section title="LAN-Side Configuration">        <t>The IPv6 Transition CE router must comply with LAN-Side Configuration as stated         in draft-palet-v6ops-rfc7084-bis2.</t>        <t>In addition, a new LAN Requirement is:</t>        	 <t>L-16	The IPv6 CE router SHOULD provide HNCP (Home Networking Control Protocol) 	 services, as specified in <xref target="RFC7788"/>.</t>              </section>          <section title="Transition Technologies Support">		<t>Even if the main target of this document is the support of IPv6-only WAN 		access, for some time, there will be a need to support IPv4-only devices 		and applications in the customers LANs, in one side of the picture. 		In the other side, some Service Providers willing to deploy IPv6, may not be 		able to do so in the first stage, neither as IPv6-only or dual-stack in the WAN. 		Consequently, transition technologies to resolve both issues should be taken 		in consideration.</t>        <section title="IPv4 Service Continuity in Customer LANs">        <section title="464XLAT">          <t>464XLAT <xref target="RFC6877"/> is a technique           to provide IPv4 access service to IPv6-only edge networks           without encapsulation.</t>          <t>The IPv6 Transition CE router SHOULD support CLAT functionality. If 464XLAT is          supported, it MUST be implemented according to <xref target="RFC6877"/>.           The following CE Requirements also apply:</t>          <t>464XLAT requirements: <list style="format 464XLAT-%d:">              <t>The IPv6 Transition CE router MUST perform IPv4 Network Address              Translation (NAT) on IPv4 traffic translated using the CLAT, unless               a dedicated /64 prefix has been acquired using DHCPv6-PD               <xref target="RFC3633"/>.</t>              <t>The IPv6 Transition CE router MUST implement <xref target="RFC7050"/> in order               to discover the PLAT-side translation IPv4 and IPv6 prefix(es)/suffix(es).               In environments with PCP support, the IPv6 Transition CE SHOULD follow               <xref target="RFC7225"/> to learn the PLAT-side translation               IPv4 and IPv6 prefix(es)/suffix(es) used by an upstream PCP-controlled               NAT64 device.</t>              </list></t>        </section>        <section title="Dual-Stack Lite (DS-Lite)">          <t>Dual-Stack Lite <xref target="RFC6333"/> enables both          continued support for IPv4 services and incentives for the          deployment of IPv6. It also de&nbhy;couples IPv6 deployment in the          service provider network from the rest of the Internet, making          incremental deployment easier. Dual-Stack Lite enables a broadband          service provider to share IPv4 addresses among customers by          combining two well-known technologies: IP in IP (IPv4-in-IPv6) and          Network Address Translation (NAT). It is expected that DS-Lite          traffic is forwarded over the IPv6 Transition CE router's native IPv6 WAN interface,          and not encapsulated in another tunnel.</t>          <t>The IPv6 Transition CE router SHOULD implement DS-Lite functionality. If          DS&nbhy;Lite is supported, it MUST be implemented according to <xref          target="RFC6333"/>. This document takes no position on          simultaneous operation of Dual-Stack Lite and native IPv4. The          following IPv6 Transition CE router requirements also apply:</t>          <t>DS-Lite requirements: <list style="format DSLITE-%d:">              <t>The IPv6 Transition CE router MUST support configuration of DS-Lite via the                  DS-Lite DHCPv6 option <xref target="RFC6334"/>.                  The IPv6 Transition CE router MAY use other mechanisms to configure                  DS-Lite parameters. Such mechanisms are outside the scope                  of this document.</t>              <t>The IPv6 Transition CE router MUST support the DHCPv6 S46 priority 				 option described in <xref target="RFC8026"/>.</t>              <t>The IPv6 Transition CE router MUST NOT perform IPv4 Network Address              Translation (NAT) on IPv4 traffic encapsulated using              DS-Lite.</t>              <t>If the IPv6 Transition CE router is configured with an IPv4 address on              its WAN interface, then the IPv6 Transition CE router SHOULD disable the              DS-Lite Basic Bridging BroadBand (B4) element.</t>            </list></t>        </section>          <section title="Lightweight 4over6 (lw4o6)">          <t>Lw4o6 <xref target="RFC7596"/> specifies an extension to DS-Lite,           which moves the NAPT function from the DS-Lite tunnel concentrator to the           tunnel client located in the IPv6 Transition CE router, removing the requirement for a CGN           function in the tunnel concentrator and reducing the amount of centralized           state.</t>          <t>The IPv6 Transition CE router SHOULD implement lw4o6 functionality. If DS-Lite is           implemented, lw4o6 MUST be supported as well. If lw4o6 is supported, it MUST           be implemented according to <xref target="RFC7596"/>. This document takes           no position on simultaneous operation of lw4o6 and native IPv4. The following           IPv6 Transition CE router Requirements also apply:</t>          <t>Lw4o6 requirements: <list style="format LW4O6-%d:">              <t>The IPv6 Transition CE router MUST support configuration of lw4o6 via the                  lw4o6 DHCPv6 options <xref target="RFC7598"/>.                  The IPv6 Transition CE router MAY use other mechanisms to configure                  lw4o6 parameters. Such mechanisms are outside the scope                  of this document.</t>              <t>The IPv6 Transition CE router MUST support the DHCPv6 S46 priority 				 option described in <xref target="RFC8026"/>.</t>              <t>The IPv6 Transition CE router MUST support the DHCPv4-over-DHCPv6 (DHCP 4o6) transport				 described in <xref target="RFC7341"/>.</t>              <t>The IPv6 Transition CE router MAY support Dynamic Allocation of Shared IPv4 Addresses               as described in <xref target="RFC7618"/>.</t>            </list></t>        </section>        <section title="MAP-E">          <t>MAP-E <xref target="RFC7597"/> is a mechanism for transporting IPv4           packets across an IPv6 network using IP encapsulation, including a generic           mechanism for mapping between IPv6 addresses and IPv4 addresses as well as           transport-layer ports.</t>          <t>The IPv6 Transition CE router SHOULD support MAP-E functionality. If MAP-E is          supported, it MUST be implemented according to <xref target="RFC7597"/>.           The following CE Requirements also apply:</t>          <t>MAP-E requirements: <list style="format MAPE-%d:">              <t>The IPv6 Transition CE router MUST support configuration of MAP-E via the                  MAP-E DHCPv6 options <xref target="RFC7598"/>.                  The IPv6 Transition CE router MAY use other mechanisms to configure                  MAP-E parameters. Such mechanisms are outside the scope                  of this document.</t>              <t>The IPv6 Transition CE router MUST support the DHCPv6 S46 priority 				 option described in <xref target="RFC8026"/>.</t>            </list></t>        </section>        <section title="MAP-T">          <t>MAP-T <xref target="RFC7599"/> is a mechanism similar to MAP-E,           differing from it in that MAP-T uses IPv4-IPv6 translation, rather than           encapsulation, as the form of IPv6 domain transport.</t>          <t>The IPv6 Transition CE router SHOULD support MAP-T functionality. If MAP-T is          supported, it MUST be implemented according to <xref target="RFC7599"/>.           The following IPv6 Transition CE Requirements also apply:</t>          <t>MAP-T requirements: <list style="format MAPT-%d:">              <t>The CE router MUST support configuration of MAP-T via the                  MAP-E DHCPv6 options <xref target="RFC7598"/>.                  The IPv6 Transition CE router MAY use other mechanisms to configure                  MAP-E parameters. Such mechanisms are outside the scope                  of this document.</t>              <t>The IPv6 Transition CE router MUST support the DHCPv6 S46 priority 				 option described in <xref target="RFC8026"/>.</t>            </list></t>        </section>        </section>        <section title="Support of IPv6 in IPv4-only WAN access">        <section title="6in4">          <t>6in4 <xref target="RFC4213"/> specifies a tunneling mechanism           to allow end-users to manually configure IPv6 support          via a service provider's IPv4 network infrastructure.</t>          <t>The IPv6 Transition CE router MAY support 6in4 functionality.            6in4 used for a manually configured tunnel requires a subset of the 6rd           parameters (delegated prefix and remote IPv4 end-point). The on-wire and           forwarding plane is identical for both mechanisms, however 6in4 doesn't           support mesh traffic and requires manually provisioning.           Thus, if the device supports either 6rd or 6in4, it's commonly a minor           UI addition to support both. If 6in4 is supported, it MUST be implemented           according to <xref target="RFC4213"/>. The following CE Requirements           also apply:</t>          <t>6in4 requirements: <list style="format 6IN4-%d:">              <t>The IPv6 Transition CE router SHOULD support 6in4 automated configuration by means               of the 6rd DHCPv4 Option 212. If the IPv6 Transition CE router has obtained an IPv4              network address through some other means such as PPP, it SHOULD              use the DHCPINFORM request message <xref target="RFC2131"/> to               request the 6rd DHCPv4 Option. The IPv6 Transition CE router MAY use other mechanisms               to configure 6in4 parameters. Such mechanisms are outside the scope of               this document.</t>              <t>If the IPv6 Transition CE router is capable of automated configuration              of IPv4 through IPCP (i.e., over a PPP connection), it MUST              support user-entered configuration of 6in4.</t>              <t>If the IPv6 Transition CE router supports configuration mechanisms other than the 6rd               DHCPv4 Option 212 (user-entered, TR-069 <xref target="TR-069"/>, etc.),               the IPv6 Transition CE router MUST support 6in4 in "hub and spoke" mode. 6in4 in "hub and              spoke" requires all IPv6 traffic to go to the 6rd Border Relay, which in               this case is the tunnel-end-point.              In effect, this requirement removes the "direct connect to 6rd"              route defined in Section 7.1.1 of <xref target="RFC5969"/>.</t>                            <t>The IPv6 Transition CE router MUST allow 6in4 and native IPv6 WAN interfaces                  to be active alone as well as simultaneously in order to support                  coexistence of the two technologies during an incremental transition                  period such as a transition from 6in4 to native IPv6.              </t>              <t>Each packet sent on a 6in4 or native WAN interface MUST be directed                  such that its source IP address is derived from the delegated prefix                  associated with the particular interface from which the packet                  is being sent (Section 4.3 of <xref target="RFC3704"/>).</t>                            <t>The IPv6 Transition CE router MUST allow different as well as identical delegated prefixes                  to be configured via each (6in4 or native) WAN interface.              </t>              <t>In the event that forwarding rules produce a tie between 6in4 and                  native IPv6, by default, the IPv6 Transition CE router MUST prefer native IPv6.              </t>              </list></t>        </section>        <section title="6rd">          <t>6rd <xref target="RFC5969"/> specifies an automatic          tunneling mechanism tailored to advance deployment of IPv6 to end users          via a service provider's IPv4 network infrastructure. Key          aspects include automatic IPv6 prefix delegation to sites, stateless          operation, simple provisioning, and service that is equivalent to          native IPv6 at the sites that are served by the mechanism. It is          expected that such traffic is forwarded over the IPv6 Transition CE router's native          IPv4 WAN interface and not encapsulated in another tunnel.</t>          <t>The IPv6 Transition CE router MAY support 6rd functionality. If 6rd is          supported, it MUST be implemented according to <xref          target="RFC5969"/>. The following CE Requirements also          apply:</t>          <t>6rd requirements: <list style="format 6RD-%d:">              <t>The IPv6 Transition CE router MUST support 6rd configuration via the 6rd              DHCPv4 Option 212. If the IPv6 Transition CE router has obtained an IPv4              network address through some other means such as PPP, it SHOULD              use the DHCPINFORM request message <xref target="RFC2131"/> to               request the 6rd DHCPv4 Option. The IPv6 Transition CE router MAY use other mechanisms               to configure 6rd parameters. Such mechanisms are outside the scope of               this document.</t>              <t>If the IPv6 Transition CE router is capable of automated configuration              of IPv4 through IPCP (i.e., over a PPP connection), it MUST              support user-entered configuration of 6rd.</t>              <t>If the IPv6 Transition CE router supports configuration mechanisms other than the 6rd               DHCPv4 Option 212 (user-entered, TR-069 <xref target="TR-069"/>, etc.),               the IPv6 Transition CE router MUST support 6rd in "hub and spoke" mode. 6rd in "hub and              spoke" requires all IPv6 traffic to go to the 6rd Border Relay.              In effect, this requirement removes the "direct connect to 6rd"              route defined in Section 7.1.1 of <xref target="RFC5969"/>.</t>              <t>The IPv6 Transition CE router MUST allow 6rd and native IPv6 WAN interfaces                  to be active alone as well as simultaneously in order to support                  coexistence of the two technologies during an incremental transition                  period such as a transition from 6rd to native IPv6.              </t>              <t>Each packet sent on a 6rd or native WAN interface MUST be directed                  such that its source IP address is derived from the delegated prefix                  associated with the particular interface from which the packet                  is being sent (Section 4.3 of <xref target="RFC3704"/>).</t>                            <t>The IPv6 Transition CE router MUST allow different as well as identical delegated prefixes                  to be configured via each (6rd or native) WAN interface.              </t>              <t>In the event that forwarding rules produce a tie between 6rd and                  native IPv6, by default, the IPv6 Transition CE router MUST prefer native IPv6.              </t>            </list></t>        </section>        </section>       </section>      <section title="IPv4 Multicast Support">        <t>Actual deployments support IPv4 multicast for services such as         IPTV. In the transition phase it is expected that multicast services         will still be provided using IPv4 to the customer LANs.</t>        <t>In order to support the delivery of IPv4 multicast services to IPv4         clients over an IPv6 multicast network, the IPv6 Transition CE router SHOULD support         <xref target="RFC8114"/> and <xref target="RFC8115"/>.</t>      </section>      <section title="Security Considerations">        <t>The IPv6 Transition CE router must comply with the Security Considerations as stated         in draft-palet-v6ops-rfc7084-bis2.</t>      </section>    <section anchor="Acknowledgements" title="Acknowledgements">      <t>Thanks to James Woodyatt, Mohamed Boucadair, Masanobu Kawashima,       Mikael Abrahamsson, Barbara Stark, Ole Troan and Brian Carpenter for their review       and comments.</t>    </section>    <section title="ANNEX A: Code Considerations">      <t>One of the apparent main issues for vendors to include new functionalities,       such as support for new transition mechanisms, is the lack of space in the flash       (or equivalent) memory. However, it has been confirmed from existing open source       implementations (OpenWRT/LEDE), that adding the support for the new transitions       mechanisms, requires around 10-12 Kbytes (because most of the code is shared       among several transition mechanisms), which typically means about 0,15% of the       existing code size in popular CEs in the market.</t>            <t>It is also clear that the new requirements don't have extra cost in terms of       RAM memory, neither other hardware requirements such as more powerful CPUs.</t>            <t>The other issue seems to be the cost of developing the code for those new       functionalities. However at the time of writing this document, it has been       confirmed that there are several open source versions of the required code for       supporting the new transition mechanisms, so the development cost is negligent,       and only integration and testing cost may become a minor issue.</t>    </section>      </middle>  <back>      <references title="Normative References"><?rfc include="reference.RFC.2119" ?><?rfc include="reference.RFC.2131" ?><?rfc include="reference.RFC.3633" ?><?rfc include="reference.RFC.3704" ?><?rfc include="reference.RFC.4213" ?>      <?rfc include="reference.RFC.4605" ?><?rfc include="reference.RFC.5969" ?><?rfc include="reference.RFC.6333" ?><?rfc include="reference.RFC.6334" ?><?rfc include="reference.RFC.6877" ?>      <?rfc include="reference.RFC.7050" ?><?rfc include="reference.RFC.7225" ?><?rfc include="reference.RFC.7341" ?><?rfc include="reference.RFC.7596" ?>      <?rfc include="reference.RFC.7597" ?>      <?rfc include="reference.RFC.7598" ?><?rfc include="reference.RFC.7599" ?>      <?rfc include="reference.RFC.7618" ?><?rfc include="reference.RFC.7788" ?><?rfc include="reference.RFC.8026" ?><?rfc include="reference.RFC.8114" ?><?rfc include="reference.RFC.8115" ?>    </references>    <references title="Informative References">       <?rfc rfcedstyle="no" ?><reference anchor='TR-069' target="http://www.broadband-forum.org/technical/trlist.php"><front><title>CPE WAN Management Protocol</title><author initials='' surname='' fullname=''>    <organization> Broadband Forum</organization></author><date month='July' year='2011' /></front><seriesInfo name='TR-069 Amendment' value='4' /></reference>      <reference anchor="UPnP-IGD" target="http://upnp.org/specs/gw/igd2/">        <front>          <title>InternetGatewayDevice:2 Device Template Version 1.01</title>          <author fullname="UPnP Forum" surname="UPnP Forum">            <organization></organization>          </author>          <date month="December" year="2010" />        </front>      </reference><?rfc rfcedstyle="yes"?>    </references>  </back></rfc>