# Nemo config file
# YAML format 
# - use null to return None in Python
# - note that YAML is fussy about large numbers: use e.g. 1.0e+14 for M500MSun (not 1e14)

# Valid units are uK or Jy/sr
# this should be a list of maps at different frequencies
# NOTE: surveyMask is optional
unfilteredMaps:
    - {mapFileName: "maps/Sep2019/TOnly_act_planck_s08_s16_cmb_f150_night_map.fits",
       weightsFileName: "maps/Sep2019/TOnly_act_planck_s08_s16_cmb_f150_night_div.fits",
       obsFreqGHz: 145.3, units: 'uK',
       beamFileName: "Beams/181222/mr3c_s16_pa2_f150_nohwp_night_beam_profile_jitter_cmb_181222.txt"}
    #- {mapFileName: "maps/Sep2019/TOnly_act_planck_s08_s16_cmb_f090_night_map.fits",
       #weightsFileName: "maps/Sep2019/act_planck_s08_s16_cmb_f090_night_div.fits",
       #obsFreqGHz: 94.1, units: 'uK',
       #beamFileName: "Beams/190809/b20190809_s16_pa3_f090_nohwp_night_beam_profile_jitter_cmb.txt"}
    
# Detection/catalog options
# Set useInterpolator; True for sub-pixel flux and SNR measurements
thresholdSigma: 5.0
minObjPix: 1
findCenterOfMass: True
useInterpolator: True
rejectBorder: 0
objIdent: 'ACT-S'
longNames: False

# Filter definitions:
mapFilters:
    - {label: "Beam",
       class: "BeamMatchedFilter",
             params: {noiseParams: {method: "model",
                                    noiseGridArcmin: 40.},
                      saveFilteredMaps: True,
                      outputUnits: 'uK',
                      edgeTrimArcmin: 0.0}}

# Run position recovery test
positionRecoveryTest: False
posRecIterations: 1
posRecSourcesPerTile: 100

# tileDeck options - cut-up each map into smaller sections
makeTileDir: True
makeQuickLookMaps: True
tileOverlapDeg: 1.0
tileDefLabel: 'auto'
tileDefinitions: {mask: 'maps/Sep2019/surveyMask_v7_S16.fits', 
                  targetTileWidthDeg: 10.0, 
                  targetTileHeightDeg: 5.0}

# If this is given, only the named tiles will be processed (useful for testing)
#tileNameList:
    #- '2_3_2'       # set 5
    #- '2_3_3'       # set 5
    #- '1_9_0'       # set 4
    #- '1_9_1'       # set 4
    #- '3_1_1'       # set 3
    #- '3_1_2'       # set 3
    #- '3_0_1'       # set 3
    #- '3_0_2'       # set 3
    #- '1_4_1'       # set 2
    #- '1_4_2'       # set 2
    #- '1_4_3'       # set 2
    #- '1_3_2'       # set 2
    #- '1_3_1'       # set 2
    #- '1_2_2'       # set 2
    #- '1_10_7'      # powerful f150 source; do as set - sensitive to point-source mask threshold
    #- '1_10_8'      # J2327 (next to a source); do as set - sensitive to point-source mask threshold
    #- '2_0_7'       # powerful f150 source
    #- '2_2_8'       # powerful f150 source
    #- '3_0_1'       # powerful f150 source
