.\" Man page generated from reStructuredText.
.
.TH "BOB-JENKINS" "1" "Nov 11, 2020" "0.18.1" "Bob"
.SH NAME
bob-jenkins \- Configure Jenkins server
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
Generic command format:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
bob jenkins [\-h] [\-c NAME] subcommand ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Available sub\-commands:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
bob jenkins add [\-h] [\-n NODES] [\-o OPTIONS] [\-w] [\-p PREFIX] [\-r ROOT]
                [\-D DEFINES] [\-\-keep] [\-\-download] [\-\-upload]
                [\-\-no\-sandbox] [\-\-credentials CREDENTIALS] [\-\-clean]
                [\-\-shortdescription] [\-\-longdescription]
                name url
bob jenkins export [\-h] name dir
bob jenkins graph [\-h] name
bob jenkins ls [\-h] [\-v]
bob jenkins prune [\-h] [\-\-obsolete | \-\-intermediate] [\-\-no\-ssl\-verify]
                  [\-q] [\-v]
                  name
bob jenkins push [\-h] [\-f] [\-\-no\-ssl\-verify] [\-\-no\-trigger] [\-q] [\-v]
                 name
bob jenkins rm [\-h] [\-f] name
bob jenkins set\-options [\-h] [\-\-reset] [\-n NODES] [\-o OPTIONS] [\-p PREFIX]
                        [\-\-add\-root ADD_ROOT] [\-\-del\-root DEL_ROOT]
                        [\-D DEFINES] [\-U UNDEFINES] [\-\-credentials CREDENTIALS]
                        [\-\-keep | \-\-no\-keep] [\-\-download | \-\-no\-download]
                        [\-\-upload | \-\-no\-upload] [\-\-sandbox | \-\-no\-sandbox]
                        [\-\-clean | \-\-incremental] [\-\-autotoken AUTHTOKEN]
                        [\-\-shortdescription]
                        name
bob jenkins set\-url [\-h] name url
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.SH OPTIONS
.INDENT 0.0
.TP
.B \fB\-\-add\-root ADD_ROOT\fP
Add new root package
.TP
.B \fB\-\-authtoken AUTHTOKEN\fP
Add a authentication token to trigger job remotely
.TP
.B \fB\-\-clean\fP
Do clean builds (clear workspace)
.TP
.B \fB\-\-credentials CREDENTIALS\fP
Credentials UUID for SCM checkouts
.TP
.B \fB\-D DEFINES\fP
Override default environment variable
.TP
.B \fB\-\-del\-root DEL_ROOT\fP
Remove existing root package
.TP
.B \fB\-\-download\fP
Download from binary archive
.TP
.B \fB\-f, \-\-force\fP
Overwrite existing jobs
.TP
.B \fB\-\-incremental\fP
Reuse workspace for incremental builds
.TP
.B \fB\-\-intermediate\fP
Delete everything except root jobs
.TP
.B \fB\-\-keep\fP
Keep obsolete jobs by disabling them
.TP
.B \fB\-\-longdescription\fP
Every path to a package will be calculated and displayed in job description
.TP
.B \fB\-n NODES, \-\-nodes NODES\fP
Label for Jenkins Slave
.TP
.B \fB\-\-no\-download\fP
Disable binary archive download
.TP
.B \fB\-\-no\-keep\fP
Delete obsolete jobs
.TP
.B \fB\-\-no\-sandbox\fP
Disable sandboxing
.TP
.B \fB\-\-no\-ssl\-verify\fP
Disable HTTPS certificate checking
.sp
By default only secure connections are allowed to HTTPS Jenkins servers. If
this option is given then any certificate error is ignored. This was the
default before Bob 0.15.
.TP
.B \fB\-\-no\-trigger\fP
Do not trigger build for updated jobs
.TP
.B \fB\-\-no\-upload\fP
Disable binary archive upload
.TP
.B \fB\-o OPTIONS\fP
Set extended Jenkins options. This option expects a \fBkey=value\fP pair to
set one particular extended configuration parameter. May be specified
multiple times. See \fI\%Extended Options\fP for the list of
available options. Setting an empty value deletes the option.
.TP
.B \fB\-\-obsolete\fP
Delete obsolete jobs that are currently not needed according to the
recipes.
.TP
.B \fB\-p PREFIX, \-\-prefix PREFIX\fP
Prefix for jobs
.TP
.B \fB\-q, \-\-quiet\fP
Decrease verbosity (may be specified multiple times)
.TP
.B \fB\-r ROOT, \-\-root ROOT\fP
Root package (may be specified multiple times)
.TP
.B \fB\-\-reset\fP
Reset all options to their default
.TP
.B \fB\-\-sandbox\fP
Enable sandboxing
.TP
.B \fB\-\-shortdescription\fP
Do not calculate every path for every variant.
Leads to short job description: One path for each variant.
.TP
.B \fB\-U UNDEFINES\fP
Undefine environment variable override
.TP
.B \fB\-\-upload\fP
Upload to binary archive
.TP
.B \fB\-v, \-\-verbose\fP
Show additional information
.TP
.B \fB\-w, \-\-windows\fP
Jenkins is running on Windows. Produce cygwin compatible scripts.
.UNINDENT
.SH COMMANDS
.INDENT 0.0
.TP
.B prune
Prune jobs from Jenkins server.
.sp
By default all jobs managed by the Jenkins alias will be deleted. If the
\(aqkeep\(aq option is enabled for this alias you may use the \(aq\-\-obsolete\(aq option
to delete only currently disabled (obsolete) jobs. Alternatively you may
delete all intermediate jobs and keep only the root jobs by using
\(aq\-\-intermediate\(aq. This will disable the root jobs because they cannot run
anyawy without failing.
.UNINDENT
.SH EXTENDED OPTIONS
.sp
The following Jenkins plugin options are available. Any unrecognized options
are ignored.
.INDENT 0.0
.TP
.B artifacts.copy
This options selects the way of sharing archives between workspaces.
Possible values are:
.INDENT 7.0
.TP
.B jenkins
Use copy artifacts pluing to copy result and buildId to jenkins\-master.
The downstream job will afterwards be configured to use copy artifact
plugin again and copy the artifact into it\(aqs workspace. This is the
default.
.TP
.B archive
Only copy the buildID file to to jenkins master and use the binary
archive for sharing artifacts. Must be used together with \fB\-\-upload\fP
and \fB\-\-download\fP\&.
.UNINDENT
.TP
.B jobs.isolate
Regular expression that is matching package names. Any package that is
matched is put into a separate job. Multiple variants of the same package
are still kept in the same job, though.
.sp
This option might be used to single out specific packages into dedicated
Jenkins jobs that are unrelated to other jobs in the recipe. Typical use
cases are documentation and testing \fBmultiPackage\fP that should not
prevent other packages from building if they fail. The obvious draw back is
that common checkout and build steps might be duplicated to multiple jobs,
though.
.TP
.B jobs.policy
Controls how downstream jobs are triggered and which artifacts of the
upstream jobs are used. By default only stable jobs trigger further
downstream builds. The following settings are available:
.INDENT 7.0
.TP
.B stable
Downstream jobs are triggered only if the build was stable. Likewise,
only the artifacts of stable upstream builds are used. This is the
default.
.TP
.B unstable
Downstream jobs are triggered on successful builds, that is stable and
unstable builds. The downstream jobs will also use the last build that
succeeded, even if that build was unstable.
.TP
.B always
Downstream jobs are triggered regardless of the build result, even on
failed builds. The artifacts are taken from the last completed build of
the upstream job which might not necessarily have published one because
it failed before archiving them.
.UNINDENT
.TP
.B jobs.update
Whenever the recipes are changed Bob has to update the individual Jenkins
jobs that are affected by the change. This switch controls how the
description and audit trail information is updated if only these are
affected by the change. Their update may be deferred unless strictly
necessary and still generate a correct build result at the expense of the
freshness of this information.
.INDENT 7.0
.TP
.B always
Always update the description and audit trail information if they
change. This is the default. Note that \fBbob jenkins push\fP will always
update the description because the date and time of the update is part
of the job description.
.TP
.B description
Keep the description up\-to\-date but defer audit trail updates unless
strictly necessary. This may provide marginal speed gains but will
still update all jobs because the description contains the recipe
version and update time.
.TP
.B lazy
Only update a job if it will build a different artifact than before.
The description and audit trail information will be left unchanged
otherwise. This will provide considerable speed improvements at the
expense of an outdated description of the unchanged jobs.
.UNINDENT
.TP
.B scm.git.shallow
Instruct the Jenkins git plugin to create shallow clones with a history
truncated to the specified number of commits. If the parameter is unset
or "0" the full history will be cloned.
.sp
\fBWARNING:\fP
.INDENT 7.0
.INDENT 3.5
Setting this parameter too small may prevent the creation of a proper
change log. Jenkins will not be able to find the reference commit of
the last run if the branch advanced by more commits than were cloned.
.UNINDENT
.UNINDENT
.TP
.B scm.git.timeout
Instruct the Jenkins git plugin to use the given timeout (minutes) for clone
and fetch operations.
.TP
.B scm.ignore\-hooks
Boolean option (possible values: \(aq0\(aq or \(aqfalse\(aq resp. \(aq1\(aq or \(aqtrue\(aq) to set
the "Ignore post\-commit hooks" option on all jobs. This instructs Jenkins
to ignore changes notified by SCM post\-commit hooks if enabled. You should
probably set a sensible polling interval with the \fBscm.poll\fP option
unless you want to trigger the generated jobs manually.
.TP
.B scm.poll
Without this option the Jenkins server is dependent on external commit
hooks to be notified of changes in the source code repositories. While this
is the preferred solution it might be necessary to fall back to polling in
some setups. Set this option to a Jenkins flavoured cron line, e.g.
\fBH/15 * * * *\fP\&.
.TP
.B shared.dir
Any packages that are marked as shared
(\fBshared: True\fP) are installed upon usage on a Jenkins slave in a shared
location. By default this is \fB${JENKINS_HOME}/bob\fP\&. To use another
directory set this option to an absolute path. If you expand Jenkins
environment variables make sure that they follow the syntax of the default
value because the path is also expanded by the Token Macro plugin.
.UNINDENT
.SH AUTHOR
Jan Klötzke
.SH COPYRIGHT
2016-2020, The BobBuildTool Contributors
.\" Generated by docutils manpage writer.
.
