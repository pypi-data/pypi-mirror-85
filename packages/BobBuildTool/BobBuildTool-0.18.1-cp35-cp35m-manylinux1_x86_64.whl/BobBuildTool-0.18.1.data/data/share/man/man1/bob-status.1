.\" Man page generated from reStructuredText.
.
.TH "BOB-STATUS" "1" "Nov 11, 2020" "0.18.1" "Bob"
.SH NAME
bob-status \- Show SCM status
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
bob status [\-h] [\-\-develop | \-\-release] [\-c CONFIGFILE] [\-D DEFINES]
           [\-\-attic] [\-r] [\-\-sandbox | \-\-no\-sandbox] [\-\-show\-clean]
           [\-\-show\-overrides] [\-v]
           [packages [packages ...]]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
Show SCM status of existing workspaces.
.sp
This command is intended to list the status of all checkouts, especially
modifications, in a project. It can be used in two different modes. If the
command is invoked without a package then all workspaces of the project are
scanned for SCM changes. The other mode, when called with at least one
package, shows only the status of the given package(s). In this case the
\fB\-\-develop\fP (default) and \fB\-\-release\fP options may be used to select the
workspaces. Adding \fB\-r\fP scans the dependencies of the given package(s) too.
.SH OPTIONS
.INDENT 0.0
.TP
.B \fB\-\-attic\fP
Consider attic directories too.
.sp
Normally SCMs that were moved to the attic next to the workspace are not
checked. By using this option the attic directories that belong to a
workspace are scanned too.
.sp
\fBATTENTION:\fP
.INDENT 7.0
.INDENT 3.5
Bob versions before 0.15 did not store the locations of the attic
directories in the project. If the project was initially built with an
older version then the attic listing will probably be incomplete. In this
case Bob will print a warning that you should not rely on the output.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \fB\-c CONFIGFILE\fP
Use additional user configuration file. May be given more than once.
.sp
The configuration files have the same syntax as \fBdefault.yaml\fP\&. Their
settings have higher precedence than \fBdefault.yaml\fP, with the last given
configuration file being the highest.
.TP
.B \fB\-D VAR[=VALUE]\fP
Override default environment variable. May be given more than once. If the
optional \fBVALUE\fP is not supplied the variable will be defined to an empty
string.
.TP
.B \fB\-\-develop\fP
Use developer mode. This is the default.
.TP
.B \fB\-\-no\-sandbox\fP
Disable sandboxing
.TP
.B \fB\-r, \-\-recursive\fP
Recursively display dependencies. Only direct dependencies are considered,
i.e. packages that are named in the \fBdepends\fP section of the recipe.
Consumed tool\- and sandbox\- packages that were forwarded are thus not
visited.
.TP
.B \fB\-\-release\fP
Use release mode.
.TP
.B \fB\-\-sandbox\fP
Enable sandboxing
.TP
.B \fB\-\-show\-clean\fP
Show the status of a checkout even if unmodified. This includes
\fB\-\-show\-overrides\fP\&. See \fI\%Verbosity\fP below.
.TP
.B \fB\-\-show\-overrides\fP
Show checkouts that have active configuration\-config\-scmOverrides
(\fBO\fP) even if the SCM is unchanged. Override information is always
displayed if a checkout is shown but a \fBSTATUS\fP line is normally only
emitted if the SCM was modified. Adding \fB\-v\fP will additionally show the
detailed override status. See \fI\%Verbosity\fP below.
.TP
.B \fB\-v, \-\-verbose\fP
Increase verbosity. May be specified multiple times.  See
\fI\%Verbosity\fP below.
.UNINDENT
.SH OUTPUT
.sp
The output of bob status is one line per SCM checkout. Only existing workspaces
are considered. A status line consists of one ore more status codes followed by
the SCM path.
.sp
Status codes can be interpreted as follows:
.INDENT 0.0
.IP \(bu 2
\fB?\fP = missing information. The workspace was created by an older version of
Bob that did not store enough information. The state of the SCM directory
cannot be determined.
.sp
\fBATTENTION:\fP
.INDENT 2.0
.INDENT 3.5
The directory can be in any state with respect to the original checkout.
You should manually inspect it because it might contain unsaved changes.
.UNINDENT
.UNINDENT
.IP \(bu 2
\fBA\fP = attic. The recipe was changed for this checkout or the checkout
is not referenced anymore in the recipe. The SCM path will be moved to
the attic the next time the package is built.
.IP \(bu 2
\fBC\fP = collision. The SCM was not yet checked out but there is an existing
file/directory at the checkout location. The next run of the checkout step
will fail.
.IP \(bu 2
\fBE\fP = error. The SCM state could not be determined. The checkout is
probably messed up. Use \fB\-v\fP to get additional information about the error.
.IP \(bu 2
\fBM\fP = modified. Some sources have been modified and not yet committed to SCM.
.IP \(bu 2
\fBN\fP = new. The SCM was not yet checked out. There might still be an old
checkout at the same location. This is indicated by a simultaneous \fBA\fP flag
(see above).
.IP \(bu 2
\fBO\fP = overridden. This SCM is affected by a
configuration\-config\-scmOverrides\&. Pass \fB\-\-show\-overrides\fP to force
the output of a \fBSTATUS\fP line if the SCM is otherwise unmodified.
.IP \(bu 2
\fBS\fP = switched. The commit/tag/branch/URL is different from the recipe. In
case of submodules the current commit is different from the one tracked in
the parent tree.
.IP \(bu 2
\fBU\fP = unpushed commits on configured branch. Git only. Some commits were made
locally to the configured branch but they have not yet been pushed to the remote.
.IP \(bu 2
\fBu\fP = unpushed commits not on configured branch. Git only. There are commits
on other local branches than the configured branch, on a possibly detached HEAD
or in the stash that have not been pushed to a remote. In case of shallowly
cloned submodules this might be shown incorrectly because there is not enough
information available about the remotes.
.UNINDENT
.sp
The command shows the status of the current checkout. If the recipe was changed and
the next build would move a checkout to the attic then the current information still
refers to the existing checkout.
.SH VERBOSITY
.sp
By default modified checkouts (\fBM\fP and \fBU\fP flags) and mismatches with
respect to the recipes (\fBA\fP, \fBN\fP and \fBS\fP flags) are shown. Exceptional
conditions like a collision (\fBC\fP flag), missing information to determine the
SCM status (\fB?\fP flag) or if there was an error while retrieving the status
(\fBE\fP flag) are always shown too.
.sp
By adding one or more \fB\-v\fP options the display of less important information
can be enabled. The following levels are available:
.INDENT 0.0
.IP \(bu 2
\fB\-v\fP shows a detailed description of all important flags (\fBA\fP, \fBC\fP,
\fBE\fP, \fBM\fP, \fBN\fP, \fBS\fP, \fBU\fP and \fB?\fP). In particular the modified
files and dirty commits of a SCM are listed. This level also shows git
checkouts that have only unpushed commits that are not related to the
configured branch (\fBu\fP flag), but without detailed description.
.IP \(bu 2
\fB\-vv\fP shows the full list of commits related to the \fBu\fP flag. Additionally
the status of SCMs that are not modified is shown, i.e. without flags or only
the \fBO\fP flag. If you want to display this information without
also enabling the detailed descriptions (see above) use \fB\-\-show\-clean\fP or
\fB\-\-show\-overrides\fP\&.
.IP \(bu 2
\fB\-vvv\fP enables the detailed description of the \fBO\fP flag. Additionally
skipped workspaces that do not exist are shown.
.UNINDENT
.SH AUTHOR
Jan Kl√∂tzke
.SH COPYRIGHT
2016-2020, The BobBuildTool Contributors
.\" Generated by docutils manpage writer.
.
