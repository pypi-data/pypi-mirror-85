.\" Man page generated from reStructuredText.
.
.TH "BOB-CLEAN" "1" "Nov 11, 2020" "0.18.1" "Bob"
.SH NAME
bob-clean \- Delete unused src/build/dist paths of release builds
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
bob clean [\-h] [\-\-develop | \-\-release | \-\-attic] [\-c CONFIGFILE]
          [\-D DEFINES] [\-\-dry\-run] [\-f] [\-s] [\-\-sandbox | \-\-no\-sandbox]
          [\-v]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
The \fIbob clean\fP command removes workspace directories from previous
bob\-dev and bob\-build invocations that are not referenced anymore
by the current recipes. It can also remove attic directories that are wasting
precious disk space.
.sp
The command has three modes of operation. By default develop mode related
workspaces are garbage collected. In release mode (\fB\-\-release\fP) workspaces
that were created by \fIbob build\fP are cleaned. Lastly the \fB\-\-attic\fP option
removes attic directories that were created by \fIbob dev\fP\&.
.sp
The identification of the unreferenced workspace directories is based on the
current recipes, user configuration files and environment definitions. You
should therefore pass the same options to \fIbob clean\fP (\fB\-c\fP, \fB\-D\fP) that you
would also pass to \fIbob build\fP resp. \fIbob dev\fP\&. If in doubt use \fB\-\-dry\-run\fP
to see what would be deleted.
.sp
Workspaces that hold source code are never deleted by default. Add the \fB\-s\fP
option to consider these workspace directories too. Bob will still check each
SCM in an unreferenced workspace for mdoifications.  If the SCM checkout has
been modified in any way (e.g. changed or untracked files, unpushed commits)
then the workspace is kept. Use \fB\-f\fP to also delete such workspaces too.
.SH OPTIONS
.INDENT 0.0
.TP
.B \fB\-\-develop\fP
Clean develop mode (\fIbob dev\fP) directories. This is the default.
.TP
.B \fB\-\-release\fP
Clean release mode (\fIbob build\fP) directores.
.TP
.B \fB\-\-attic\fP
Remove attic directories.
.UNINDENT
.INDENT 0.0
.TP
.B \fB\-c CONFIGFILE\fP
Use additional user configuration file. May be given more than once.
.sp
The configuration files have the same syntax as \fBdefault.yaml\fP\&. Their
settings have higher precedence than \fBdefault.yaml\fP, with the last given
configuration file being the highest.
.TP
.B \fB\-D VAR[=VALUE]\fP
Override default environment variable. May be given more than once. If the
optional \fBVALUE\fP is not supplied the variable will be defined to an empty
string.
.TP
.B \fB\-\-dry\-run\fP
Don\(aqt delete, just print what would be deleted.
.TP
.B \fB\-f, \-\-force\fP
Remove source workspaces that have unsaved changes in their SCM(s).
.sp
\fBWARNING:\fP
.INDENT 7.0
.INDENT 3.5
Using this option \fIwill\fP result in data loss if there are unsaved
changes in checkout workspace directories. Use with great care.
.UNINDENT
.UNINDENT
.TP
.B \fB\-s, \-\-src\fP
Clean source workspaces too. By default only build and package workspaces
are considered.
.sp
\fBATTENTION:\fP
.INDENT 7.0
.INDENT 3.5
You should double check with \fB\-\-dry\-run\fP that no unintended workspaces
are actually deleted. While Bob can check SCMs that it knows it cannot
detect all modifications, e.g. changes to extracted tar files.
.UNINDENT
.UNINDENT
.TP
.B \fB\-v, \-\-verbose\fP
Print what is done.
.UNINDENT
.SH AUTHOR
Jan Kl√∂tzke
.SH COPYRIGHT
2016-2020, The BobBuildTool Contributors
.\" Generated by docutils manpage writer.
.
